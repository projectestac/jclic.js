// JClic.js version 0.1.47 (2017-05-16)
// HTML5 player of JClic activities
// (c) 2000-2017 Catalan Educational Telematic Network (XTEC)
// This program can be freely redistributed under the terms of the European Union Public License
// WARNING: You are reading a minimized version of jclic.js. Full source code is freely available at:
// http://projectestac.github.io/jclic.js

!function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[o]={exports:{}};e[o][0].call(u.exports,function(t){var i=e[o][1][t];return r(i||t)},u,u.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,i){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function s(t){var e,i,r,s,o,a,c=t.length;o=n(t),a=new h(3*c/4-o),r=o>0?c-4:c;var l=0;for(e=0,i=0;e<r;e+=4,i+=3)s=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],a[l++]=s>>16&255,a[l++]=s>>8&255,a[l++]=255&s;return 2===o?(s=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,a[l++]=255&s):1===o&&(s=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,a[l++]=s>>8&255,a[l++]=255&s),a}function o(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function a(t,e,i){for(var n,r=[],s=e;s<i;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],r.push(o(n));return r.join("")}function c(t){for(var e,i=t.length,n=i%3,r="",s=[],o=0,c=i-n;o<c;o+=16383)s.push(a(t,o,o+16383>c?c:o+16383));return 1===n?(e=t[i-1],r+=l[e>>2],r+=l[e<<4&63],r+="=="):2===n&&(e=(t[i-2]<<8)+t[i-1],r+=l[e>>10],r+=l[e>>4&63],r+=l[e<<2&63],r+="="),s.push(r),s.join("")}i.byteLength=r,i.toByteArray=s,i.fromByteArray=c;for(var l=[],u=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,p=d.length;f<p;++f)l[f]=d[f],u[d.charCodeAt(f)]=f;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}],2:[function(t,e,i){},{}],3:[function(t,e,i){(function(e){"use strict";var n=t("buffer"),r=n.Buffer,s=n.SlowBuffer,o=n.kMaxLength||2147483647;i.alloc=function(t,e,i){if("function"==typeof r.alloc)return r.alloc(t,e,i);if("number"==typeof i)throw new TypeError("encoding must not be number");if("number"!=typeof t)throw new TypeError("size must be a number");if(t>o)throw new RangeError("size is too large");var n=i,s=e;void 0===s&&(n=void 0,s=0);var a=new r(t);if("string"==typeof s)for(var c=new r(s,n),l=c.length,u=-1;++u<t;)a[u]=c[u%l];else a.fill(s);return a},i.allocUnsafe=function(t){if("function"==typeof r.allocUnsafe)return r.allocUnsafe(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(t>o)throw new RangeError("size is too large");return new r(t)},i.from=function(t,i,n){if("function"==typeof r.from&&(!e.Uint8Array||Uint8Array.from!==r.from))return r.from(t,i,n);if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("string"==typeof t)return new r(t,i);if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var s=i;if(1===arguments.length)return new r(t);void 0===s&&(s=0);var o=n;if(void 0===o&&(o=t.byteLength-s),s>=t.byteLength)throw new RangeError("'offset' is out of bounds");if(o>t.byteLength-s)throw new RangeError("'length' is out of bounds");return new r(t.slice(s,s+o))}if(r.isBuffer(t)){var a=new r(t.length);return t.copy(a,0,0,t.length),a}if(t){if(Array.isArray(t)||"undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return new r(t);if("Buffer"===t.type&&Array.isArray(t.data))return new r(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},i.allocUnsafeSlow=function(t){if("function"==typeof r.allocUnsafeSlow)return r.allocUnsafeSlow(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(t>=o)throw new RangeError("size is too large");return new s(t)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:29}],4:[function(t,e,i){!function(t,i){void 0!==e?e.exports=i():"function"==typeof define&&"object"==typeof define.amd?define(i):this.clipboard=i()}(0,function(){if("undefined"==typeof document||!document.addEventListener)return null;var t={};return t.copy=function(){function t(){i=!1,n=null,r&&window.getSelection().removeAllRanges(),r=!1}function e(){var t=document.getSelection();if(!document.queryCommandEnabled("copy")&&t.isCollapsed){var e=document.createRange();e.selectNodeContents(document.body),t.removeAllRanges(),t.addRange(e),r=!0}}var i=!1,n=null,r=!1;return document.addEventListener("copy",function(t){if(i){for(var e in n)t.clipboardData.setData(e,n[e]);t.preventDefault()}}),function(r){return new Promise(function(s,o){function a(i){try{if(document.execCommand("copy"))t(),s();else{if(i)throw new Error("Unable to copy. Perhaps it's not available in your browser?");e(),a(!0)}}catch(e){t(),o(e)}}i=!0,n="string"==typeof r?{"text/plain":r}:r instanceof Node?{"text/html":(new XMLSerializer).serializeToString(r)}:r,a(!1)})}}(),t.paste=function(){var t,e,i=!1;return document.addEventListener("paste",function(n){if(i){i=!1,n.preventDefault();var r=t;t=null,r(n.clipboardData.getData(e))}}),function(n){return new Promise(function(r,s){i=!0,t=r,e=n||"text/plain";try{document.execCommand("paste")||(i=!1,s(new Error("Unable to paste. Pasting only works in Internet Explorer at the moment.")))}catch(t){i=!1,s(new Error(t))}})}}(),"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData&&(!function(t){function i(t,e){return function(){t.apply(e,arguments)}}function n(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,i(s,this),i(o,this))}function r(t){var e=this;return null===this._state?void this._deferreds.push(t):void u(function(){var i=e._state?t.onFulfilled:t.onRejected;if(null===i)return void(e._state?t.resolve:t.reject)(e._value);var n;try{n=i(e._value)}catch(e){return void t.reject(e)}t.resolve(n)})}function s(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void l(i(e,t),i(s,this),i(o,this))}this._state=!0,this._value=t,a.call(this)}catch(t){o.call(this,t)}}function o(t){this._state=!1,this._value=t,a.call(this)}function a(){for(var t=0,e=this._deferreds.length;e>t;t++)r.call(this,this._deferreds[t]);this._deferreds=null}function c(t,e,i,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=i,this.reject=n}function l(t,e,i){var n=!1;try{t(function(t){n||(n=!0,e(t))},function(t){n||(n=!0,i(t))})}catch(t){if(n)return;n=!0,i(t)}}var u=n.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(t,e){var i=this;return new n(function(n,s){r.call(i,new c(t,e,n,s))})},n.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&h(arguments[0])?arguments[0]:arguments);return new n(function(e,i){function n(s,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,function(t){n(s,t)},i)}t[s]=o,0==--r&&e(t)}catch(t){i(t)}}if(0===t.length)return e([]);for(var r=t.length,s=0;s<t.length;s++)n(s,t[s])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,i){i(t)})},n.race=function(t){return new n(function(e,i){for(var n=0,r=t.length;r>n;n++)t[n].then(e,i)})},void 0!==e&&e.exports?e.exports=n:t.Promise||(t.Promise=n)}(this),t.copy=function(t){return new Promise(function(e,i){if("string"!=typeof t&&!("text/plain"in t))throw new Error("You must provide a text/plain type.");var n="string"==typeof t?t:t["text/plain"];window.clipboardData.setData("Text",n)?e():i(new Error("Copying was rejected."))})},t.paste=function(){return new Promise(function(t,e){var i=window.clipboardData.getData("Text");i?t(i):e(new Error("Pasting was rejected."))})}),t})},{}],5:[function(t,e,i){t("../modules/web.immediate"),e.exports=t("../modules/_core").setImmediate},{"../modules/_core":9,"../modules/web.immediate":25}],6:[function(t,e,i){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],7:[function(t,e,i){var n=t("./_is-object");e.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":20}],8:[function(t,e,i){var n={}.toString;e.exports=function(t){return n.call(t).slice(8,-1)}},{}],9:[function(t,e,i){var n=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},{}],10:[function(t,e,i){var n=t("./_a-function");e.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":6}],11:[function(t,e,i){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":14}],12:[function(t,e,i){var n=t("./_is-object"),r=t("./_global").document,s=n(r)&&n(r.createElement);e.exports=function(t){return s?r.createElement(t):{}}},{"./_global":15,"./_is-object":20}],13:[function(t,e,i){var n=t("./_global"),r=t("./_core"),s=t("./_ctx"),o=t("./_hide"),a=function(t,e,i){var c,l,u,h=t&a.F,d=t&a.G,f=t&a.S,p=t&a.P,g=t&a.B,m=t&a.W,v=d?r:r[e]||(r[e]={}),y=v.prototype,b=d?n:f?n[e]:(n[e]||{}).prototype;d&&(i=e);for(c in i)(l=!h&&b&&void 0!==b[c])&&c in v||(u=l?b[c]:i[c],v[c]=d&&"function"!=typeof b[c]?i[c]:g&&l?s(u,n):m&&b[c]==u?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(u):p&&"function"==typeof u?s(Function.call,u):u,p&&((v.virtual||(v.virtual={}))[c]=u,t&a.R&&y&&!y[c]&&o(y,c,u)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},{"./_core":9,"./_ctx":10,"./_global":15,"./_hide":16}],14:[function(t,e,i){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],15:[function(t,e,i){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],16:[function(t,e,i){var n=t("./_object-dp"),r=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},{"./_descriptors":11,"./_object-dp":21,"./_property-desc":22}],17:[function(t,e,i){e.exports=t("./_global").document&&document.documentElement},{"./_global":15}],18:[function(t,e,i){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":11,"./_dom-create":12,"./_fails":14}],19:[function(t,e,i){e.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},{}],20:[function(t,e,i){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],21:[function(t,e,i){var n=t("./_an-object"),r=t("./_ie8-dom-define"),s=t("./_to-primitive"),o=Object.defineProperty;i.f=t("./_descriptors")?Object.defineProperty:function(t,e,i){if(n(t),e=s(e,!0),n(i),r)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},{"./_an-object":7,"./_descriptors":11,"./_ie8-dom-define":18,"./_to-primitive":24}],22:[function(t,e,i){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],23:[function(t,e,i){var n,r,s,o=t("./_ctx"),a=t("./_invoke"),c=t("./_html"),l=t("./_dom-create"),u=t("./_global"),h=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,g=0,m={},v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){v.call(t.data)};d&&f||(d=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return m[++g]=function(){a("function"==typeof t?t:Function(t),e)},n(g),g},f=function(t){delete m[t]},"process"==t("./_cof")(h)?n=function(t){h.nextTick(o(v,t,1))}:p?(s=(r=new p).port2,r.port1.onmessage=y,n=o(s.postMessage,s,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):n="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),v.call(t)}}:function(t){setTimeout(o(v,t,1),0)}),e.exports={set:d,clear:f}},{"./_cof":8,"./_ctx":10,"./_dom-create":12,"./_global":15,"./_html":17,"./_invoke":19}],24:[function(t,e,i){var n=t("./_is-object");e.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":20}],25:[function(t,e,i){var n=t("./_export"),r=t("./_task");n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},{"./_export":13,"./_task":23}],26:[function(t,e,i){(function(t){function e(t){return Array.isArray?Array.isArray(t):"[object Array]"===m(t)}function n(t){return"boolean"==typeof t}function r(t){return null===t}function s(t){return null==t}function o(t){return"number"==typeof t}function a(t){return"string"==typeof t}function c(t){return"symbol"==typeof t}function l(t){return void 0===t}function u(t){return"[object RegExp]"===m(t)}function h(t){return"object"==typeof t&&null!==t}function d(t){return"[object Date]"===m(t)}function f(t){return"[object Error]"===m(t)||t instanceof Error}function p(t){return"function"==typeof t}function g(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function m(t){return Object.prototype.toString.call(t)}i.isArray=e,i.isBoolean=n,i.isNull=r,i.isNullOrUndefined=s,i.isNumber=o,i.isString=a,i.isSymbol=c,i.isUndefined=l,i.isRegExp=u,i.isObject=h,i.isDate=d,i.isError=f,i.isFunction=p,i.isPrimitive=g,i.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":49}],27:[function(t,e,i){(function(n,r){!function(t,n){"object"==typeof i&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):t.ES6Promise=n()}(this,function(){"use strict";function e(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function s(t){H=t}function o(t){G=t}function a(){return void 0!==W?function(){W(l)}:c()}function c(){var t=setTimeout;return function(){return t(l,1)}}function l(){for(var t=0;t<U;t+=2)(0,X[t])(X[t+1]),X[t]=void 0,X[t+1]=void 0;U=0}function u(t,e){var i=arguments,n=this,r=new this.constructor(d);void 0===r[tt]&&I(r);var s=n._state;return s?function(){var t=i[s-1];G(function(){return _(s,r,t,n._result)})}():S(n,r,t,e),r}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var i=new e(d);return w(i,t),i}function d(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function g(t){try{return t.then}catch(t){return rt.error=t,rt}}function m(t,e,i,n){try{t.call(e,i,n)}catch(t){return t}}function v(t,e,i){G(function(t){var n=!1,r=m(i,e,function(i){n||(n=!0,e!==i?w(t,i):A(t,i))},function(e){n||(n=!0,C(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&r&&(n=!0,C(t,r))},t)}function y(t,e){e._state===it?A(t,e._result):e._state===nt?C(t,e._result):S(e,void 0,function(e){return w(t,e)},function(e){return C(t,e)})}function b(t,e,n){e.constructor===t.constructor&&n===u&&e.constructor.resolve===h?y(t,e):n===rt?(C(t,rt.error),rt.error=null):void 0===n?A(t,e):i(n)?v(t,e,n):A(t,e)}function w(t,i){t===i?C(t,f()):e(i)?b(t,i,g(i)):A(t,i)}function x(t){t._onerror&&t._onerror(t._result),k(t)}function A(t,e){t._state===et&&(t._result=e,t._state=it,0!==t._subscribers.length&&G(k,t))}function C(t,e){t._state===et&&(t._state=nt,t._result=e,G(x,t))}function S(t,e,i,n){var r=t._subscribers,s=r.length;t._onerror=null,r[s]=e,r[s+it]=i,r[s+nt]=n,0===s&&t._state&&G(k,t)}function k(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,r=void 0,s=t._result,o=0;o<e.length;o+=3)n=e[o],r=e[o+i],n?_(i,n,r,s):r(s);t._subscribers.length=0}}function E(){this.error=null}function T(t,e){try{return t(e)}catch(t){return st.error=t,st}}function _(t,e,n,r){var s=i(n),o=void 0,a=void 0,c=void 0,l=void 0;if(s){if(o=T(n,r),o===st?(l=!0,a=o.error,o.error=null):c=!0,e===o)return void C(e,p())}else o=r,c=!0;e._state!==et||(s&&c?w(e,o):l?C(e,a):t===it?A(e,o):t===nt&&C(e,o))}function B(t,e){try{e(function(e){w(t,e)},function(e){C(t,e)})}catch(e){C(t,e)}}function P(){return ot++}function I(t){t[tt]=ot++,t._state=void 0,t._result=void 0,t._subscribers=[]}function R(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[tt]||I(this.promise),z(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):C(this.promise,M())}function M(){return new Error("Array Methods must be provided an Array")}function O(t){return new R(this,t).promise}function N(t){var e=this;return new e(z(t)?function(i,n){for(var r=t.length,s=0;s<r;s++)e.resolve(t[s]).then(i,n)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function j(t){var e=new this(d);return C(e,t),e}function D(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function L(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function q(t){this[tt]=P(),this._result=this._state=void 0,this._subscribers=[],d!==t&&("function"!=typeof t&&D(),this instanceof q?B(this,t):L())}function V(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=q}var F=void 0,z=F=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},U=0,W=void 0,H=void 0,G=function(t,e){X[U]=t,X[U+1]=e,2===(U+=2)&&(H?H(l):Q())},$="undefined"!=typeof window?window:void 0,J=$||{},K=J.MutationObserver||J.WebKitMutationObserver,Y="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3),Q=void 0;Q=Y?function(){return function(){return n.nextTick(l)}}():K?function(){var t=0,e=new K(l),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}():Z?function(){var t=new MessageChannel;return t.port1.onmessage=l,function(){return t.port2.postMessage(0)}}():void 0===$&&"function"==typeof t?function(){try{var e=t("vertx");return W=e.runOnLoop||e.runOnContext,a()}catch(t){return c()}}():c();var tt=Math.random().toString(36).substring(16),et=void 0,it=1,nt=2,rt=new E,st=new E,ot=0;return R.prototype._enumerate=function(){for(var t=this.length,e=this._input,i=0;this._state===et&&i<t;i++)this._eachEntry(e[i],i)},R.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===h){var r=g(t);if(r===u&&t._state!==et)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(i===q){var s=new i(d);b(s,t,r),this._willSettleAt(s,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},R.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===et&&(this._remaining--,t===nt?C(n,i):this._result[e]=i),0===this._remaining&&A(n,this._result)},R.prototype._willSettleAt=function(t,e){var i=this;S(t,void 0,function(t){return i._settledAt(it,e,t)},function(t){return i._settledAt(nt,e,t)})},q.all=O,q.race=N,q.resolve=h,q.reject=j,q._setScheduler=s,q._setAsap=o,q._asap=G,q.prototype={constructor:q,then:u,catch:function(t){return this.then(null,t)}},q.polyfill=V,q.Promise=q,q})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:106}],28:[function(t,e,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function s(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!s(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,i,n,s,c,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(i=this._events[t],a(i))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(o(i))for(s=Array.prototype.slice.call(arguments,1),n=(l=i.slice()).length,c=0;c<n;c++)l[c].apply(this,s);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var n=!1;return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var i,n,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],s=i.length,n=-1,i===e||r(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(i)){for(a=s;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){n=a;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],r(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],29:[function(t,e,i){(function(e){"use strict";function n(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,i){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return o(this,t,e,i)}function o(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,i,n):"string"==typeof e?u(t,e,i):f(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,i,n){return a(e),e<=0?r(t,e):void 0!==i?"string"==typeof n?r(t,e).fill(i,n):r(t,e).fill(i):r(t,e)}function l(t,e){if(a(e),t=r(t,e<0?0:0|p(e)),!s.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function u(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!s.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|m(e,i),o=(t=r(t,n)).write(e,i);return o!==n&&(t=t.slice(0,o)),t}function h(t,e){var i=e.length<0?0:0|p(e.length);t=r(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function d(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=h(t,e),t}function f(t,e){if(s.isBuffer(e)){var i=0|p(e.length);return 0===(t=r(t,i)).length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||K(e.length)?r(t,0):h(t,e);if("Buffer"===e.type&&X(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),s.alloc(+t)}function m(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return $(t).length;default:if(n)return W(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,i);case"utf8":case"utf-8":return _(this,e,i);case"ascii":return P(this,e,i);case"latin1":case"binary":return I(this,e,i);case"base64":return T(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function b(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:w(t,e,i,n,r);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):w(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function w(t,e,i,n,r){function s(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,i/=2}var l;if(r){var u=-1;for(l=i;l<a;l++)if(s(t,l)===s(e,-1===u?0:l-u)){if(-1===u&&(u=l),l-u+1===c)return u*o}else-1!==u&&(l-=l-u),u=-1}else for(i+c>a&&(i=a-c),l=i;l>=0;l--){for(var h=!0,d=0;d<c;d++)if(s(t,l+d)!==s(e,d)){h=!1;break}if(h)return l}return-1}function x(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[i+o]=a}return o}function A(t,e,i,n){return J(W(e,t.length-i),t,i,n)}function C(t,e,i,n){return J(H(e),t,i,n)}function S(t,e,i,n){return C(t,e,i,n)}function k(t,e,i,n){return J($(e),t,i,n)}function E(t,e,i,n){return J(G(e,t.length-i),t,i,n)}function T(t,e,i){return 0===e&&i===t.length?Y.fromByteArray(t):Y.fromByteArray(t.slice(e,i))}function _(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var s=t[r],o=null,a=s>239?4:s>223?3:s>191?2:1;if(r+a<=i){var c,l,u,h;switch(a){case 1:s<128&&(o=s);break;case 2:128==(192&(c=t[r+1]))&&(h=(31&s)<<6|63&c)>127&&(o=h);break;case 3:c=t[r+1],l=t[r+2],128==(192&c)&&128==(192&l)&&(h=(15&s)<<12|(63&c)<<6|63&l)>2047&&(h<55296||h>57343)&&(o=h);break;case 4:c=t[r+1],l=t[r+2],u=t[r+3],128==(192&c)&&128==(192&l)&&128==(192&u)&&(h=(15&s)<<18|(63&c)<<12|(63&l)<<6|63&u)>65535&&h<1114112&&(o=h)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),r+=a}return B(n)}function B(t){var e=t.length;if(e<=Q)return String.fromCharCode.apply(String,t);for(var i="",n=0;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=Q));return i}function P(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function I(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function R(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=e;s<i;++s)r+=U(t[s]);return r}function M(t,e,i){for(var n=t.slice(e,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function O(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,i,n,r,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function j(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-i,2);r<s;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function D(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-i,4);r<s;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function L(t,e,i,n,r,s){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function q(t,e,i,n,r){return r||L(t,e,i,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(t,e,i,n,23,4),i+4}function V(t,e,i,n,r){return r||L(t,e,i,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(t,e,i,n,52,8),i+8}function F(t){if((t=z(t).replace(tt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function W(t,e){e=e||1/0;for(var i,n=t.length,r=null,s=[],o=0;o<n;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function H(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function G(t,e){for(var i,n,r,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=(i=t.charCodeAt(o))>>8,r=i%256,s.push(r),s.push(n);return s}function $(t){return Y.toByteArray(F(t))}function J(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function K(t){return t!==t}var Y=t("base64-js"),Z=t("ieee754"),X=t("isarray");i.Buffer=s,i.SlowBuffer=g,i.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),i.kMaxLength=n(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,i){return o(null,t,e,i)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,i){return c(null,t,e,i)},s.allocUnsafe=function(t){return l(null,t)},s.allocUnsafeSlow=function(t){return l(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,o=Math.min(i,n);r<o;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!X(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=s.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var o=t[i];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?_(this,0,t):v.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,i,n,r){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,r>>>=0,this===t)return 0;for(var o=r-n,a=i-e,c=Math.min(o,a),l=this.slice(n,r),u=t.slice(e,i),h=0;h<c;++h)if(l[h]!==u[h]){o=l[h],a=u[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},s.prototype.indexOf=function(t,e,i){return b(this,t,e,i,!0)},s.prototype.lastIndexOf=function(t,e,i){return b(this,t,e,i,!1)},s.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return x(this,t,e,i);case"utf8":case"utf-8":return A(this,t,e,i);case"ascii":return C(this,t,e,i);case"latin1":case"binary":return S(this,t,e,i);case"base64":return k(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;s.prototype.slice=function(t,e){var i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var n;if(s.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=s.prototype;else{var r=e-t;n=new s(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},s.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n},s.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},s.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=e,r=1,s=this[t+--n];n>0&&(r*=256);)s+=this[t+--n]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*e)),s},s.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},s.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},s.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),Z.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),Z.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),Z.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),Z.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,i,n){t=+t,e|=0,i|=0,n||N(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,s=0;for(this[e]=255&t;++s<i&&(r*=256);)this[e+s]=t/r&255;return e+i},s.prototype.writeUIntBE=function(t,e,i,n){t=+t,e|=0,i|=0,n||N(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,s=1;for(this[e+r]=255&t;--r>=0&&(s*=256);)this[e+r]=t/s&255;return e+i},s.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);N(this,t,e,i,r-1,-r)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},s.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);N(this,t,e,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},s.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,i){return q(this,t,e,!0,i)},s.prototype.writeFloatBE=function(t,e,i){return q(this,t,e,!1,i)},s.prototype.writeDoubleLE=function(t,e,i){return V(this,t,e,!0,i)},s.prototype.writeDoubleBE=function(t,e,i){return V(this,t,e,!1,i)},s.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,o=n-i;if(this===t&&i<e&&e<n)for(r=o-1;r>=0;--r)t[r+e]=this[r+i];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},s.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<i;++o)this[o]=t;else{var a=s.isBuffer(t)?t:W(new s(t,n).toString()),c=a.length;for(o=0;o<i-e;++o)this[o+e]=a[o%c]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:46,isarray:50}],30:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++){var r=i[n],s=Object.getOwnPropertyDescriptor(e,r);s&&s.configurable&&void 0===t[r]&&Object.defineProperty(t,r,s)}return t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}function c(t,e){for(var i=t.indexOf(e);-1!==i;)t.splice(i,1),i=t.indexOf(e)}Object.defineProperty(i,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u=function(){function t(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./utils")),d=n(t("./logger")),f=function(t){function e(i,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s(this,e);var c=o(this,t.call(this));return c.backend=i,c.store=n,c.services=r,c.options=a,c.logger=d.default.create("backendConnector"),c.state={},c.queue=[],c.backend&&c.backend.init&&c.backend.init(r,a.backend,a),c}return a(e,t),e.prototype.queueLoad=function(t,e,i){var n=this,r=[],s=[],o=[],a=[];return t.forEach(function(t){var i=!0;e.forEach(function(e){var o=t+"|"+e;n.store.hasResourceBundle(t,e)?n.state[o]=2:n.state[o]<0||(1===n.state[o]?s.indexOf(o)<0&&s.push(o):(n.state[o]=1,i=!1,s.indexOf(o)<0&&s.push(o),r.indexOf(o)<0&&r.push(o),a.indexOf(e)<0&&a.push(e)))}),i||o.push(t)}),(r.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:i}),{toLoad:r,pending:s,toLoadLanguages:o,toLoadNamespaces:a}},e.prototype.loaded=function(t,e,i){var n=this,r=t.split("|"),s=u(r,2),o=s[0],a=s[1];e&&this.emit("failedLoading",o,a,e),i&&this.store.addResourceBundle(o,a,i),this.state[t]=e?-1:2,this.queue.forEach(function(i){h.pushPath(i.loaded,[o],a),c(i.pending,t),e&&i.errors.push(e),0!==i.pending.length||i.done||(n.emit("loaded",i.loaded),i.errors.length?i.callback(i.errors):i.callback(),i.done=!0)}),this.queue=this.queue.filter(function(t){return!t.done})},e.prototype.read=function(t,e,i,n,r,s){var o=this;if(n||(n=0),r||(r=250),!t.length)return s(null,{});this.backend[i](t,e,function(a,c){if(a&&c&&n<5)return void setTimeout(function(){o.read.call(o,t,e,i,++n,2*r,s)},r);s(a,c)})},e.prototype.load=function(t,e,i){var n=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();var r=l({},this.backend.options,this.options.backend);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var s=this.queueLoad(t,e,i);if(!s.toLoad.length)return void(s.pending.length||i());if(r.allowMultiLoading&&this.backend.readMulti)this.read(s.toLoadLanguages,s.toLoadNamespaces,"readMulti",null,null,function(t,e){t&&n.logger.warn("loading namespaces "+s.toLoadNamespaces.join(", ")+" for languages "+s.toLoadLanguages.join(", ")+" via multiloading failed",t),!t&&e&&n.logger.log("loaded namespaces "+s.toLoadNamespaces.join(", ")+" for languages "+s.toLoadLanguages.join(", ")+" via multiloading",e),s.toLoad.forEach(function(i){var r=i.split("|"),s=u(r,2),o=s[0],a=s[1],c=h.getPath(e,[o,a]);if(c)n.loaded(i,t,c);else{var l="loading namespace "+a+" for language "+o+" via multiloading failed";n.loaded(i,l),n.logger.error(l)}})});else{var o=function(t){var e=this,i=t.split("|"),n=u(i,2),r=n[0],s=n[1];this.read(r,s,"read",null,null,function(i,n){i&&e.logger.warn("loading namespace "+s+" for language "+r+" failed",i),!i&&n&&e.logger.log("loaded namespace "+s+" for language "+r,n),e.loaded(t,i,n)})};s.toLoad.forEach(function(t){o.call(n,t)})}},e.prototype.reload=function(t,e){var i=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var n=l({},this.backend.options,this.options.backend);if("string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),n.allowMultiLoading&&this.backend.readMulti)this.read(t,e,"readMulti",null,null,function(n,r){n&&i.logger.warn("reloading namespaces "+e.join(", ")+" for languages "+t.join(", ")+" via multiloading failed",n),!n&&r&&i.logger.log("reloaded namespaces "+e.join(", ")+" for languages "+t.join(", ")+" via multiloading",r),t.forEach(function(t){e.forEach(function(e){var s=h.getPath(r,[t,e]);if(s)i.loaded(t+"|"+e,n,s);else{var o="reloading namespace "+e+" for language "+t+" via multiloading failed";i.loaded(t+"|"+e,o),i.logger.error(o)}})})});else{var r=function(t){var e=this,i=t.split("|"),n=u(i,2),r=n[0],s=n[1];this.read(r,s,"read",null,null,function(i,n){i&&e.logger.warn("reloading namespace "+s+" for language "+r+" failed",i),!i&&n&&e.logger.log("reloaded namespace "+s+" for language "+r,n),e.loaded(t,i,n)})};t.forEach(function(t){e.forEach(function(e){r.call(i,t+"|"+e)})})}},e.prototype.saveMissing=function(t,e,i,n){this.backend&&this.backend.create&&this.backend.create(t,e,i,n),t&&t[0]&&this.store.addResource(t[0],e,i,n)},e}(n(t("./EventEmitter")).default);i.default=f},{"./EventEmitter":32,"./logger":42,"./utils":44}],31:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++){var r=i[n],s=Object.getOwnPropertyDescriptor(e,r);s&&s.configurable&&void 0===t[r]&&Object.defineProperty(t,r,s)}return t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}Object.defineProperty(i,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}(t("./utils")),n(t("./logger"))),u=function(t){function e(i,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s(this,e);var c=o(this,t.call(this));return c.cache=i,c.store=n,c.services=r,c.options=a,c.logger=l.default.create("cacheConnector"),c.cache&&c.cache.init&&c.cache.init(r,a.cache,a),c}return a(e,t),e.prototype.load=function(t,e,i){var n=this;if(!this.cache)return i&&i();var r=c({},this.cache.options,this.options.cache);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),r.enabled?this.cache.load(t,function(e,r){if(e&&n.logger.error("loading languages "+t.join(", ")+" from cache failed",e),r)for(var s in r)for(var o in r[s])if("i18nStamp"!==o){var a=r[s][o];a&&n.store.addResourceBundle(s,o,a)}i&&i()}):i&&i()},e.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},e}(n(t("./EventEmitter")).default);i.default=u},{"./EventEmitter":32,"./logger":42,"./utils":44}],32:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(){n(this,t),this.observers={}}return t.prototype.on=function(t,e){var i=this;t.split(" ").forEach(function(t){i.observers[t]=i.observers[t]||[],i.observers[t].push(e)})},t.prototype.off=function(t,e){var i=this;this.observers[t]&&this.observers[t].forEach(function(){if(e){var n=i.observers[t].indexOf(e);n>-1&&i.observers[t].splice(n,1)}else delete i.observers[t]})},t.prototype.emit=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];this.observers[t]&&[].concat(this.observers[t]).forEach(function(t){t.apply(void 0,i)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){var n;e.apply(e,(n=[t]).concat.apply(n,i))})},t}();i.default=r},{}],33:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./utils")),o=function(t){return t&&t.__esModule?t:{default:t}}(t("./logger")),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.logger=o.default.create("interpolator"),this.init(e,!0)}return t.prototype.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t},this.escape=t.interpolation&&t.interpolation.escape||s.escape),t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.prefix=e.prefix?s.regexEscape(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?s.regexEscape(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?s.regexEscape(e.nestingPrefix):e.nestingPrefixEscaped||s.regexEscape("$t("),this.nestingSuffix=e.nestingSuffix?s.regexEscape(e.nestingSuffix):e.nestingSuffixEscaped||s.regexEscape(")"),this.resetRegExp()},t.prototype.reset=function(){this.options&&this.init(this.options)},t.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(t,"g");var e=this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(e,"g");var i=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(i,"g")},t.prototype.interpolate=function(t,e,i){function n(t){return t.replace(/\$/g,"$$$$")}var r=this,o=void 0,a=void 0,c=function(t){if(t.indexOf(r.formatSeparator)<0)return s.getPath(e,t);var n=t.split(r.formatSeparator),o=n.shift().trim(),a=n.join(r.formatSeparator).trim();return r.format(s.getPath(e,o),a,i)};for(this.resetRegExp();o=this.regexpUnescape.exec(t);){var l=c(o[1].trim());t=t.replace(o[0],l),this.regexpUnescape.lastIndex=0}for(;o=this.regexp.exec(t);)"string"!=typeof(a=c(o[1].trim()))&&(a=s.makeString(a)),a||(this.logger.warn("missed to pass in variable "+o[1]+" for interpolating "+t),a=""),a=n(this.escapeValue?this.escape(a):a),t=t.replace(o[0],a),this.regexp.lastIndex=0;return t},t.prototype.nest=function(t,e){function i(t){if(t.indexOf(",")<0)return t;var e=t.split(",");t=e.shift();var i=e.join(",");i=(i=this.interpolate(i,c)).replace(/'/g,'"');try{c=JSON.parse(i)}catch(e){this.logger.error("failed parsing options string in nesting for key "+t,e)}return t}var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=void 0,a=void 0,c=r({},n);for(c.applyPostProcessor=!1;o=this.nestingRegexp.exec(t);)"string"!=typeof(a=e(i.call(this,o[1].trim()),c))&&(a=s.makeString(a)),a||(this.logger.warn("missed to pass in variable "+o[1]+" for interpolating "+t),a=""),t=t.replace(o[0],a),this.regexp.lastIndex=0;return t},t}();i.default=a},{"./logger":42,"./utils":44}],34:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){return t&&t.__esModule?t:{default:t}}(t("./logger")),o=function(){function t(e){n(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=s.default.create("languageUtils")}return t.prototype.getScriptPartFromCode=function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))},t.prototype.getLanguagePartFromCode=function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])},t.prototype.formatLanguageCode=function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],i=t.split("-");return this.options.lowerCaseLng?i=i.map(function(t){return t.toLowerCase()}):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),e.indexOf(i[1].toLowerCase())>-1&&(i[1]=r(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),e.indexOf(i[1].toLowerCase())>-1&&(i[1]=r(i[1].toLowerCase())),e.indexOf(i[2].toLowerCase())>-1&&(i[2]=r(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},t.prototype.isWhitelisted=function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1},t.prototype.getFallbackCodes=function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var i=t[e];return i||(i=t[this.getScriptPartFromCode(e)]),i||(i=t[this.formatLanguageCode(e)]),i||(i=t.default),i||[]},t.prototype.toResolveHierarchy=function(t,e){var i=this,n=this.getFallbackCodes(e||this.options.fallbackLng||[],t),r=[],s=function(t){t&&(i.isWhitelisted(t)?r.push(t):i.logger.warn("rejecting non-whitelisted language code: "+t))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(t))):"string"==typeof t&&s(this.formatLanguageCode(t)),n.forEach(function(t){r.indexOf(t)<0&&s(i.formatLanguageCode(t))}),r},t}();i.default=o},{"./logger":42}],35:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){var t={};return o.forEach(function(e){e.lngs.forEach(function(i){return t[i]={numbers:e.nr,plurals:a[e.fc]}})}),t}Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){return t&&t.__esModule?t:{default:t}}(t("./logger")),o=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],a={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)}},c=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.languageUtils=e,this.options=i,this.logger=s.default.create("pluralResolver"),this.rules=r()}return t.prototype.addRule=function(t,e){this.rules[t]=e},t.prototype.getRule=function(t){return this.rules[this.languageUtils.getLanguagePartFromCode(t)]},t.prototype.needsPlural=function(t){var e=this.getRule(t);return!(e&&e.numbers.length<=1)},t.prototype.getSuffix=function(t,e){var i=this,n=this.getRule(t);if(n){if(1===n.numbers.length)return"";var r=n.noAbs?n.plurals(e):n.plurals(Math.abs(e)),s=n.numbers[r];this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]&&(2===s?s="plural":1===s&&(s=""));var o=function(){return i.options.prepend&&s.toString()?i.options.prepend+s.toString():s.toString()};return"v1"===this.options.compatibilityJSON?1===s?"":"number"==typeof s?"_plural_"+s.toString():o():"v2"===this.options.compatibilityJSON||2===n.numbers.length&&1===n.numbers[0]?o():2===n.numbers.length&&1===n.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: "+t),""},t}();i.default=c},{"./logger":42}],36:[function(t,e,i){"use strict";function n(t,e){for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++){var r=i[n],s=Object.getOwnPropertyDescriptor(e,r);s&&s.configurable&&void 0===t[r]&&Object.defineProperty(t,r,s)}return t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):n(t,e))}Object.defineProperty(i,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},c=function(t){return t&&t.__esModule?t:{default:t}}(t("./EventEmitter")),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./utils")),u=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};r(this,e);var o=s(this,t.call(this));return o.data=i,o.options=n,o}return o(e,t),e.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},e.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)},e.prototype.getResource=function(t,e,i){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).keySeparator||this.options.keySeparator;void 0===n&&(n=".");var r=[t,e];return i&&"string"!=typeof i&&(r=r.concat(i)),i&&"string"==typeof i&&(r=r.concat(n?i.split(n):i)),t.indexOf(".")>-1&&(r=t.split(".")),l.getPath(this.data,r)},e.prototype.addResource=function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},s=this.options.keySeparator;void 0===s&&(s=".");var o=[t,e];i&&(o=o.concat(s?i.split(s):i)),t.indexOf(".")>-1&&(n=e,e=(o=t.split("."))[1]),this.addNamespaces(e),l.setPath(this.data,o,n),r.silent||this.emit("added",t,e,i,n)},e.prototype.addResources=function(t,e,i){for(var n in i)"string"==typeof i[n]&&this.addResource(t,e,n,i[n],{silent:!0});this.emit("added",t,e,i)},e.prototype.addResourceBundle=function(t,e,i,n,r){var s=[t,e];t.indexOf(".")>-1&&(n=i,i=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var o=l.getPath(this.data,s)||{};n?l.deepExtend(o,i,r):o=a({},o,i),l.setPath(this.data,s,o),this.emit("added",t,e,i)},e.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},e.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},e.prototype.getResourceBundle=function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?a({},this.getResource(t,e)):this.getResource(t,e)},e.prototype.toJSON=function(){return this.data},e}(c.default);i.default=u},{"./EventEmitter":32,"./utils":44}],37:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++){var r=i[n],s=Object.getOwnPropertyDescriptor(e,r);s&&s.configurable&&void 0===t[r]&&Object.defineProperty(t,r,s)}return t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):s(t,e))}Object.defineProperty(i,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=r(t("./logger")),d=r(t("./EventEmitter")),f=r(t("./postProcessor")),p=n(t("./compatibility/v1")),g=n(t("./utils")),m=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e);var r=a(this,t.call(this));return g.copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],i,r),r.options=n,r.logger=h.default.create("translator"),r}return c(e,t),e.prototype.changeLanguage=function(t){t&&(this.language=t)},e.prototype.exists=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};return"v1"===this.options.compatibilityAPI&&(e=p.convertTOptions(e)),void 0!==this.resolve(t,e)},e.prototype.extractFromKey=function(t,e){var i=e.nsSeparator||this.options.nsSeparator;void 0===i&&(i=":");var n=e.keySeparator||this.options.keySeparator||".",r=e.ns||this.options.defaultNS;if(i&&t.indexOf(i)>-1){var s=t.split(i);(i!==n||i===n&&this.options.ns.indexOf(s[0])>-1)&&(r=s.shift()),t=s.join(n)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}},e.prototype.translate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(void 0===e?"undefined":u(e))?e=this.options.overloadTranslationOptionHandler(arguments):"v1"===this.options.compatibilityAPI&&(e=p.convertTOptions(e)),void 0===t||null===t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var i=e.keySeparator||this.options.keySeparator||".",n=this.extractFromKey(t[t.length-1],e),r=n.key,s=n.namespaces,o=s[s.length-1],a=e.lng||this.language,c=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(a&&"cimode"===a.toLowerCase())return c?o+(e.nsSeparator||this.options.nsSeparator)+r:r;var h=this.resolve(t,e),d=Object.prototype.toString.apply(h),f=["[object Number]","[object Function]","[object RegExp]"],g=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays;if(h&&"string"!=typeof h&&f.indexOf(d)<0&&(!g||"[object Array]"!==d)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(r,h,e):"key '"+r+" ("+this.language+")' returned an object instead of string.";if(e.keySeparator||this.options.keySeparator){var m="[object Array]"===d?[]:{};for(var v in h)h.hasOwnProperty(v)&&(m[v]=this.translate(""+r+i+v,l({},e,{joinArrays:!1,ns:s})));h=m}}else if(g&&"[object Array]"===d)(h=h.join(g))&&(h=this.extendTranslation(h,r,e));else{var y=!1,b=!1;if(this.isValidLookup(h)||void 0===e.defaultValue||(y=!0,h=e.defaultValue),this.isValidLookup(h)||(b=!0,h=r),b||y){this.logger.log("missingKey",a,o,r,h);var w=[],x=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&x&&x[0])for(var A=0;A<x.length;A++)w.push(x[A]);else"all"===this.options.saveMissingTo?w=this.languageUtils.toResolveHierarchy(e.lng||this.language):w.push(e.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(w,o,r,h):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(w,o,r,h)),this.emit("missingKey",w,o,r,h)}h=this.extendTranslation(h,r,e),b&&h===r&&this.options.appendNamespaceToMissingKey&&(h=o+":"+r),b&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(h))}return h},e.prototype.extendTranslation=function(t,e,i){var n=this;i.interpolation&&this.interpolator.init(l({},i,{interpolation:l({},this.options.interpolation,i.interpolation)}));var r=i.replace&&"string"!=typeof i.replace?i.replace:i;this.options.interpolation.defaultVariables&&(r=l({},this.options.interpolation.defaultVariables,r)),t=this.interpolator.interpolate(t,r,i.lng||this.language),!1!==i.nest&&(t=this.interpolator.nest(t,function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.translate.apply(n,e)},i)),i.interpolation&&this.interpolator.reset();var s=i.postProcess||this.options.postProcess,o="string"==typeof s?[s]:s;return void 0!==t&&o&&o.length&&!1!==i.applyPostProcessor&&(t=f.default.handle(o,t,e,i,this)),t},e.prototype.resolve=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!e.isValidLookup(n)){var r=e.extractFromKey(t,i),s=r.key,o=r.namespaces;e.options.fallbackNS&&(o=o.concat(e.options.fallbackNS));var a=void 0!==i.count&&"string"!=typeof i.count,c=void 0!==i.context&&"string"==typeof i.context&&""!==i.context,l=i.lngs?i.lngs:e.languageUtils.toResolveHierarchy(i.lng||e.language);o.forEach(function(t){e.isValidLookup(n)||l.forEach(function(r){if(!e.isValidLookup(n)){var o=s,l=[o],u=void 0;a&&(u=e.pluralResolver.getSuffix(r,i.count)),a&&c&&l.push(o+u),c&&l.push(o+=""+e.options.contextSeparator+i.context),a&&l.push(o+=u);for(var h=void 0;h=l.pop();)e.isValidLookup(n)||(n=e.getResource(r,t,h,i))}})})}}),n},e.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},e.prototype.getResource=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(t,e,i,n)},e}(d.default);i.default=m},{"./EventEmitter":32,"./compatibility/v1":38,"./logger":42,"./postProcessor":43,"./utils":44}],38:[function(t,e,i){"use strict";function n(t){return t.interpolation={unescapeSuffix:"HTML"},t.interpolation.prefix=t.interpolationPrefix||"__",t.interpolation.suffix=t.interpolationSuffix||"__",t.interpolation.escapeValue=t.escapeInterpolation||!1,t.interpolation.nestingPrefix=t.reusePrefix||"$t(",t.interpolation.nestingSuffix=t.reuseSuffix||")",t}function r(t){return t.resStore&&(t.resources=t.resStore),t.ns&&t.ns.defaultNs?(t.defaultNS=t.ns.defaultNs,t.ns=t.ns.namespaces):t.defaultNS=t.ns||"translation",t.fallbackToDefaultNS&&t.defaultNS&&(t.fallbackNS=t.defaultNS),t.saveMissing=t.sendMissing,t.saveMissingTo=t.sendMissingTo||"current",t.returnNull=!t.fallbackOnNull,t.returnEmptyString=!t.fallbackOnEmpty,t.returnObjects=t.returnObjectTrees,t.joinArrays="\n",t.returnedObjectHandler=t.objectTreeKeyHandler,t.parseMissingKeyHandler=t.parseMissingKey,t.appendNamespaceToMissingKey=!0,t.nsSeparator=t.nsseparator||":",t.keySeparator=t.keyseparator||".","sprintf"===t.shortcutFunction&&(t.overloadTranslationOptionHandler=function(t){for(var e=[],i=1;i<t.length;i++)e.push(t[i]);return{postProcess:"sprintf",sprintf:e}}),t.whitelist=t.lngWhitelist,t.preload=t.preload,"current"===t.load&&(t.load="currentOnly"),"unspecific"===t.load&&(t.load="languageOnly"),t.backend=t.backend||{},t.backend.loadPath=t.resGetPath||"locales/__lng__/__ns__.json",t.backend.addPath=t.resPostPath||"locales/add/__lng__/__ns__",t.backend.allowMultiLoading=t.dynamicLoad,t.cache=t.cache||{},t.cache.prefix="res_",t.cache.expirationTime=6048e5,t.cache.enabled=!!t.useLocalStorage,(t=n(t)).defaultVariables&&(t.interpolation.defaultVariables=t.defaultVariables),t}function s(t){return t=n(t),t.joinArrays="\n",t}function o(t){return(t.interpolationPrefix||t.interpolationSuffix||t.escapeInterpolation)&&(t=n(t)),t.nsSeparator=t.nsseparator,t.keySeparator=t.keyseparator,t.returnObjects=t.returnObjectTrees,t}function a(t){t.lng=function(){return c.default.deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup."),t.services.languageUtils.toResolveHierarchy(t.language)[0]},t.preload=function(e,i){c.default.deprecate("i18next.preload() can be replaced with i18next.loadLanguages()"),t.loadLanguages(e,i)},t.setLng=function(e,i,n){if(c.default.deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace."),"function"==typeof i&&(n=i,i={}),i||(i={}),!0===i.fixLng&&n)return n(null,t.getFixedT(e));t.changeLanguage(e,n)},t.addPostProcessor=function(e,i){c.default.deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })"),t.use({type:"postProcessor",name:e,process:i})}}Object.defineProperty(i,"__esModule",{value:!0}),i.convertAPIOptions=r,i.convertJSONOptions=s,i.convertTOptions=o,i.appendBackwardsAPI=a;var c=function(t){return t&&t.__esModule?t:{default:t}}(t("../logger"))},{"../logger":42}],39:[function(t,e,i){"use strict";function n(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){return{defaultValue:t[1]}},interpolation:{escapeValue:!0,format:function(t,e,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:void 0}}}function r(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&t.whitelist.push("cimode"),t}Object.defineProperty(i,"__esModule",{value:!0}),i.get=n,i.transformOptions=r},{}],40:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++){var r=i[n],s=Object.getOwnPropertyDescriptor(e,r);s&&s.configurable&&void 0===t[r]&&Object.defineProperty(t,r,s)}return t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}function c(){}Object.defineProperty(i,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u=n(t("./logger")),h=n(t("./EventEmitter")),d=n(t("./ResourceStore")),f=n(t("./Translator")),p=n(t("./LanguageUtils")),g=n(t("./PluralResolver")),m=n(t("./Interpolator")),v=n(t("./BackendConnector")),y=n(t("./CacheConnector")),b=t("./defaults"),w=n(t("./postProcessor")),x=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./compatibility/v1")),A=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];s(this,e);var r=o(this,t.call(this));if(r.options=(0,b.transformOptions)(i),r.services={},r.logger=u.default,r.modules={external:[]},n&&!r.isInitialized&&!i.isClone){var a;if(!r.options.initImmediate)return a=r.init(i,n),o(r,a);setTimeout(function(){r.init(i,n)},0)}return r}return a(e,t),e.prototype.init=function(t,e){function i(t){if(t)return"function"==typeof t?new t:t}var n=this;if("function"==typeof t&&(e=t,t={}),t||(t={}),"v1"===t.compatibilityAPI?this.options=l({},(0,b.get)(),(0,b.transformOptions)(x.convertAPIOptions(t)),{}):"v1"===t.compatibilityJSON?this.options=l({},(0,b.get)(),(0,b.transformOptions)(x.convertJSONOptions(t)),{}):this.options=l({},(0,b.get)(),this.options,(0,b.transformOptions)(t)),e||(e=c),!this.options.isClone){this.modules.logger?u.default.init(i(this.modules.logger),this.options):u.default.init(null,this.options);var r=new p.default(this.options);this.store=new d.default(this.options.resources,this.options);var s=this.services;s.logger=u.default,s.resourceStore=this.store,s.resourceStore.on("added removed",function(t,e){s.cacheConnector.save()}),s.languageUtils=r,s.pluralResolver=new g.default(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new m.default(this.options),s.backendConnector=new v.default(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];n.emit.apply(n,[t].concat(i))}),s.backendConnector.on("loaded",function(t){s.cacheConnector.save()}),s.cacheConnector=new y.default(i(this.modules.cache),s.resourceStore,s,this.options),s.cacheConnector.on("*",function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];n.emit.apply(n,[t].concat(i))}),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.translator=new f.default(this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];n.emit.apply(n,[t].concat(i))}),this.modules.external.forEach(function(t){t.init&&t.init(n)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(t){n[t]=function(){return this.store[t].apply(this.store,arguments)}}),"v1"===this.options.compatibilityAPI&&x.appendBackwardsAPI(this);var o=function(){n.changeLanguage(n.options.lng,function(t,i){n.isInitialized=!0,n.logger.log("initialized",n.options),n.emit("initialized",n.options),e(t,i)})};return this.options.resources||!this.options.initImmediate?o():setTimeout(o,0),this},e.prototype.loadResources=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;if(this.options.resources)e(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return e();var i=[],n=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(t){i.indexOf(t)<0&&i.push(t)})};this.language?n(this.language):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return n(t)}),this.options.preload&&this.options.preload.forEach(function(t){return n(t)}),this.services.cacheConnector.load(i,this.options.ns,function(){t.services.backendConnector.load(i,t.options.ns,e)})}},e.prototype.reloadResources=function(t,e){t||(t=this.languages),e||(e=this.options.ns),this.services.backendConnector.reload(t,e)},e.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),"cache"===t.type&&(this.modules.cache=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"postProcessor"===t.type&&w.default.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this},e.prototype.changeLanguage=function(t,e){var i=this,n=function(n){t&&(i.emit("languageChanged",t),i.logger.log("languageChanged",t)),e&&e(n,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.t.apply(i,e)})},r=function(t){t&&(i.language=t,i.languages=i.services.languageUtils.toResolveHierarchy(t),i.translator.changeLanguage(t),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage(t)),i.loadResources(function(t){n(t)})};t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(t):r(this.services.languageDetector.detect())},e.prototype.getFixedT=function(t,e){var i=this,n=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=l({},n);return r.lng=r.lng||t.lng,r.ns=r.ns||t.ns,i.t(e,r)};return n.lng=t,n.ns=e,n},e.prototype.t=function(){return this.translator&&this.translator.translate.apply(this.translator,arguments)},e.prototype.exists=function(){return this.translator&&this.translator.exists.apply(this.translator,arguments)},e.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},e.prototype.loadNamespaces=function(t,e){var i=this;if(!this.options.ns)return e&&e();"string"==typeof t&&(t=[t]),t.forEach(function(t){i.options.ns.indexOf(t)<0&&i.options.ns.push(t)}),this.loadResources(e)},e.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var i=this.options.preload||[],n=t.filter(function(t){return i.indexOf(t)<0});if(!n.length)return e();this.options.preload=i.concat(n),this.loadResources(e)},e.prototype.dir=function(t){return t||(t=this.language),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr":"rtl"},e.prototype.createInstance=function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},e.prototype.cloneInstance=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,r=l({},i,this.options,{isClone:!0}),s=new e(r,n);return["store","services","language"].forEach(function(e){s[e]=t[e]}),s.translator=new f.default(s.services,s.options),s.translator.on("*",function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];s.emit.apply(s,[t].concat(i))}),s.init(r,n),s},e}(h.default);i.default=new A},{"./BackendConnector":30,"./CacheConnector":31,"./EventEmitter":32,"./Interpolator":33,"./LanguageUtils":34,"./PluralResolver":35,"./ResourceStore":36,"./Translator":37,"./compatibility/v1":38,"./defaults":39,"./logger":42,"./postProcessor":43}],41:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.use=i.t=i.setDefaultNamespace=i.on=i.off=i.loadResources=i.loadNamespaces=i.loadLanguages=i.init=i.getFixedT=i.exists=i.dir=i.createInstance=i.cloneInstance=i.changeLanguage=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./i18next"));i.default=n.default;i.changeLanguage=n.default.changeLanguage.bind(n.default),i.cloneInstance=n.default.cloneInstance.bind(n.default),i.createInstance=n.default.createInstance.bind(n.default),i.dir=n.default.dir.bind(n.default),i.exists=n.default.exists.bind(n.default),i.getFixedT=n.default.getFixedT.bind(n.default),i.init=n.default.init.bind(n.default),i.loadLanguages=n.default.loadLanguages.bind(n.default),i.loadNamespaces=n.default.loadNamespaces.bind(n.default),i.loadResources=n.default.loadResources.bind(n.default),i.off=n.default.off.bind(n.default),i.on=n.default.on.bind(n.default),i.setDefaultNamespace=n.default.setDefaultNamespace.bind(n.default),i.t=n.default.t.bind(n.default),i.use=n.default.use.bind(n.default)},{"./i18next":40}],42:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s={type:"logger",log:function(t){this._output("log",t)},warn:function(t){this._output("warn",t)},error:function(t){this._output("error",t)},_output:function(t,e){console&&console[t]&&console[t].apply(console,Array.prototype.slice.call(e))}},o=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.init(e,i)}return t.prototype.init=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||s,this.options=e,this.debug=!1!==e.debug},t.prototype.setDebug=function(t){this.debug=t},t.prototype.log=function(){this.forward(arguments,"log","",!0)},t.prototype.warn=function(){this.forward(arguments,"warn","",!0)},t.prototype.error=function(){this.forward(arguments,"error","")},t.prototype.deprecate=function(){this.forward(arguments,"warn","WARNING DEPRECATED: ",!0)},t.prototype.forward=function(t,e,i,n){n&&!this.debug||("string"==typeof t[0]&&(t[0]=i+this.prefix+" "+t[0]),this.logger[e](t))},t.prototype.create=function(e){return new t(this.logger,r({prefix:this.prefix+":"+e+":"},this.options))},t}();i.default=new o},{}],43:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,i,n,r){var s=this;return t.forEach(function(t){s.processors[t]&&(e=s.processors[t].process(e,i,n,r))}),e}}},{}],44:[function(t,e,i){"use strict";function n(t){return null==t?"":""+t}function r(t,e,i){t.forEach(function(t){e[t]&&(i[t]=e[t])})}function s(t,e,i){function n(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function r(){return!t||"string"==typeof t}for(var s="string"!=typeof e?[].concat(e):e.split(".");s.length>1;){if(r())return{};var o=n(s.shift());!t[o]&&i&&(t[o]=new i),t=t[o]}return r()?{}:{obj:t,k:n(s.shift())}}function o(t,e,i){var n=s(t,e,Object);n.obj[n.k]=i}function a(t,e,i,n){var r=s(t,e,Object),o=r.obj,a=r.k;o[a]=o[a]||[],n&&(o[a]=o[a].concat(i)),n||o[a].push(i)}function c(t,e){var i=s(t,e),n=i.obj,r=i.k;if(n)return n[r]}function l(t,e,i){for(var n in e)n in t?"string"==typeof t[n]||t[n]instanceof String||"string"==typeof e[n]||e[n]instanceof String?i&&(t[n]=e[n]):l(t[n],e[n],i):t[n]=e[n];return t}function u(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function h(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return d[t]}):t}Object.defineProperty(i,"__esModule",{value:!0}),i.makeString=n,i.copy=r,i.setPath=o,i.pushPath=a,i.getPath=c,i.deepExtend=l,i.regexEscape=u,i.escape=h;var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"}},{}],45:[function(t,e,i){e.exports=t("./dist/commonjs/index.js").default},{"./dist/commonjs/index.js":41}],46:[function(t,e,i){i.read=function(t,e,i,n,r){var s,o,a=8*r-n-1,c=(1<<a)-1,l=c>>1,u=-7,h=i?r-1:0,d=i?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+t[e+h],h+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+t[e+h],h+=d,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=l}return(f?-1:1)*o*Math.pow(2,s-n)},i.write=function(t,e,i,n,r,s){var o,a,c,l=8*s-r-1,u=(1<<l)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*c-1)*Math.pow(2,r),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;t[i+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,l+=r;l>0;t[i+f]=255&o,f+=p,o/=256,l-=8);t[i+f-p]|=128*g}},{}],47:[function(t,e,i){(function(t){"use strict";function i(){u=!0;for(var t,e,i=h.length;i;){for(e=h,h=[],t=-1;++t<i;)e[t]();i=h.length}u=!1}function n(t){1!==h.push(t)||u||r()}var r,s=t.MutationObserver||t.WebKitMutationObserver;if(s){var o=0,a=new s(i),c=t.document.createTextNode("");a.observe(c,{characterData:!0}),r=function(){c.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){i(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(i,0)};else{var l=new t.MessageChannel;l.port1.onmessage=i,r=function(){l.port2.postMessage(0)}}var u,h=[];e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(t,e,i){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],49:[function(t,e,i){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}e.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},{}],50:[function(t,e,i){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],51:[function(t,e,i){!function(t,i){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(t,e){var i=(e=e||it).createElement("script");i.text=t,e.head.appendChild(i).parentNode.removeChild(i)}function n(t){var e=!!t&&"length"in t&&t.length,i=pt.type(t);return"function"!==i&&!pt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function s(t,e,i){return pt.isFunction(e)?pt.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?pt.grep(t,function(t){return t===e!==i}):"string"!=typeof e?pt.grep(t,function(t){return at.call(e,t)>-1!==i}):xt.test(e)?pt.filter(e,t,i):(e=pt.filter(e,t),pt.grep(t,function(t){return at.call(e,t)>-1!==i&&1===t.nodeType}))}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e={};return pt.each(t.match(Et)||[],function(t,i){e[i]=!0}),e}function c(t){return t}function l(t){throw t}function u(t,e,i,n){var r;try{t&&pt.isFunction(r=t.promise)?r.call(t).done(e).fail(i):t&&pt.isFunction(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}function h(){it.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),pt.ready()}function d(){this.expando=pt.expando+d.uid++}function f(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Mt.test(t)?JSON.parse(t):t)}function p(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Ot,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=f(i)}catch(t){}Rt.set(t,e,i)}else i=void 0;return i}function g(t,e,i,n){var r,s=1,o=20,a=n?function(){return n.cur()}:function(){return pt.css(t,e,"")},c=a(),l=i&&i[3]||(pt.cssNumber[e]?"":"px"),u=(pt.cssNumber[e]||"px"!==l&&+c)&&jt.exec(pt.css(t,e));if(u&&u[3]!==l){l=l||u[3],i=i||[],u=+c||1;do{u/=s=s||".5",pt.style(t,e,u+l)}while(s!==(s=a()/c)&&1!==s&&--o)}return i&&(u=+u||+c||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=u,n.end=r)),r}function m(t){var e,i=t.ownerDocument,n=t.nodeName,r=Vt[n];return r||(e=i.body.appendChild(i.createElement(n)),r=pt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Vt[n]=r,r)}function v(t,e){for(var i,n,r=[],s=0,o=t.length;s<o;s++)(n=t[s]).style&&(i=n.style.display,e?("none"===i&&(r[s]=It.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&Lt(n)&&(r[s]=m(n))):"none"!==i&&(r[s]="none",It.set(n,"display",i)));for(s=0;s<o;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}function y(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&r(t,e)?pt.merge([t],i):i}function b(t,e){for(var i=0,n=t.length;i<n;i++)It.set(t[i],"globalEval",!e||It.get(e[i],"globalEval"))}function w(t,e,i,n,r){for(var s,o,a,c,l,u,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((s=t[f])||0===s)if("object"===pt.type(s))pt.merge(d,s.nodeType?[s]:s);else if(Ht.test(s)){for(o=o||h.appendChild(e.createElement("div")),a=(zt.exec(s)||["",""])[1].toLowerCase(),c=Wt[a]||Wt._default,o.innerHTML=c[1]+pt.htmlPrefilter(s)+c[2],u=c[0];u--;)o=o.lastChild;pt.merge(d,o.childNodes),(o=h.firstChild).textContent=""}else d.push(e.createTextNode(s));for(h.textContent="",f=0;s=d[f++];)if(n&&pt.inArray(s,n)>-1)r&&r.push(s);else if(l=pt.contains(s.ownerDocument,s),o=y(h.appendChild(s),"script"),l&&b(o),i)for(u=0;s=o[u++];)Ut.test(s.type||"")&&i.push(s);return h}function x(){return!0}function A(){return!1}function C(){try{return it.activeElement}catch(t){}}function S(t,e,i,n,r,s){var o,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)S(t,a,i,n,e[a],s);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=A;else if(!r)return t;return 1===s&&(o=r,(r=function(t){return pt().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,r,n,i)})}function k(t,e){return r(t,"table")&&r(11!==e.nodeType?e:e.firstChild,"tr")?pt(">tbody",t)[0]||t:t}function E(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function T(t){var e=Xt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _(t,e){var i,n,r,s,o,a,c,l;if(1===e.nodeType){if(It.hasData(t)&&(s=It.access(t),o=It.set(e,s),l=s.events)){delete o.handle,o.events={};for(r in l)for(i=0,n=l[r].length;i<n;i++)pt.event.add(e,r,l[r][i])}Rt.hasData(t)&&(a=Rt.access(t),c=pt.extend({},a),Rt.set(e,c))}}function B(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Ft.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function P(t,e,n,r){e=st.apply([],e);var s,o,a,c,l,u,h=0,d=t.length,f=d-1,p=e[0],g=pt.isFunction(p);if(g||d>1&&"string"==typeof p&&!ft.checkClone&&Zt.test(p))return t.each(function(i){var s=t.eq(i);g&&(e[0]=p.call(this,i,s.html())),P(s,e,n,r)});if(d&&(s=w(e,t[0].ownerDocument,!1,t,r),o=s.firstChild,1===s.childNodes.length&&(s=o),o||r)){for(c=(a=pt.map(y(s,"script"),E)).length;h<d;h++)l=s,h!==f&&(l=pt.clone(l,!0,!0),c&&pt.merge(a,y(l,"script"))),n.call(t[h],l,h);if(c)for(u=a[a.length-1].ownerDocument,pt.map(a,T),h=0;h<c;h++)l=a[h],Ut.test(l.type||"")&&!It.access(l,"globalEval")&&pt.contains(u,l)&&(l.src?pt._evalUrl&&pt._evalUrl(l.src):i(l.textContent.replace(Qt,""),u))}return t}function I(t,e,i){for(var n,r=e?pt.filter(e,t):t,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||pt.cleanData(y(n)),n.parentNode&&(i&&pt.contains(n.ownerDocument,n)&&b(y(n,"script")),n.parentNode.removeChild(n));return t}function R(t,e,i){var n,r,s,o,a=t.style;return(i=i||ie(t))&&(""!==(o=i.getPropertyValue(e)||i[e])||pt.contains(t.ownerDocument,t)||(o=pt.style(t,e)),!ft.pixelMarginRight()&&ee.test(o)&&te.test(e)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function M(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function O(t){if(t in ce)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ae.length;i--;)if((t=ae[i]+e)in ce)return t}function N(t){var e=pt.cssProps[t];return e||(e=pt.cssProps[t]=O(t)||t),e}function j(t,e,i){var n=jt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function D(t,e,i,n,r){var s,o=0;for(s=i===(n?"border":"content")?4:"width"===e?1:0;s<4;s+=2)"margin"===i&&(o+=pt.css(t,i+Dt[s],!0,r)),n?("content"===i&&(o-=pt.css(t,"padding"+Dt[s],!0,r)),"margin"!==i&&(o-=pt.css(t,"border"+Dt[s]+"Width",!0,r))):(o+=pt.css(t,"padding"+Dt[s],!0,r),"padding"!==i&&(o+=pt.css(t,"border"+Dt[s]+"Width",!0,r)));return o}function L(t,e,i){var n,r=ie(t),s=R(t,e,r),o="border-box"===pt.css(t,"boxSizing",!1,r);return ee.test(s)?s:(n=o&&(ft.boxSizingReliable()||s===t.style[e]),"auto"===s&&(s=t["offset"+e[0].toUpperCase()+e.slice(1)]),(s=parseFloat(s)||0)+D(t,e,i||(o?"border":"content"),n,r)+"px")}function q(t,e,i,n,r){return new q.prototype.init(t,e,i,n,r)}function V(){ue&&(!1===it.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(V):t.setTimeout(V,pt.fx.interval),pt.fx.tick())}function F(){return t.setTimeout(function(){le=void 0}),le=pt.now()}function z(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=Dt[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function U(t,e,i){for(var n,r=(G.tweeners[e]||[]).concat(G.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,e,t))return n}function W(t,e,i){var n,r,s,o,a,c,l,u,h="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&Lt(t),m=It.get(t,"fxshow");i.queue||(null==(o=pt._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,pt.queue(t,"fx").length||o.empty.fire()})}));for(n in e)if(r=e[n],he.test(r)){if(delete e[n],s=s||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}f[n]=m&&m[n]||pt.style(t,n)}if((c=!pt.isEmptyObject(e))||!pt.isEmptyObject(f)){h&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=m&&m.display)&&(l=It.get(t,"display")),"none"===(u=pt.css(t,"display"))&&(l?u=l:(v([t],!0),l=t.style.display||l,u=pt.css(t,"display"),v([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===pt.css(t,"float")&&(c||(d.done(function(){p.display=l}),null==l&&(u=p.display,l="none"===u?"":u)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),c=!1;for(n in f)c||(m?"hidden"in m&&(g=m.hidden):m=It.access(t,"fxshow",{display:l}),s&&(m.hidden=!g),g&&v([t],!0),d.done(function(){g||v([t]),It.remove(t,"fxshow");for(n in f)pt.style(t,n,f[n])})),c=U(g?m[n]:0,n,d),n in m||(m[n]=c.start,g&&(c.end=c.start,c.start=0))}}function H(t,e){var i,n,r,s,o;for(i in t)if(n=pt.camelCase(i),r=e[n],s=t[i],Array.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(o=pt.cssHooks[n])&&"expand"in o){s=o.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=r)}else e[n]=r}function G(t,e,i){var n,r,s=0,o=G.prefilters.length,a=pt.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=le||F(),i=Math.max(0,l.startTime+l.duration-e),n=1-(i/l.duration||0),s=0,o=l.tweens.length;s<o;s++)l.tweens[s].run(n);return a.notifyWith(t,[l,n,i]),n<1&&o?i:(o||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},i),originalProperties:e,originalOptions:i,startTime:le||F(),duration:i.duration,tweens:[],createTween:function(e,i){var n=pt.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),u=l.props;for(H(u,l.opts.specialEasing);s<o;s++)if(n=G.prefilters[s].call(l,t,u,l.opts))return pt.isFunction(n.stop)&&(pt._queueHooks(l.elem,l.opts.queue).stop=pt.proxy(n.stop,n)),n;return pt.map(u,U,l),pt.isFunction(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),pt.fx.timer(pt.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}function $(t){return(t.match(Et)||[]).join(" ")}function J(t){return t.getAttribute&&t.getAttribute("class")||""}function K(t,e,i,n){var r;if(Array.isArray(e))pt.each(e,function(e,r){i||xe.test(t)?n(t,r):K(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==pt.type(e))n(t,e);else for(r in e)K(t+"["+r+"]",e[r],i,n)}function Y(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,s=e.toLowerCase().match(Et)||[];if(pt.isFunction(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Z(t,e,i,n){function r(a){var c;return s[a]=!0,pt.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||o||s[l]?o?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),c}var s={},o=t===_e;return r(e.dataTypes[0])||!s["*"]&&r("*")}function X(t,e){var i,n,r=pt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&pt.extend(!0,t,n),t}function Q(t,e,i){for(var n,r,s,o,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){c.unshift(r);break}if(c[0]in i)s=c[0];else{for(r in i){if(!c[0]||t.converters[r+" "+c[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==c[0]&&c.unshift(s),i[s]}function tt(t,e,i,n){var r,s,o,a,c,l={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!c&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=u.shift())if("*"===s)s=c;else if("*"!==c&&c!==s){if(!(o=l[c+" "+s]||l["* "+s]))for(r in l)if((a=r.split(" "))[1]===s&&(o=l[c+" "+a[0]]||l["* "+a[0]])){!0===o?o=l[r]:!0!==l[r]&&(s=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+c+" to "+s}}}return{state:"success",data:e}}var et=[],it=t.document,nt=Object.getPrototypeOf,rt=et.slice,st=et.concat,ot=et.push,at=et.indexOf,ct={},lt=ct.toString,ut=ct.hasOwnProperty,ht=ut.toString,dt=ht.call(Object),ft={},pt=function(t,e){return new pt.fn.init(t,e)},gt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:"3.2.1",constructor:pt,length:0,toArray:function(){return rt.call(this)},get:function(t){return null==t?rt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:et.sort,splice:et.splice},pt.extend=pt.fn.extend=function(){var t,e,i,n,r,s,o=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||pt.isFunction(o)||(o={}),a===c&&(o=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)i=o[e],o!==(n=t[e])&&(l&&n&&(pt.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,s=i&&Array.isArray(i)?i:[]):s=i&&pt.isPlainObject(i)?i:{},o[e]=pt.extend(l,s,n)):void 0!==n&&(o[e]=n));return o},pt.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=pt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==lt.call(t))&&(!(e=nt(t))||"function"==typeof(i=ut.call(e,"constructor")&&e.constructor)&&ht.call(i)===dt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ct[lt.call(t)]||"object":typeof t},globalEval:function(t){i(t)},camelCase:function(t){return t.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,gt)},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;r<i&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?pt.merge(i,"string"==typeof t?[t]:t):ot.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:at.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,s=t.length,o=!i;r<s;r++)!e(t[r],r)!==o&&n.push(t[r]);return n},map:function(t,e,i){var r,s,o=0,a=[];if(n(t))for(r=t.length;o<r;o++)null!=(s=e(t[o],o,i))&&a.push(s);else for(o in t)null!=(s=e(t[o],o,i))&&a.push(s);return st.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),pt.isFunction(t))return n=rt.call(arguments,2),r=function(){return t.apply(e||this,n.concat(rt.call(arguments)))},r.guid=t.guid=t.guid||pt.guid++,r},now:Date.now,support:ft}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=et[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ct["[object "+e+"]"]=e.toLowerCase()});var mt=function(t){function e(t,e,i,n){var r,s,o,a,c,u,d,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return i;if(!n&&((e?e.ownerDocument||e:q)!==I&&P(e),e=e||I,M)){if(11!==p&&(c=gt.exec(t)))if(r=c[1]){if(9===p){if(!(o=e.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(f&&(o=f.getElementById(r))&&D(e,o)&&o.id===r)return i.push(o),i}else{if(c[2])return Y.apply(i,e.getElementsByTagName(t)),i;if((r=c[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Y.apply(i,e.getElementsByClassName(r)),i}if(w.qsa&&!W[t+" "]&&(!O||!O.test(t))){if(1!==p)f=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,wt):e.setAttribute("id",a=L),s=(u=S(t)).length;s--;)u[s]="#"+a+" "+h(u[s]);d=u.join(","),f=mt.test(t)&&l(e.parentNode)||e}if(d)try{return Y.apply(i,f.querySelectorAll(d)),i}catch(t){}finally{a===L&&e.removeAttribute("id")}}}return E(t.replace(st,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[L]=!0,t}function r(t){var e=I.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=i.length;n--;)x.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&At(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var r,s=t([],i.length,e),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function u(){}function h(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function d(t,e,i){var n=e.dir,r=e.next,s=r||n,o=i&&"parentNode"===s,a=F++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r);return!1}:function(e,i,c){var l,u,h,d=[V,a];if(c){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,c))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(h=e[L]||(e[L]={}),u=h[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((l=u[s])&&l[0]===V&&l[1]===a)return d[2]=l[2];if(u[s]=d,d[2]=t(e,i,c))return!0}return!1}}function f(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function p(t,i,n){for(var r=0,s=i.length;r<s;r++)e(t,i[r],n);return n}function g(t,e,i,n,r){for(var s,o=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(i&&!i(s,n,r)||(o.push(s),l&&e.push(a)));return o}function m(t,e,i,r,s,o){return r&&!r[L]&&(r=m(r)),s&&!s[L]&&(s=m(s,o)),n(function(n,o,a,c){var l,u,h,d=[],f=[],m=o.length,v=n||p(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:g(v,d,t,a,c),b=i?s||(n?t:m||r)?[]:o:y;if(i&&i(y,b,a,c),r)for(l=g(b,f),r(l,[],a,c),u=l.length;u--;)(h=l[u])&&(b[f[u]]=!(y[f[u]]=h));if(n){if(s||t){if(s){for(l=[],u=b.length;u--;)(h=b[u])&&l.push(y[u]=h);s(null,b=[],l,c)}for(u=b.length;u--;)(h=b[u])&&(l=s?X(n,h):d[u])>-1&&(n[l]=!(o[l]=h))}}else b=g(b===o?b.splice(m,b.length):b),s?s(null,o,b,c):Y.apply(o,b)})}function v(t){for(var e,i,n,r=t.length,s=x.relative[t[0].type],o=s||x.relative[" "],a=s?1:0,c=d(function(t){return t===e},o,!0),l=d(function(t){return X(e,t)>-1},o,!0),u=[function(t,i,n){var r=!s&&(n||i!==T)||((e=i).nodeType?c(t,i,n):l(t,i,n));return e=null,r}];a<r;a++)if(i=x.relative[t[a].type])u=[d(f(u),i)];else{if((i=x.filter[t[a].type].apply(null,t[a].matches))[L]){for(n=++a;n<r&&!x.relative[t[n].type];n++);return m(a>1&&f(u),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),i,a<n&&v(t.slice(a,n)),n<r&&v(t=t.slice(n)),n<r&&h(t))}u.push(i)}return f(u)}function y(t,i){var r=i.length>0,s=t.length>0,o=function(n,o,a,c,l){var u,h,d,f=0,p="0",m=n&&[],v=[],y=T,b=n||s&&x.find.TAG("*",l),w=V+=null==y?1:Math.random()||.1,A=b.length;for(l&&(T=o===I||o||l);p!==A&&null!=(u=b[p]);p++){if(s&&u){for(h=0,o||u.ownerDocument===I||(P(u),a=!M);d=t[h++];)if(d(u,o||I,a)){c.push(u);break}l&&(V=w)}r&&((u=!d&&u)&&f--,n&&m.push(u))}if(f+=p,r&&p!==f){for(h=0;d=i[h++];)d(m,v,o,a);if(n){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=J.call(c));v=g(v)}Y.apply(c,v),l&&!n&&v.length>0&&f+i.length>1&&e.uniqueSort(c)}return l&&(V=w,T=y),m};return r?n(o):o}var b,w,x,A,C,S,k,E,T,_,B,P,I,R,M,O,N,j,D,L="sizzle"+1*new Date,q=t.document,V=0,F=0,z=i(),U=i(),W=i(),H=function(t,e){return t===e&&(B=!0),0},G={}.hasOwnProperty,$=[],J=$.pop,K=$.push,Y=$.push,Z=$.slice,X=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",nt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),st=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),ot=new RegExp("^"+tt+"*,"+tt+"*"),at=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ct=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),lt=new RegExp(nt),ut=new RegExp("^"+et+"$"),ht={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+nt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,ft=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,vt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),yt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},bt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},xt=function(){P()},At=d(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Y.apply($=Z.call(q.childNodes),q.childNodes),$[q.childNodes.length].nodeType}catch(t){Y={apply:$.length?function(t,e){K.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}w=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},P=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:q;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,R=I.documentElement,M=!C(I),q!==I&&(i=I.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",xt,!1):i.attachEvent&&i.attachEvent("onunload",xt)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(I.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=pt.test(I.getElementsByClassName),w.getById=r(function(t){return R.appendChild(t).id=L,!I.getElementsByName||!I.getElementsByName(L).length}),w.getById?(x.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){return t.getAttribute("id")===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&M){var i=e.getElementById(t);return i?[i]:[]}}):(x.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&M){var i,n,r,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(r=e.getElementsByName(t),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),x.find.TAG=w.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},x.find.CLASS=w.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&M)return e.getElementsByClassName(t)},N=[],O=[],(w.qsa=pt.test(I.querySelectorAll))&&(r(function(t){R.appendChild(t).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+tt+"*(?:value|"+Q+")"),t.querySelectorAll("[id~="+L+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+L+"+*").length||O.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=I.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&O.push(":enabled",":disabled"),R.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(w.matchesSelector=pt.test(j=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&r(function(t){w.disconnectedMatch=j.call(t,"*"),j.call(t,"[s!='']:x"),N.push("!=",nt)}),O=O.length&&new RegExp(O.join("|")),N=N.length&&new RegExp(N.join("|")),e=pt.test(R.compareDocumentPosition),D=e||pt.test(R.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},H=e?function(t,e){if(t===e)return B=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!w.sortDetached&&e.compareDocumentPosition(t)===i?t===I||t.ownerDocument===q&&D(q,t)?-1:e===I||e.ownerDocument===q&&D(q,e)?1:_?X(_,t)-X(_,e):0:4&i?-1:1)}:function(t,e){if(t===e)return B=!0,0;var i,n=0,r=t.parentNode,s=e.parentNode,a=[t],c=[e];if(!r||!s)return t===I?-1:e===I?1:r?-1:s?1:_?X(_,t)-X(_,e):0;if(r===s)return o(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;a[n]===c[n];)n++;return n?o(a[n],c[n]):a[n]===q?-1:c[n]===q?1:0},I):I},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==I&&P(t),i=i.replace(ct,"='$1']"),w.matchesSelector&&M&&!W[i+" "]&&(!N||!N.test(i))&&(!O||!O.test(i)))try{var n=j.call(t,i);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,I,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==I&&P(t),D(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==I&&P(t);var i=x.attrHandle[e.toLowerCase()],n=i&&G.call(x.attrHandle,e.toLowerCase())?i(t,e,!M):void 0;return void 0!==n?n:w.attributes||!M?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(bt,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(B=!w.detectDuplicates,_=!w.sortStable&&t.slice(0),t.sort(H),B){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return _=null,t},A=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=A(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=A(e);return i},(x=e.selectors={cacheLength:50,createPseudo:n,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(vt,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(vt,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&lt.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(vt,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var s=e.attr(r,t);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(rt," ")+" ").indexOf(n)>-1:"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,c){var l,u,h,d,f,p,g=s!==o?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!c&&!a,b=!1;if(m){if(s){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&y){for(b=(f=(l=(u=(h=(d=m)[L]||(d[L]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===V&&l[1])&&l[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){u[t]=[V,f,b];break}}else if(y&&(b=f=(l=(u=(h=(d=e)[L]||(d[L]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===V&&l[1]),!1===b)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((u=(h=d[L]||(d[L]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[V,b]),d!==e)););return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(t,i){var r,s=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[L]?s(i):s.length>1?(r=[t,t,"",i],x.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=s(t,i),o=r.length;o--;)t[n=X(t,r[o])]=!(e[n]=r[o])}):function(t){return s(t,0,r)}):s}},pseudos:{not:n(function(t){var e=[],i=[],r=k(t.replace(st,"$1"));return r[L]?n(function(t,e,i,n){for(var s,o=r(t,null,n,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,n,s){return e[0]=t,r(e,null,s,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(vt,yt),function(e){return(e.textContent||e.innerText||A(e)).indexOf(t)>-1}}),lang:n(function(t){return ut.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(vt,yt).toLowerCase(),function(e){var i;do{if(i=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===R},focus:function(t){return t===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return ft.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[i<0?i+e:i]}),even:c(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(b);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,S=e.tokenize=function(t,i){var n,r,s,o,a,c,l,u=U[t+" "];if(u)return i?0:u.slice(0);for(a=t,c=[],l=x.preFilter;a;){n&&!(r=ot.exec(a))||(r&&(a=a.slice(r[0].length)||a),c.push(s=[])),n=!1,(r=at.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(st," ")}),a=a.slice(n.length));for(o in x.filter)!(r=ht[o].exec(a))||l[o]&&!(r=l[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):U(t,c).slice(0)},k=e.compile=function(t,e){var i,n=[],r=[],s=W[t+" "];if(!s){for(e||(e=S(t)),i=e.length;i--;)(s=v(e[i]))[L]?n.push(s):r.push(s);(s=W(t,y(r,n))).selector=t}return s},E=e.select=function(t,e,i,n){var r,s,o,a,c,u="function"==typeof t&&t,d=!n&&S(t=u.selector||t);if(i=i||[],1===d.length){if((s=d[0]=d[0].slice(0)).length>2&&"ID"===(o=s[0]).type&&9===e.nodeType&&M&&x.relative[s[1].type]){if(!(e=(x.find.ID(o.matches[0].replace(vt,yt),e)||[])[0]))return i;u&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(r=ht.needsContext.test(t)?0:s.length;r--&&(o=s[r],!x.relative[a=o.type]);)if((c=x.find[a])&&(n=c(o.matches[0].replace(vt,yt),mt.test(s[0].type)&&l(e.parentNode)||e))){if(s.splice(r,1),!(t=n.length&&h(s)))return Y.apply(i,n),i;break}}return(u||k(t,d))(n,e,!M,i,!e||mt.test(t)&&l(e.parentNode)||e),i},w.sortStable=L.split("").sort(H).join("")===L,w.detectDuplicates=!!B,P(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(I.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||s(Q,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);pt.find=mt,pt.expr=mt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=mt.uniqueSort,pt.text=mt.getText,pt.isXMLDoc=mt.isXML,pt.contains=mt.contains,pt.escapeSelector=mt.escape;var vt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&pt(t).is(i))break;n.push(t)}return n},yt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},bt=pt.expr.match.needsContext,wt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,xt=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?pt.find.matchesSelector(n,t)?[n]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;e<n;e++)if(pt.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)pt.find(t,r[e],i);return n>1?pt.uniqueSort(i):i},filter:function(t){return this.pushStack(s(this,t||[],!1))},not:function(t){return this.pushStack(s(this,t||[],!0))},is:function(t){return!!s(this,"string"==typeof t&&bt.test(t)?pt(t):t||[],!1).length}});var At,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(pt.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||At,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ct.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),wt.test(n[1])&&pt.isPlainObject(e))for(n in e)pt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=it.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):pt.isFunction(t)?void 0!==i.ready?i.ready(t):t(pt):pt.makeArray(t,this)}).prototype=pt.fn,At=pt(it);var St=/^(?:parents|prev(?:Until|All))/,kt={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e=pt(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(pt.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,s=[],o="string"!=typeof t&&pt(t);if(!bt.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&pt.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?pt.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?at.call(pt(t),this[0]):at.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return vt(t,"parentNode")},parentsUntil:function(t,e,i){return vt(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return vt(t,"nextSibling")},prevAll:function(t){return vt(t,"previousSibling")},nextUntil:function(t,e,i){return vt(t,"nextSibling",i)},prevUntil:function(t,e,i){return vt(t,"previousSibling",i)},siblings:function(t){return yt((t.parentNode||{}).firstChild,t)},children:function(t){return yt(t.firstChild)},contents:function(t){return r(t,"iframe")?t.contentDocument:(r(t,"template")&&(t=t.content||t),pt.merge([],t.childNodes))}},function(t,e){pt.fn[t]=function(i,n){var r=pt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=pt.filter(n,r)),this.length>1&&(kt[t]||pt.uniqueSort(r),St.test(t)&&r.reverse()),this.pushStack(r)}});var Et=/[^\x20\t\r\n\f]+/g;pt.Callbacks=function(t){t="string"==typeof t?a(t):pt.extend({},t);var e,i,n,r,s=[],o=[],c=-1,l=function(){for(r=r||t.once,n=e=!0;o.length;c=-1)for(i=o.shift();++c<s.length;)!1===s[c].apply(i[0],i[1])&&t.stopOnFalse&&(c=s.length,i=!1);t.memory||(i=!1),e=!1,r&&(s=i?[]:"")},u={add:function(){return s&&(i&&!e&&(c=s.length-1,o.push(i)),function e(i){pt.each(i,function(i,n){pt.isFunction(n)?t.unique&&u.has(n)||s.push(n):n&&n.length&&"string"!==pt.type(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return pt.each(arguments,function(t,e){for(var i;(i=pt.inArray(e,s,i))>-1;)s.splice(i,1),i<=c&&c--}),this},has:function(t){return t?pt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=o=[],i||e||(s=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=[t,(i=i||[]).slice?i.slice():i],o.push(i),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},pt.extend({Deferred:function(e){var i=[["notify","progress",pt.Callbacks("memory"),pt.Callbacks("memory"),2],["resolve","done",pt.Callbacks("once memory"),pt.Callbacks("once memory"),0,"resolved"],["reject","fail",pt.Callbacks("once memory"),pt.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return pt.Deferred(function(e){pt.each(i,function(i,n){var r=pt.isFunction(t[n[4]])&&t[n[4]];s[n[1]](function(){var t=r&&r.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,n,r){function s(e,i,n,r){return function(){var a=this,u=arguments,h=function(){var t,h;if(!(e<o)){if((t=n.apply(a,u))===i.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,pt.isFunction(h)?r?h.call(t,s(o,i,c,r),s(o,i,l,r)):(o++,h.call(t,s(o,i,c,r),s(o,i,l,r),s(o,i,c,i.notifyWith))):(n!==c&&(a=void 0,u=[t]),(r||i.resolveWith)(a,u))}},d=r?h:function(){try{h()}catch(t){pt.Deferred.exceptionHook&&pt.Deferred.exceptionHook(t,d.stackTrace),e+1>=o&&(n!==l&&(a=void 0,u=[t]),i.rejectWith(a,u))}};e?d():(pt.Deferred.getStackHook&&(d.stackTrace=pt.Deferred.getStackHook()),t.setTimeout(d))}}var o=0;return pt.Deferred(function(t){i[0][3].add(s(0,t,pt.isFunction(r)?r:c,t.notifyWith)),i[1][3].add(s(0,t,pt.isFunction(e)?e:c)),i[2][3].add(s(0,t,pt.isFunction(n)?n:l))}).promise()},promise:function(t){return null!=t?pt.extend(t,r):r}},s={};return pt.each(i,function(t,e){var o=e[2],a=e[5];r[e[1]]=o.add,a&&o.add(function(){n=a},i[3-t][2].disable,i[0][2].lock),o.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=o.fireWith}),r.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),r=rt.call(arguments),s=pt.Deferred(),o=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?rt.call(arguments):i,--e||s.resolveWith(n,r)}};if(e<=1&&(u(t,s.done(o(i)).resolve,s.reject,!e),"pending"===s.state()||pt.isFunction(r[i]&&r[i].then)))return s.then();for(;i--;)u(r[i],o(i),s.reject);return s.promise()}});var Tt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pt.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&Tt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},pt.readyException=function(e){t.setTimeout(function(){throw e})};var _t=pt.Deferred();pt.fn.ready=function(t){return _t.then(t).catch(function(t){pt.readyException(t)}),this},pt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--pt.readyWait:pt.isReady)||(pt.isReady=!0,!0!==t&&--pt.readyWait>0||_t.resolveWith(it,[pt]))}}),pt.ready.then=_t.then,"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll?t.setTimeout(pt.ready):(it.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var Bt=function(t,e,i,n,r,s,o){var a=0,c=t.length,l=null==i;if("object"===pt.type(i)){r=!0;for(a in i)Bt(t,e,a,i[a],!0,s,o)}else if(void 0!==n&&(r=!0,pt.isFunction(n)||(o=!0),l&&(o?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(pt(t),i)})),e))for(;a<c;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return r?t:l?e.call(t):c?e(t[0],i):s},Pt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};d.uid=1,d.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Pt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[pt.camelCase(e)]=i;else for(n in e)r[pt.camelCase(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][pt.camelCase(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(pt.camelCase):(e=pt.camelCase(e))in n?[e]:e.match(Et)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||pt.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!pt.isEmptyObject(e)}};var It=new d,Rt=new d,Mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ot=/[A-Z]/g;pt.extend({hasData:function(t){return Rt.hasData(t)||It.hasData(t)},data:function(t,e,i){return Rt.access(t,e,i)},removeData:function(t,e){Rt.remove(t,e)},_data:function(t,e,i){return It.access(t,e,i)},_removeData:function(t,e){It.remove(t,e)}}),pt.fn.extend({data:function(t,e){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=Rt.get(s),1===s.nodeType&&!It.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=pt.camelCase(n.slice(5)),p(s,n,r[n]));It.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Rt.set(this,t)}):Bt(this,function(e){var i;if(s&&void 0===e){if(void 0!==(i=Rt.get(s,t)))return i;if(void 0!==(i=p(s,t)))return i}else this.each(function(){Rt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Rt.remove(this,t)})}}),pt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=It.get(t,e),i&&(!n||Array.isArray(i)?n=It.access(t,e,pt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=pt.queue(t,e),n=i.length,r=i.shift(),s=pt._queueHooks(t,e),o=function(){pt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return It.get(t,i)||It.access(t,i,{empty:pt.Callbacks("once memory").add(function(){It.remove(t,[e+"queue",i])})})}}),pt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?pt.queue(this[0],t):void 0===e?this:this.each(function(){var i=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=pt.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=It.get(s[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var Nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,jt=new RegExp("^(?:([+-])=|)("+Nt+")([a-z%]*)$","i"),Dt=["Top","Right","Bottom","Left"],Lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&pt.contains(t.ownerDocument,t)&&"none"===pt.css(t,"display")},qt=function(t,e,i,n){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];r=i.apply(t,n||[]);for(s in e)t.style[s]=o[s];return r},Vt={};pt.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Lt(this)?pt(this).show():pt(this).hide()})}});var Ft=/^(?:checkbox|radio)$/i,zt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ut=/^$|\/(?:java|ecma)script/i,Wt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Wt.optgroup=Wt.option,Wt.tbody=Wt.tfoot=Wt.colgroup=Wt.caption=Wt.thead,Wt.th=Wt.td;var Ht=/<|&#?\w+;/;!function(){var t=it.createDocumentFragment().appendChild(it.createElement("div")),e=it.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),ft.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ft.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Gt=it.documentElement,$t=/^key/,Jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,i,n,r){var s,o,a,c,l,u,h,d,f,p,g,m=It.get(t);if(m)for(i.handler&&(i=(s=i).handler,r=s.selector),r&&pt.find.matchesSelector(Gt,r),i.guid||(i.guid=pt.guid++),(c=m.events)||(c=m.events={}),(o=m.handle)||(o=m.handle=function(e){return void 0!==pt&&pt.event.triggered!==e.type?pt.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(Et)||[""]).length;l--;)f=g=(a=Kt.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=pt.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=pt.event.special[f]||{},u=pt.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&pt.expr.match.needsContext.test(r),namespace:p.join(".")},s),(d=c[f])||((d=c[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,p,o)||t.addEventListener&&t.addEventListener(f,o)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),pt.event.global[f]=!0)},remove:function(t,e,i,n,r){var s,o,a,c,l,u,h,d,f,p,g,m=It.hasData(t)&&It.get(t);if(m&&(c=m.events)){for(l=(e=(e||"").match(Et)||[""]).length;l--;)if(a=Kt.exec(e[l])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(h=pt.event.special[f]||{},d=c[f=(n?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)u=d[s],!r&&g!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||pt.removeEvent(t,f,m.handle),delete c[f])}else for(f in c)pt.event.remove(t,f+e[l],i,n,!0);pt.isEmptyObject(c)&&It.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,s,o,a=pt.event.fix(t),c=new Array(arguments.length),l=(It.get(this,"events")||{})[a.type]||[],u=pt.event.special[a.type]||{};for(c[0]=a,e=1;e<arguments.length;e++)c[e]=arguments[e];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(o=pt.event.handlers.call(this,a,l),e=0;(r=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(n=((pt.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,c))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,s,o,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(s=[],o={},i=0;i<c;i++)void 0===o[r=(n=e[i]).selector+" "]&&(o[r]=n.needsContext?pt(r,this).index(l)>-1:pt.find(r,this,null,[l]).length),o[r]&&s.push(n);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(pt.Event.prototype,t,{enumerable:!0,configurable:!0,get:pt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[pt.expando]?t:new pt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&r(this,"input"))return this.click(),!1},_default:function(t){return r(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},pt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},pt.Event=function(t,e){if(!(this instanceof pt.Event))return new pt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?x:A,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),this[pt.expando]=!0},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:A,isPropagationStopped:A,isImmediatePropagationStopped:A,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=x,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=x,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=x,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&$t.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Jt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},pt.event.addProp),pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,s=t.handleObj;return r&&(r===n||pt.contains(n,r))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),pt.fn.extend({on:function(t,e,i,n){return S(this,t,e,i,n)},one:function(t,e,i,n){return S(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,pt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=A),this.each(function(){pt.event.remove(this,t,i,e)})}});var Yt=/<script|<style|<link/i,Zt=/checked\s*(?:[^=]|=\s*.checked.)/i,Xt=/^true\/(.*)/,Qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pt.extend({htmlPrefilter:function(t){return t.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(t,e,i){var n,r,s,o,a=t.cloneNode(!0),c=pt.contains(t.ownerDocument,t);if(!(ft.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(o=y(a),n=0,r=(s=y(t)).length;n<r;n++)B(s[n],o[n]);if(e)if(i)for(s=s||y(t),o=o||y(a),n=0,r=s.length;n<r;n++)_(s[n],o[n]);else _(t,a);return(o=y(a,"script")).length>0&&b(o,!c&&y(t,"script")),a},cleanData:function(t){for(var e,i,n,r=pt.event.special,s=0;void 0!==(i=t[s]);s++)if(Pt(i)){if(e=i[It.expando]){if(e.events)for(n in e.events)r[n]?pt.event.remove(i,n):pt.removeEvent(i,n,e.handle);i[It.expando]=void 0}i[Rt.expando]&&(i[Rt.expando]=void 0)}}}),pt.fn.extend({detach:function(t){return I(this,t,!0)},remove:function(t){return I(this,t)},text:function(t){return Bt(this,function(t){return void 0===t?pt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return P(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||k(this,t).appendChild(t)})},prepend:function(){return P(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=k(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return P(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return P(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(pt.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Bt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Yt.test(t)&&!Wt[(zt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(pt.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return P(this,arguments,function(e){var i=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(y(this)),i&&i.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var i,n=[],r=pt(t),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),pt(r[o])[e](i),ot.apply(n,i.get());return this.pushStack(n)}});var te=/^margin/,ee=new RegExp("^("+Nt+")(?!px)[a-z%]+$","i"),ie=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Gt.appendChild(o);var e=t.getComputedStyle(a);i="1%"!==e.top,s="2px"===e.marginLeft,n="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Gt.removeChild(o),a=null}}var i,n,r,s,o=it.createElement("div"),a=it.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ft.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),pt.extend(ft,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return e(),n},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),s}}))}();var ne=/^(none|table(?!-c[ea]).+)/,re=/^--/,se={position:"absolute",visibility:"hidden",display:"block"},oe={letterSpacing:"0",fontWeight:"400"},ae=["Webkit","Moz","ms"],ce=it.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=R(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=pt.camelCase(e),c=re.test(e),l=t.style;if(c||(e=N(a)),o=pt.cssHooks[e]||pt.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:l[e];"string"===(s=typeof i)&&(r=jt.exec(i))&&r[1]&&(i=g(t,e,r),s="number"),null!=i&&i===i&&("number"===s&&(i+=r&&r[3]||(pt.cssNumber[a]?"":"px")),ft.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(c?l.setProperty(e,i):l[e]=i))}},css:function(t,e,i,n){var r,s,o,a=pt.camelCase(e);return re.test(e)||(e=N(a)),(o=pt.cssHooks[e]||pt.cssHooks[a])&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=R(t,e,n)),"normal"===r&&e in oe&&(r=oe[e]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,i,n){if(i)return!ne.test(pt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?L(t,e,n):qt(t,se,function(){return L(t,e,n)})},set:function(t,i,n){var r,s=n&&ie(t),o=n&&D(t,e,n,"border-box"===pt.css(t,"boxSizing",!1,s),s);return o&&(r=jt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=pt.css(t,e)),j(t,i,o)}}}),pt.cssHooks.marginLeft=M(ft.reliableMarginLeft,function(t,e){if(e)return(parseFloat(R(t,"marginLeft"))||t.getBoundingClientRect().left-qt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+Dt[n]+e]=s[n]||s[n-2]||s[0];return r}},te.test(t)||(pt.cssHooks[t+e].set=j)}),pt.fn.extend({css:function(t,e){return Bt(this,function(t,e,i){var n,r,s={},o=0;if(Array.isArray(e)){for(n=ie(t),r=e.length;o<r;o++)s[e[o]]=pt.css(t,e[o],!1,n);return s}return void 0!==i?pt.style(t,e,i):pt.css(t,e)},t,e,arguments.length>1)}}),pt.Tween=q,q.prototype={constructor:q,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(pt.cssNumber[i]?"":"px")},cur:function(){var t=q.propHooks[this.prop];return t&&t.get?t.get(this):q.propHooks._default.get(this)},run:function(t){var e,i=q.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=q.prototype.init,pt.fx.step={};var le,ue,he=/^(?:toggle|show|hide)$/,de=/queueHooks$/;pt.Animation=pt.extend(G,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return g(i.elem,t,jt.exec(e),i),i}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Et);for(var i,n=0,r=t.length;n<r;n++)i=t[n],G.tweeners[i]=G.tweeners[i]||[],G.tweeners[i].unshift(e)},prefilters:[W],prefilter:function(t,e){e?G.prefilters.unshift(t):G.prefilters.push(t)}}),pt.speed=function(t,e,i){var n=t&&"object"==typeof t?pt.extend({},t):{complete:i||!i&&e||pt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!pt.isFunction(e)&&e};return pt.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in pt.fx.speeds?n.duration=pt.fx.speeds[n.duration]:n.duration=pt.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){pt.isFunction(n.old)&&n.old.call(this),n.queue&&pt.dequeue(this,n.queue)},n},pt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=pt.isEmptyObject(t),s=pt.speed(e,i,n),o=function(){var e=G(this,pt.extend({},t),s);(r||It.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",s=pt.timers,o=It.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&de.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(i),e=!1,s.splice(r,1));!e&&i||pt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=It.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],s=pt.timers,o=n?n.length:0;for(i.finish=!0,pt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var i=pt.fn[e];pt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(z(e,!0),t,n,r)}}),pt.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),pt.timers=[],pt.fx.tick=function(){var t,e=0,i=pt.timers;for(le=pt.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||pt.fx.stop(),le=void 0},pt.fx.timer=function(t){pt.timers.push(t),pt.fx.start()},pt.fx.interval=13,pt.fx.start=function(){ue||(ue=!0,V())},pt.fx.stop=function(){ue=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,i){return e=pt.fx?pt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},function(){var t=it.createElement("input"),e=it.createElement("select").appendChild(it.createElement("option"));t.type="checkbox",ft.checkOn=""!==t.value,ft.optSelected=e.selected,(t=it.createElement("input")).value="t",t.type="radio",ft.radioValue="t"===t.value}();var fe,pe=pt.expr.attrHandle;pt.fn.extend({attr:function(t,e){return Bt(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?pt.prop(t,e,i):(1===s&&pt.isXMLDoc(t)||(r=pt.attrHooks[e.toLowerCase()]||(pt.expr.match.bool.test(e)?fe:void 0)),void 0!==i?null===i?void pt.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=pt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!ft.radioValue&&"radio"===e&&r(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(Et);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),fe={set:function(t,e,i){return!1===e?pt.removeAttr(t,i):t.setAttribute(i,i),i}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=pe[e]||pt.find.attr;pe[e]=function(t,e,n){var r,s,o=e.toLowerCase();return n||(s=pe[o],pe[o]=r,r=null!=i(t,e,n)?o:null,pe[o]=s),r}});var ge=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Bt(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[pt.propFix[t]||t]})}}),pt.extend({prop:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,r=pt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ft.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),pt.fn.extend({addClass:function(t){var e,i,n,r,s,o,a,c=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,J(this)))});if("string"==typeof t&&t)for(e=t.match(Et)||[];i=this[c++];)if(r=J(i),n=1===i.nodeType&&" "+$(r)+" "){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r!==(a=$(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,s,o,a,c=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,J(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Et)||[];i=this[c++];)if(r=J(i),n=1===i.nodeType&&" "+$(r)+" "){for(o=0;s=e[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");r!==(a=$(n))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(i){pt(this).toggleClass(t.call(this,i,J(this),e),e)}):this.each(function(){var e,n,r,s;if("string"===i)for(n=0,r=pt(this),s=t.match(Et)||[];e=s[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||((e=J(this))&&It.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":It.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+$(J(i))+" ").indexOf(e)>-1)return!0;return!1}});pt.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=pt.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,pt(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=pt.map(r,function(t){return null==t?"":t+""})),(e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=pt.valHooks[r.type]||pt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(/\r/g,""):null==i?"":i)}}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:$(pt.text(t))}},select:{get:function(t){var e,i,n,s=t.options,o=t.selectedIndex,a="select-one"===t.type,c=a?null:[],l=a?o+1:s.length;for(n=o<0?l:a?o:0;n<l;n++)if(((i=s[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!r(i.parentNode,"optgroup"))){if(e=pt(i).val(),a)return e;c.push(e)}return c},set:function(t,e){for(var i,n,r=t.options,s=pt.makeArray(e),o=r.length;o--;)((n=r[o]).selected=pt.inArray(pt.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=pt.inArray(pt(t).val(),e)>-1}},ft.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ve=/^(?:focusinfocus|focusoutblur)$/;pt.extend(pt.event,{trigger:function(e,i,n,r){var s,o,a,c,l,u,h,d=[n||it],f=ut.call(e,"type")?e.type:e,p=ut.call(e,"namespace")?e.namespace.split("."):[];if(o=a=n=n||it,3!==n.nodeType&&8!==n.nodeType&&!ve.test(f+pt.event.triggered)&&(f.indexOf(".")>-1&&(f=(p=f.split(".")).shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,e=e[pt.expando]?e:new pt.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:pt.makeArray(i,[e]),h=pt.event.special[f]||{},r||!h.trigger||!1!==h.trigger.apply(n,i))){if(!r&&!h.noBubble&&!pt.isWindow(n)){for(c=h.delegateType||f,ve.test(c+f)||(o=o.parentNode);o;o=o.parentNode)d.push(o),a=o;a===(n.ownerDocument||it)&&d.push(a.defaultView||a.parentWindow||t)}for(s=0;(o=d[s++])&&!e.isPropagationStopped();)e.type=s>1?c:h.bindType||f,(u=(It.get(o,"events")||{})[e.type]&&It.get(o,"handle"))&&u.apply(o,i),(u=l&&o[l])&&u.apply&&Pt(o)&&(e.result=u.apply(o,i),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),i)||!Pt(n)||l&&pt.isFunction(n[f])&&!pt.isWindow(n)&&((a=n[l])&&(n[l]=null),pt.event.triggered=f,n[f](),pt.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(t,e,i){var n=pt.extend(new pt.Event,i,{type:t,isSimulated:!0});pt.event.trigger(n,null,e)}}),pt.fn.extend({trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return pt.event.trigger(t,e,i,!0)}}),pt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ft.focusin="onfocusin"in t,ft.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=It.access(n,e);r||n.addEventListener(t,i,!0),It.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=It.access(n,e)-1;r?It.access(n,e,r):(n.removeEventListener(t,i,!0),It.remove(n,e))}}});var ye=t.location,be=pt.now(),we=/\?/;pt.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),i};var xe=/\[\]$/,Ae=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var i,n=[],r=function(t,e){var i=pt.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){r(this.name,this.value)});else for(i in t)K(i,t[i],e,r);return n.join("&")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&Ce.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!Ft.test(t))}).map(function(t,e){var i=pt(this).val();return null==i?null:Array.isArray(i)?pt.map(i,function(t){return{name:e.name,value:t.replace(/\r?\n/g,"\r\n")}}):{name:e.name,value:i.replace(/\r?\n/g,"\r\n")}}).get()}});var Se=/^(.*?):[ \t]*([^\r\n]*)$/gm,ke=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ee=/^(?:GET|HEAD)$/,Te={},_e={},Be="*/".concat("*"),Pe=it.createElement("a");Pe.href=ye.href,pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ye.href,type:"GET",isLocal:ke.test(ye.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,pt.ajaxSettings),e):X(pt.ajaxSettings,t)},ajaxPrefilter:Y(Te),ajaxTransport:Y(_e),ajax:function(e,i){function n(e,i,n,a){var l,d,f,w,x,A=i;u||(u=!0,c&&t.clearTimeout(c),r=void 0,o=a||"",C.readyState=e>0?4:0,l=e>=200&&e<300||304===e,n&&(w=Q(p,C,n)),w=tt(p,w,C,l),l?(p.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(pt.lastModified[s]=x),(x=C.getResponseHeader("etag"))&&(pt.etag[s]=x)),204===e||"HEAD"===p.type?A="nocontent":304===e?A="notmodified":(A=w.state,d=w.data,l=!(f=w.error))):(f=A,!e&&A||(A="error",e<0&&(e=0))),C.status=e,C.statusText=(i||A)+"",l?v.resolveWith(g,[d,A,C]):v.rejectWith(g,[C,A,f]),C.statusCode(b),b=void 0,h&&m.trigger(l?"ajaxSuccess":"ajaxError",[C,p,l?d:f]),y.fireWith(g,[C,A]),h&&(m.trigger("ajaxComplete",[C,p]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,s,o,a,c,l,u,h,d,f,p=pt.ajaxSetup({},i),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?pt(g):pt.event,v=pt.Deferred(),y=pt.Callbacks("once memory"),b=p.statusCode||{},w={},x={},A="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(u){if(!a)for(a={};e=Se.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)C.always(t[C.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||A;return r&&r.abort(e),n(0,e),this}};if(v.promise(C),p.url=((e||p.url||ye.href)+"").replace(/^\/\//,ye.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Et)||[""],null==p.crossDomain){l=it.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Pe.protocol+"//"+Pe.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=pt.param(p.data,p.traditional)),Z(Te,p,i,C),u)return C;(h=pt.event&&p.global)&&0==pt.active++&&pt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ee.test(p.type),s=p.url.replace(/#.*$/,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(/%20/g,"+")):(f=p.url.slice(s.length),p.data&&(s+=(we.test(s)?"&":"?")+p.data,delete p.data),!1===p.cache&&(s=s.replace(/([?&])_=[^&]*/,"$1"),f=(we.test(s)?"&":"?")+"_="+be+++f),p.url=s+f),p.ifModified&&(pt.lastModified[s]&&C.setRequestHeader("If-Modified-Since",pt.lastModified[s]),pt.etag[s]&&C.setRequestHeader("If-None-Match",pt.etag[s])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Be+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)C.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,C,p)||u))return C.abort();if(A="abort",y.add(p.complete),C.done(p.success),C.fail(p.error),r=Z(_e,p,i,C)){if(C.readyState=1,h&&m.trigger("ajaxSend",[C,p]),u)return C;p.async&&p.timeout>0&&(c=t.setTimeout(function(){C.abort("timeout")},p.timeout));try{u=!1,r.send(w,n)}catch(t){if(u)throw t;n(-1,t)}}else n(-1,"No Transport");return C},getJSON:function(t,e,i){return pt.get(t,e,i,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,i,n,r){return pt.isFunction(i)&&(r=r||n,n=i,i=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:r,data:i,success:n},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pt.fn.extend({wrapAll:function(t){var e;return this[0]&&(pt.isFunction(t)&&(t=t.call(this[0])),e=pt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(i){pt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){pt(this).replaceWith(this.childNodes)}),this}}),pt.expr.pseudos.hidden=function(t){return!pt.expr.pseudos.visible(t)},pt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},pt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Ie={0:200,1223:204},Re=pt.ajaxSettings.xhr();ft.cors=!!Re&&"withCredentials"in Re,ft.ajax=Re=!!Re,pt.ajaxTransport(function(e){var i,n;if(ft.cors||Re&&!e.crossDomain)return{send:function(r,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Ie[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}}),pt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=pt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),it.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Me=[],Oe=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Me.pop()||pt.expando+"_"+be++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,i,n){var r,s,o,a=!1!==e.jsonp&&(Oe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Oe.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Oe,"$1"+r):!1!==e.jsonp&&(e.url+=(we.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||pt.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=t[r],t[r]=function(){o=arguments},n.always(function(){void 0===s?pt(t).removeProp(r):t[r]=s,e[r]&&(e.jsonpCallback=i.jsonpCallback,Me.push(r)),o&&pt.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),ft.createHTMLDocument=function(){var t=it.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),pt.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var n,r,s;return e||(ft.createHTMLDocument?((n=(e=it.implementation.createHTMLDocument("")).createElement("base")).href=it.location.href,e.head.appendChild(n)):e=it),r=wt.exec(t),s=!i&&[],r?[e.createElement(r[1])]:(r=w([t],e,s),s&&s.length&&pt(s).remove(),pt.merge([],r.childNodes))},pt.fn.load=function(t,e,i){var n,r,s,o=this,a=t.indexOf(" ");return a>-1&&(n=$(t.slice(a)),t=t.slice(0,a)),pt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&pt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(n?pt("<div>").append(pt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.pseudos.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,i){var n,r,s,o,a,c,l=pt.css(t,"position"),u=pt(t),h={};"static"===l&&(t.style.position="relative"),a=u.offset(),s=pt.css(t,"top"),c=pt.css(t,"left"),("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1?(o=(n=u.position()).top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(c)||0),pt.isFunction(e)&&(e=e.call(t,i,pt.extend({},a))),null!=e.top&&(h.top=e.top-a.top+o),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):u.css(h)}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,i,n,r,s=this[0];if(s)return s.getClientRects().length?(n=s.getBoundingClientRect(),e=s.ownerDocument,i=e.documentElement,r=e.defaultView,{top:n.top+r.pageYOffset-i.clientTop,left:n.left+r.pageXOffset-i.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===pt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),r(t[0],"html")||(n=t.offset()),n={top:n.top+pt.css(t[0],"borderTopWidth",!0),left:n.left+pt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-pt.css(i,"marginTop",!0),left:e.left-n.left-pt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||Gt})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;pt.fn[t]=function(n){return Bt(this,function(t,n,r){var s;if(pt.isWindow(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===r)return s?s[e]:t[n];s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):t[n]=r},t,n,arguments.length)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=M(ft.pixelPosition,function(t,i){if(i)return i=R(t,e),ee.test(i)?pt(t).position()[e]+"px":i})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){pt.fn[n]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===s?"margin":"border");return Bt(this,function(e,i,r){var s;return pt.isWindow(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?pt.css(e,i,a):pt.style(e,i,r,a)},e,o?r:void 0,o)}})}),pt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),pt.holdReady=function(t){t?pt.readyWait++:pt.ready(!0)},pt.isArray=Array.isArray,pt.parseJSON=JSON.parse,pt.nodeName=r,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var Ne=t.jQuery,je=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=je),e&&t.jQuery===pt&&(t.jQuery=Ne),pt},e||(t.jQuery=t.$=pt),pt})},{}],52:[function(t,e,i){"use strict";function n(){try{return new window.XMLHttpRequest}catch(t){}}function r(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}var s={};s._getBinaryFromXHR=function(t){return t.response||t.responseText};var o=window.ActiveXObject?function(){return n()||r()}:n;s.getBinaryContent=function(t,e){try{var i=o();i.open("GET",t,!0),"responseType"in i&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.onreadystatechange=function(n){var r,o;if(4===i.readyState)if(200===i.status||0===i.status){r=null,o=null;try{r=s._getBinaryFromXHR(i)}catch(t){o=new Error(t)}e(o,r)}else e(new Error("Ajax error for "+t+" : "+this.status+" "+this.statusText),null)},i.send()}catch(t){e(new Error(t),null)}},e.exports=s},{}],53:[function(t,e,i){"use strict";var n=t("./utils"),r=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t){for(var e,i,r,o,a,c,l,u=[],h=0,d=t.length,f=d,p="string"!==n.getTypeOf(t);h<t.length;)f=d-h,p?(e=t[h++],i=h<d?t[h++]:0,r=h<d?t[h++]:0):(e=t.charCodeAt(h++),i=h<d?t.charCodeAt(h++):0,r=h<d?t.charCodeAt(h++):0),o=e>>2,a=(3&e)<<4|i>>4,c=f>1?(15&i)<<2|r>>6:64,l=f>2?63&r:64,u.push(s.charAt(o)+s.charAt(a)+s.charAt(c)+s.charAt(l));return u.join("")},i.decode=function(t){var e,i,n,o,a,c,l=0,u=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===s.charAt(64)&&h--,t.charAt(t.length-2)===s.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");var d;for(d=r.uint8array?new Uint8Array(0|h):new Array(0|h);l<t.length;)e=s.indexOf(t.charAt(l++))<<2|(o=s.indexOf(t.charAt(l++)))>>4,i=(15&o)<<4|(a=s.indexOf(t.charAt(l++)))>>2,n=(3&a)<<6|(c=s.indexOf(t.charAt(l++))),d[u++]=e,64!==a&&(d[u++]=i),64!==c&&(d[u++]=n);return d}},{"./support":82,"./utils":84}],54:[function(t,e,i){"use strict";function n(t,e,i,n,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=i,this.compression=n,this.compressedContent=r}var r=t("./external"),s=t("./stream/DataWorker"),o=t("./stream/DataLengthProbe"),a=t("./stream/Crc32Probe"),o=t("./stream/DataLengthProbe");n.prototype={getContentWorker:function(){var t=new s(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new s(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},n.createWorkerFrom=function(t,e,i){return t.pipe(new a).pipe(new o("uncompressedSize")).pipe(e.compressWorker(i)).pipe(new o("compressedSize")).withStreamInfo("compression",e)},e.exports=n},{"./external":58,"./stream/Crc32Probe":77,"./stream/DataLengthProbe":78,"./stream/DataWorker":79}],55:[function(t,e,i){"use strict";var n=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(t){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":59,"./stream/GenericWorker":80}],56:[function(t,e,i){"use strict";function n(t,e,i,n){var r=o,s=n+i;t^=-1;for(var a=n;a<s;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}function r(t,e,i,n){var r=o,s=n+i;t^=-1;for(var a=n;a<s;a++)t=t>>>8^r[255&(t^e.charCodeAt(a))];return-1^t}var s=t("./utils"),o=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==s.getTypeOf(t)?n(0|e,t,t.length,0):r(0|e,t,t.length,0):0}},{"./utils":84}],57:[function(t,e,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],58:[function(t,e,i){"use strict";var n=null;n="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:n}},{lie:104}],59:[function(t,e,i){"use strict";function n(t,e){a.call(this,"FlateWorker/"+t),this._pako=new s[t]({raw:!0,level:e.level||-1}),this.meta={};var i=this;this._pako.onData=function(t){i.push({data:t,meta:i.meta})}}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,s=t("pako"),o=t("./utils"),a=t("./stream/GenericWorker"),c=r?"uint8array":"array";i.magic="\b\0",o.inherits(n,a),n.prototype.processChunk=function(t){this.meta=t.meta,this._pako.push(o.transformTo(c,t.data),!1)},n.prototype.flush=function(){a.prototype.flush.call(this),this._pako.push([],!0)},n.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},i.compressWorker=function(t){return new n("Deflate",t)},i.uncompressWorker=function(){return new n("Inflate",{})}},{"./stream/GenericWorker":80,"./utils":84,pako:88}],60:[function(t,e,i){"use strict";function n(t,e,i,n){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var r=t("../utils"),s=t("../stream/GenericWorker"),o=t("../utf8"),a=t("../crc32"),c=t("../signature"),l=function(t,e){var i,n="";for(i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n},u=function(t,e){var i=t;return t||(i=e?16893:33204),(65535&i)<<16},h=function(t,e){return 63&(t||0)},d=function(t,e,i,n,s,d){var f,p,g=t.file,m=t.compression,v=d!==o.utf8encode,y=r.transformTo("string",d(g.name)),b=r.transformTo("string",o.utf8encode(g.name)),w=g.comment,x=r.transformTo("string",d(w)),A=r.transformTo("string",o.utf8encode(w)),C=b.length!==g.name.length,S=A.length!==w.length,k="",E="",T="",_=g.dir,B=g.date,P={crc32:0,compressedSize:0,uncompressedSize:0};e&&!i||(P.crc32=t.crc32,P.compressedSize=t.compressedSize,P.uncompressedSize=t.uncompressedSize);var I=0;e&&(I|=8),v||!C&&!S||(I|=2048);var R=0,M=0;_&&(R|=16),"UNIX"===s?(M=798,R|=u(g.unixPermissions,_)):(M=20,R|=h(g.dosPermissions)),f=B.getUTCHours(),f<<=6,f|=B.getUTCMinutes(),f<<=5,f|=B.getUTCSeconds()/2,p=B.getUTCFullYear()-1980,p<<=4,p|=B.getUTCMonth()+1,p<<=5,p|=B.getUTCDate(),C&&(E=l(1,1)+l(a(y),4)+b,k+="up"+l(E.length,2)+E),S&&(T=l(1,1)+l(a(x),4)+A,k+="uc"+l(T.length,2)+T);var O="";return O+="\n\0",O+=l(I,2),O+=m.magic,O+=l(f,2),O+=l(p,2),O+=l(P.crc32,4),O+=l(P.compressedSize,4),O+=l(P.uncompressedSize,4),O+=l(y.length,2),O+=l(k.length,2),{fileRecord:c.LOCAL_FILE_HEADER+O+y+k,dirRecord:c.CENTRAL_FILE_HEADER+l(M,2)+O+l(x.length,2)+"\0\0\0\0"+l(R,4)+l(n,4)+y+k+x}},f=function(t,e,i,n,s){var o=r.transformTo("string",s(n));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(t,2)+l(t,2)+l(e,4)+l(i,4)+l(o.length,2)+o},p=function(t){return c.DATA_DESCRIPTOR+l(t.crc32,4)+l(t.compressedSize,4)+l(t.uncompressedSize,4)};r.inherits(n,s),n.prototype.push=function(t){var e=t.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,s.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:i?(e+100*(i-n-1))/i:100}}))},n.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var i=d(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},n.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,i=d(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),e)this.push({data:p(t),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},n.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var i=this.bytesWritten-t,n=f(this.dirRecords.length,i,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},n.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},n.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},n.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},n.prototype.error=function(t){var e=this._sources;if(!s.prototype.error.call(this,t))return!1;for(var i=0;i<e.length;i++)try{e[i].error(t)}catch(t){}return!0},n.prototype.lock=function(){s.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=n},{"../crc32":56,"../signature":75,"../stream/GenericWorker":80,"../utf8":83,"../utils":84}],61:[function(t,e,i){"use strict";var n=t("../compressions"),r=t("./ZipFileWorker"),s=function(t,e){var i=t||e,r=n[i];if(!r)throw new Error(i+" is not a valid compression method !");return r};i.generateWorker=function(t,e,i){var n=new r(e.streamFiles,i,e.platform,e.encodeFileName),o=0;try{t.forEach(function(t,i){o++;var r=s(i.options.compression,e.compression),a=i.options.compressionOptions||e.compressionOptions||{},c=i.dir,l=i.date;i._compressWorker(r,a).withStreamInfo("file",{name:t,dir:c,date:l,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(n)}),n.entriesCount=o}catch(t){n.error(t)}return n}},{"../compressions":55,"./ZipFileWorker":60}],62:[function(t,e,i){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}n.prototype=t("./object"),n.prototype.loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.1.3",n.loadAsync=function(t,e){return(new n).loadAsync(t,e)},n.external=t("./external"),e.exports=n},{"./defaults":57,"./external":58,"./load":63,"./object":67,"./support":82}],63:[function(t,e,i){"use strict";function n(t){return new s.Promise(function(e,i){var n=t.decompressed.getContentWorker().pipe(new c);n.on("error",function(t){i(t)}).on("end",function(){n.streamInfo.crc32!==t.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var r=t("./utils"),s=t("./external"),o=t("./utf8"),r=t("./utils"),a=t("./zipEntries"),c=t("./stream/Crc32Probe"),l=t("./nodejsUtils");e.exports=function(t,e){var i=this;return e=r.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(t)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var i=new a(e);return i.load(t),i}).then(function(t){var i=[s.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var o=0;o<r.length;o++)i.push(n(r[o]));return s.Promise.all(i)}).then(function(t){for(var n=t.shift(),r=n.files,s=0;s<r.length;s++){var o=r[s];i.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders})}return n.zipComment.length&&(i.comment=n.zipComment),i})}},{"./external":58,"./nodejsUtils":66,"./stream/Crc32Probe":77,"./utf8":83,"./utils":84,"./zipEntries":85}],64:[function(t,e,i){"use strict";function n(t,e){s.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var r=t("../utils"),s=t("../stream/GenericWorker");r.inherits(n,s),n.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},n.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=n},{"../stream/GenericWorker":80,"../utils":84}],65:[function(t,e,i){"use strict";function n(t,e,i){r.call(this,e),this._helper=t;var n=this;t.on("data",function(t,e){n.push(t)||n._helper.pause(),i&&i(e)}).on("error",function(t){n.emit("error",t)}).on("end",function(){n.push(null)})}var r=t("readable-stream").Readable;t("util").inherits(n,r),n.prototype._read=function(){this._helper.resume()},e.exports=n},{"readable-stream":68,util:125}],66:[function(t,e,i){(function(t){"use strict";e.exports={isNode:void 0!==t,newBuffer:function(e,i){return new t(e,i)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(this,t("buffer").Buffer)},{buffer:29}],67:[function(t,e,i){"use strict";function n(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var r=t("./utf8"),s=t("./utils"),o=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),c=t("./defaults"),l=t("./compressedObject"),u=t("./zipObject"),h=t("./generate"),d=t("./nodejsUtils"),f=t("./nodejs/NodejsStreamInputAdapter"),p=function(t,e,i){var n,r=s.getTypeOf(e),a=s.extend(i||{},c);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=m(t)),a.createFolders&&(n=g(t))&&v.call(this,n,!0);var h="string"===r&&!1===a.binary&&!1===a.base64;i&&void 0!==i.binary||(a.binary=!h),(e instanceof l&&0===e.uncompressedSize||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e="",a.compression="STORE",r="string");var p=null;p=e instanceof l||e instanceof o?e:d.isNode&&d.isStream(e)?new f(t,e):s.prepareContent(t,e,a.binary,a.optimizedBinaryString,a.base64);var y=new u(t,p,a);this.files[t]=y},g=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},v=function(t,e){return e=void 0!==e?e:c.createFolders,t=m(t),this.files[t]||p.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,i,n;for(e in this.files)this.files.hasOwnProperty(e)&&(n=this.files[e],(i=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(i,n))},filter:function(t){var e=[];return this.forEach(function(i,n){t(i,n)&&e.push(n)}),e},file:function(t,e,i){if(1===arguments.length){if(n(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}var s=this.files[this.root+t];return s&&!s.dir?s:null}return t=this.root+t,p.call(this,t,e,i),this},folder:function(t){if(!t)return this;if(n(t))return this.filter(function(e,i){return i.dir&&t.test(e)});var e=this.root+t,i=v.call(this,e),r=this.clone();return r.root=i.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter(function(e,i){return i.name.slice(0,t.length)===t}),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,i={};try{if(i=s.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode}),i.type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");s.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var n=i.comment||this.comment||"";e=h.generateWorker(this,i,n)}catch(t){(e=new o("error")).error(t)}return new a(e,i.type||"string",i.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=y},{"./compressedObject":54,"./defaults":57,"./generate":61,"./nodejs/NodejsStreamInputAdapter":64,"./nodejsUtils":66,"./stream/GenericWorker":80,"./stream/StreamHelper":81,"./utf8":83,"./utils":84,"./zipObject":87}],68:[function(t,e,i){e.exports=t("stream")},{stream:120}],69:[function(t,e,i){"use strict";function n(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var r=t("./DataReader");t("../utils").inherits(n,r),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),n=t.charCodeAt(2),r=t.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===e&&this.data[s+1]===i&&this.data[s+2]===n&&this.data[s+3]===r)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1),n=t.charCodeAt(2),r=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&i===s[1]&&n===s[2]&&r===s[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":84,"./DataReader":70}],70:[function(t,e,i){"use strict";function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var r=t("../utils");n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{"../utils":84}],71:[function(t,e,i){"use strict";function n(t){r.call(this,t)}var r=t("./Uint8ArrayReader");t("../utils").inherits(n,r),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":84,"./Uint8ArrayReader":73}],72:[function(t,e,i){"use strict";function n(t){r.call(this,t)}var r=t("./DataReader");t("../utils").inherits(n,r),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":84,"./DataReader":70}],73:[function(t,e,i){"use strict";function n(t){r.call(this,t)}var r=t("./ArrayReader");t("../utils").inherits(n,r),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":84,"./ArrayReader":69}],74:[function(t,e,i){"use strict";var n=t("../utils"),r=t("../support"),s=t("./ArrayReader"),o=t("./StringReader"),a=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");e.exports=function(t){var e=n.getTypeOf(t);return n.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new a(t):r.uint8array?new c(n.transformTo("uint8array",t)):new s(n.transformTo("array",t)):new o(t)}},{"../support":82,"../utils":84,"./ArrayReader":69,"./NodeBufferReader":71,"./StringReader":72,"./Uint8ArrayReader":73}],75:[function(t,e,i){"use strict";i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],76:[function(t,e,i){"use strict";function n(t){r.call(this,"ConvertWorker to "+t),this.destType=t}var r=t("./GenericWorker"),s=t("../utils");s.inherits(n,r),n.prototype.processChunk=function(t){this.push({data:s.transformTo(this.destType,t.data),meta:t.meta})},e.exports=n},{"../utils":84,"./GenericWorker":80}],77:[function(t,e,i){"use strict";function n(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var r=t("./GenericWorker"),s=t("../crc32");t("../utils").inherits(n,r),n.prototype.processChunk=function(t){this.streamInfo.crc32=s(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=n},{"../crc32":56,"../utils":84,"./GenericWorker":80}],78:[function(t,e,i){"use strict";function n(t){s.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var r=t("../utils"),s=t("./GenericWorker");r.inherits(n,s),n.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}s.prototype.processChunk.call(this,t)},e.exports=n},{"../utils":84,"./GenericWorker":80}],79:[function(t,e,i){"use strict";function n(t){s.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var r=t("../utils"),s=t("./GenericWorker");r.inherits(n,s),n.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=n},{"../utils":84,"./GenericWorker":80}],80:[function(t,e,i){"use strict";function n(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=n},{}],81:[function(t,e,i){(function(i){"use strict";function n(t,e,i,n){var s=null;switch(t){case"blob":return a.newBlob(i,n);case"base64":return s=r(e,i),u.encode(s);default:return s=r(e,i),a.transformTo(t,s)}}function r(t,e){var n,r=0,s=null,o=0;for(n=0;n<e.length;n++)o+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(s=new Uint8Array(o),n=0;n<e.length;n++)s.set(e[n],r),r+=e[n].length;return s;case"nodebuffer":return i.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}function s(t,e){return new d.Promise(function(i,r){var s=[],o=t._internalType,a=t._outputType,c=t._mimeType;t.on("data",function(t,i){s.push(t),e&&e(i)}).on("error",function(t){s=[],r(t)}).on("end",function(){try{var t=n(a,o,s,c);i(t)}catch(t){r(t)}s=[]}).resume()})}function o(t,e,i){var n=e;switch(e){case"blob":n="arraybuffer";break;case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=e,this._mimeType=i,a.checkSupport(n),this._worker=t.pipe(new c(n)),t.lock()}catch(t){this._worker=new l("error"),this._worker.error(t)}}var a=t("../utils"),c=t("./ConvertWorker"),l=t("./GenericWorker"),u=t("../base64"),h=t("../support"),d=t("../external"),f=null;if(h.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}o.prototype={accumulate:function(t){return s(this,t)},on:function(t,e){var i=this;return"data"===t?this._worker.on(t,function(t){e.call(i,t.data,t.meta)}):this._worker.on(t,function(){a.delay(e,arguments,i)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=o}).call(this,t("buffer").Buffer)},{"../base64":53,"../external":58,"../nodejs/NodejsStreamOutputAdapter":65,"../support":82,"../utils":84,"./ConvertWorker":76,"./GenericWorker":80,buffer:29}],82:[function(t,e,i){(function(e){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer=void 0!==e,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var n=new ArrayBuffer(0);try{i.blob=0===new Blob([n],{type:"application/zip"}).size}catch(t){try{var r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);r.append(n),i.blob=0===r.getBlob("application/zip").size}catch(t){i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch(t){i.nodestream=!1}}).call(this,t("buffer").Buffer)},{buffer:29,"readable-stream":68}],83:[function(t,e,i){"use strict";function n(){c.call(this,"utf-8 decode"),this.leftOver=null}function r(){c.call(this,"utf-8 encode")}for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),c=t("./stream/GenericWorker"),l=new Array(256),u=0;u<256;u++)l[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;l[254]=l[254]=1;var h=function(t){var e,i,n,r,s,a=t.length,c=0;for(r=0;r<a;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(n=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),c+=i<128?1:i<2048?2:i<65536?3:4;for(e=o.uint8array?new Uint8Array(c):new Array(c),s=0,r=0;s<c;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(n=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),i<128?e[s++]=i:i<2048?(e[s++]=192|i>>>6,e[s++]=128|63&i):i<65536?(e[s++]=224|i>>>12,e[s++]=128|i>>>6&63,e[s++]=128|63&i):(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63,e[s++]=128|i>>>6&63,e[s++]=128|63&i);return e},d=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+l[t[i]]>e?i:e},f=function(t){var e,i,n,r,o=t.length,a=new Array(2*o);for(i=0,e=0;e<o;)if((n=t[e++])<128)a[i++]=n;else if((r=l[n])>4)a[i++]=65533,e+=r-1;else{for(n&=2===r?31:3===r?15:7;r>1&&e<o;)n=n<<6|63&t[e++],r--;r>1?a[i++]=65533:n<65536?a[i++]=n:(n-=65536,a[i++]=55296|n>>10&1023,a[i++]=56320|1023&n)}return a.length!==i&&(a.subarray?a=a.subarray(0,i):a.length=i),s.applyFromCharCode(a)};i.utf8encode=function(t){return o.nodebuffer?a.newBuffer(t,"utf-8"):h(t)},i.utf8decode=function(t){return o.nodebuffer?s.transformTo("nodebuffer",t).toString("utf-8"):(t=s.transformTo(o.uint8array?"uint8array":"array",t),f(t))},s.inherits(n,c),n.prototype.processChunk=function(t){var e=s.transformTo(o.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var n=e;(e=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),e.set(n,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var r=d(e),a=e;r!==e.length&&(o.uint8array?(a=e.subarray(0,r),this.leftOver=e.subarray(r,e.length)):(a=e.slice(0,r),this.leftOver=e.slice(r,e.length))),this.push({data:i.utf8decode(a),meta:t.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=n,s.inherits(r,c),r.prototype.processChunk=function(t){this.push({data:i.utf8encode(t.data),meta:t.meta})},i.Utf8EncodeWorker=r},{"./nodejsUtils":66,"./stream/GenericWorker":80,"./support":82,"./utils":84}],84:[function(t,e,i){"use strict";function n(t){var e=null;return e=c.uint8array?new Uint8Array(t.length):new Array(t.length),s(t,e)}function r(t){return t}function s(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}function o(t){var e=65536,n=i.getTypeOf(t),r=!0;if("uint8array"===n?r=f.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=f.applyCanBeUsed.nodebuffer),r)for(;e>1;)try{return f.stringifyByChunk(t,n,e)}catch(t){e=Math.floor(e/2)}return f.stringifyByChar(t)}function a(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}var c=t("./support"),l=t("./base64"),u=t("./nodejsUtils"),h=t("core-js/library/fn/set-immediate"),d=t("./external");i.newBlob=function(t,e){i.checkSupport("blob");try{return new Blob(t,{type:e})}catch(i){try{for(var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder),r=0;r<t.length;r++)n.append(t[r]);return n.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(t,e,i){var n=[],r=0,s=t.length;if(s<=i)return String.fromCharCode.apply(null,t);for(;r<s;)"array"===e||"nodebuffer"===e?n.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+i,s)))):n.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+i,s)))),r+=i;return n.join("")},stringifyByChar:function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&1===String.fromCharCode.apply(null,u.newBuffer(1)).length}catch(t){return!1}}()}};i.applyFromCharCode=o;var p={};p.string={string:r,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:function(t){return s(t,u.newBuffer(t.length))}},p.array={string:o,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u.newBuffer(t)}},p.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u.newBuffer(new Uint8Array(t))}},p.uint8array={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){var e=new Uint8Array(t.length);return t.length&&e.set(t,0),e.buffer},uint8array:r,nodebuffer:function(t){return u.newBuffer(t)}},p.nodebuffer={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:r},i.transformTo=function(t,e){if(e||(e=""),!t)return e;i.checkSupport(t);var n=i.getTypeOf(e);return p[n][t](e)},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":c.nodebuffer&&u.isBuffer(t)?"nodebuffer":c.uint8array&&t instanceof Uint8Array?"uint8array":c.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){if(!c[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,n="";for(i=0;i<(t||"").length;i++)n+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return n},i.delay=function(t,e,i){h(function(){t.apply(i||null,e||[])})},i.inherits=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i},i.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i},i.prepareContent=function(t,e,r,s,o){return d.Promise.resolve(e).then(function(t){return c.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new d.Promise(function(e,i){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.onerror=function(t){i(t.target.error)},n.readAsArrayBuffer(t)}):t}).then(function(e){var a=i.getTypeOf(e);return a?("arraybuffer"===a?e=i.transformTo("uint8array",e):"string"===a&&(o?e=l.decode(e):r&&!0!==s&&(e=n(e))),e):d.Promise.reject(new Error("The data of '"+t+"' is in an unsupported format !"))})}},{"./base64":53,"./external":58,"./nodejsUtils":66,"./support":82,"core-js/library/fn/set-immediate":5}],85:[function(t,e,i){"use strict";function n(t){this.files=[],this.loadOptions=t}var r=t("./reader/readerFor"),s=t("./utils"),o=t("./signature"),a=t("./zipEntry"),c=(t("./utf8"),t("./support"));n.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug : unexpected signature ("+s.pretty(e)+", expected "+s.pretty(t)+")")}},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4)===e;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=c.uint8array?"uint8array":"array",i=s.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,n=this.zip64EndOfCentralSize-44;0<n;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=e-i;if(n>0)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=n},{"./reader/readerFor":74,"./signature":75,"./support":82,"./utf8":83,"./utils":84,"./zipEntry":86}],86:[function(t,e,i){"use strict";function n(t,e){this.options=t,this.loadOptions=e}var r=t("./reader/readerFor"),s=t("./utils"),o=t("./compressedObject"),a=t("./crc32"),c=t("./utf8"),l=t("./compressions"),u=t("./support"),h=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null};n.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=h(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,i,n,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<r;)e=t.readInt(2),i=t.readInt(2),n=t.readData(i),this.extraFields[e]={id:e,length:i,value:n}},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=s.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var r=s.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=r(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:c.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=r(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:c.utf8decode(e.readData(t.length-5))}return null}},e.exports=n},{"./compressedObject":54,"./compressions":55,"./crc32":56,"./reader/readerFor":74,"./support":82,"./utf8":83,"./utils":84}],87:[function(t,e,i){"use strict";var n=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),s=t("./utf8"),o=t("./compressedObject"),a=t("./stream/GenericWorker"),c=function(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};c.prototype={internalStream:function(t){var e=t.toLowerCase(),i="string"===e||"text"===e;"binarystring"!==e&&"text"!==e||(e="string");var r=this._decompressWorker(),o=!this._dataBinary;return o&&!i&&(r=r.pipe(new s.Utf8EncodeWorker)),!o&&i&&(r=r.pipe(new s.Utf8DecodeWorker)),new n(r,e,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new s.Utf8EncodeWorker)),o.createWorkerFrom(i,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof a?this._data:new r(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<l.length;h++)c.prototype[l[h]]=u;e.exports=c},{"./compressedObject":54,"./stream/DataWorker":79,"./stream/GenericWorker":80,"./stream/StreamHelper":81,"./utf8":83}],88:[function(t,e,i){"use strict";var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":89,"./lib/inflate":90,"./lib/utils/common":91,"./lib/zlib/constants":94}],89:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=c.assign({level:p,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var i=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==f)throw new Error(u[i]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(i=a.deflateSetDictionary(this.strm,r))!==f)throw new Error(u[i]);this._dict_set=!0}}function r(t,e){var i=new n(e);if(i.push(t,!0),i.err)throw i.msg||u[i.err];return i.result}function s(t,e){return e=e||{},e.raw=!0,r(t,e)}function o(t,e){return e=e||{},e.gzip=!0,r(t,e)}var a=t("./zlib/deflate"),c=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),d=Object.prototype.toString,f=0,p=-1,g=0,m=8;n.prototype.push=function(t,e){var i,n,r=this.strm,s=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=l.string2buf(t):"[object ArrayBuffer]"===d.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new c.Buf8(s),r.next_out=0,r.avail_out=s),1!==(i=a.deflate(r,n))&&i!==f)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(l.buf2binstring(c.shrinkBuf(r.output,r.next_out))):this.onData(c.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===n?(i=a.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===f):2!==n||(this.onEnd(f),r.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=n,i.deflate=r,i.deflateRaw=s,i.gzip=o},{"./utils/common":91,"./utils/strings":92,"./zlib/deflate":96,"./zlib/messages":101,"./zlib/zstream":103}],90:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var i=o.inflateInit2(this.strm,e.windowBits);if(i!==l.Z_OK)throw new Error(u[i]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function r(t,e){var i=new n(e);if(i.push(t,!0),i.err)throw i.msg||u[i.err];return i.result}function s(t,e){return e=e||{},e.raw=!0,r(t,e)}var o=t("./zlib/inflate"),a=t("./utils/common"),c=t("./utils/strings"),l=t("./zlib/constants"),u=t("./zlib/messages"),h=t("./zlib/zstream"),d=t("./zlib/gzheader"),f=Object.prototype.toString;n.prototype.push=function(t,e){var i,n,r,s,u,h,d=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;n=e===~~e?e:!0===e?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof t?d.input=c.binstring2buf(t):"[object ArrayBuffer]"===f.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new a.Buf8(p),d.next_out=0,d.avail_out=p),(i=o.inflate(d,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&g&&(h="string"==typeof g?c.string2buf(g):"[object ArrayBuffer]"===f.call(g)?new Uint8Array(g):g,i=o.inflateSetDictionary(this.strm,h)),i===l.Z_BUF_ERROR&&!0===m&&(i=l.Z_OK,m=!1),i!==l.Z_STREAM_END&&i!==l.Z_OK)return this.onEnd(i),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&i!==l.Z_STREAM_END&&(0!==d.avail_in||n!==l.Z_FINISH&&n!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(r=c.utf8border(d.output,d.next_out),s=d.next_out-r,u=c.buf2string(d.output,r),d.next_out=s,d.avail_out=p-s,s&&a.arraySet(d.output,d.output,r,s,0),this.onData(u)):this.onData(a.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&i!==l.Z_STREAM_END);return i===l.Z_STREAM_END&&(n=l.Z_FINISH),n===l.Z_FINISH?(i=o.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===l.Z_OK):n!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),d.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=n,i.inflate=r,i.inflateRaw=s,i.ungzip=r},{"./utils/common":91,"./utils/strings":92,"./zlib/constants":94,"./zlib/gzheader":97,"./zlib/inflate":99,"./zlib/messages":101,"./zlib/zstream":103}],91:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,i,n,r){if(e.subarray&&t.subarray)return void t.set(e.subarray(i,i+n),r);for(var s=0;s<n;s++)t[r+s]=e[i+s]},flattenChunks:function(t){var e,i,n,r,s,o;for(n=0,e=0,i=t.length;e<i;e++)n+=t[e].length;for(o=new Uint8Array(n),r=0,e=0,i=t.length;e<i;e++)s=t[e],o.set(s,r),r+=s.length;return o}},s={arraySet:function(t,e,i,n,r){for(var s=0;s<n;s++)t[r+s]=e[i+s]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(n)},{}],92:[function(t,e,i){"use strict";function n(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&s))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var i="",n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i}var r=t("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new r.Buf8(256),c=0;c<256;c++)a[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;a[254]=a[254]=1,i.string2buf=function(t){var e,i,n,s,o,a=t.length,c=0;for(s=0;s<a;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),c+=i<128?1:i<2048?2:i<65536?3:4;for(e=new r.Buf8(c),o=0,s=0;o<c;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?e[o++]=i:i<2048?(e[o++]=192|i>>>6,e[o++]=128|63&i):i<65536?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e},i.buf2binstring=function(t){return n(t,t.length)},i.binstring2buf=function(t){for(var e=new r.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,r,s,o,c=e||t.length,l=new Array(2*c);for(r=0,i=0;i<c;)if((s=t[i++])<128)l[r++]=s;else if((o=a[s])>4)l[r++]=65533,i+=o-1;else{for(s&=2===o?31:3===o?15:7;o>1&&i<c;)s=s<<6|63&t[i++],o--;o>1?l[r++]=65533:s<65536?l[r++]=s:(s-=65536,l[r++]=55296|s>>10&1023,l[r++]=56320|1023&s)}return n(l,r)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+a[t[i]]>e?i:e}},{"./common":91}],93:[function(t,e,i){"use strict";function n(t,e,i,n){for(var r=65535&t|0,s=t>>>16&65535|0,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{s=s+(r=r+e[n++]|0)|0}while(--o);r%=65521,s%=65521}return r|s<<16|0}e.exports=n},{}],94:[function(t,e,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],95:[function(t,e,i){"use strict";function n(t,e,i,n){var s=r,o=n+i;t^=-1;for(var a=n;a<o;a++)t=t>>>8^s[255&(t^e[a])];return-1^t}var r=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=n},{}],96:[function(t,e,i){"use strict";function n(t,e){return t.msg=O[e],e}function r(t){return(t<<1)-(t>4?9:0)}function s(t){for(var e=t.length;--e>=0;)t[e]=0}function o(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(P.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function a(t,e){I._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,o(t.strm)}function c(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function u(t,e,i,n){var r=t.avail_in;return r>n&&(r=n),0===r?0:(t.avail_in-=r,P.arraySet(e,t.input,t.next_in,r,i),1===t.state.wrap?t.adler=R(t.adler,e,r,i):2===t.state.wrap&&(t.adler=M(t.adler,e,r,i)),t.next_in+=r,t.total_in+=r,r)}function h(t,e){var i,n,r=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-lt?t.strstart-(t.w_size-lt):0,l=t.window,u=t.w_mask,h=t.prev,d=t.strstart+ct,f=l[s+o-1],p=l[s+o];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(i=e,l[i+o]===p&&l[i+o-1]===f&&l[i]===l[s]&&l[++i]===l[s+1]){s+=2,i++;do{}while(l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&s<d);if(n=ct-(d-s),s=d-ct,n>o){if(t.match_start=e,o=n,n>=a)break;f=l[s+o-1],p=l[s+o]}}}while((e=h[e&u])>c&&0!=--r);return o<=t.lookahead?o:t.lookahead}function d(t){var e,i,n,r,s,o=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-lt)){P.arraySet(t.window,t.window,o,o,0),t.match_start-=o,t.strstart-=o,t.block_start-=o,e=i=t.hash_size;do{n=t.head[--e],t.head[e]=n>=o?n-o:0}while(--i);e=i=o;do{n=t.prev[--e],t.prev[e]=n>=o?n-o:0}while(--i);r+=o}if(0===t.strm.avail_in)break;if(i=u(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=i,t.lookahead+t.insert>=at)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+at-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<at)););}while(t.lookahead<lt&&0!==t.strm.avail_in)}function f(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(d(t),0===t.lookahead&&e===N)return yt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,a(t,!1),0===t.strm.avail_out))return yt;if(t.strstart-t.block_start>=t.w_size-lt&&(a(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===L?(a(t,!0),0===t.strm.avail_out?wt:xt):(t.strstart>t.block_start&&(a(t,!1),t.strm.avail_out),yt)}function p(t,e){for(var i,n;;){if(t.lookahead<lt){if(d(t),t.lookahead<lt&&e===N)return yt;if(0===t.lookahead)break}if(i=0,t.lookahead>=at&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+at-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-lt&&(t.match_length=h(t,i)),t.match_length>=at)if(n=I._tr_tally(t,t.strstart-t.match_start,t.match_length-at),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=at){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+at-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(a(t,!1),0===t.strm.avail_out))return yt}return t.insert=t.strstart<at-1?t.strstart:at-1,e===L?(a(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?yt:bt}function g(t,e){for(var i,n,r;;){if(t.lookahead<lt){if(d(t),t.lookahead<lt&&e===N)return yt;if(0===t.lookahead)break}if(i=0,t.lookahead>=at&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+at-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=at-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-lt&&(t.match_length=h(t,i),t.match_length<=5&&(t.strategy===G||t.match_length===at&&t.strstart-t.match_start>4096)&&(t.match_length=at-1)),t.prev_length>=at&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-at,n=I._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-at),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+at-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=at-1,t.strstart++,n&&(a(t,!1),0===t.strm.avail_out))return yt}else if(t.match_available){if((n=I._tr_tally(t,0,t.window[t.strstart-1]))&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return yt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=I._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<at-1?t.strstart:at-1,e===L?(a(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?yt:bt}function m(t,e){for(var i,n,r,s,o=t.window;;){if(t.lookahead<=ct){if(d(t),t.lookahead<=ct&&e===N)return yt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=at&&t.strstart>0&&(r=t.strstart-1,(n=o[r])===o[++r]&&n===o[++r]&&n===o[++r])){s=t.strstart+ct;do{}while(n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<s);t.match_length=ct-(s-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=at?(i=I._tr_tally(t,1,t.match_length-at),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(a(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===L?(a(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?yt:bt}function v(t,e){for(var i;;){if(0===t.lookahead&&(d(t),0===t.lookahead)){if(e===N)return yt;break}if(t.match_length=0,i=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(a(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===L?(a(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?yt:bt}function y(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}function b(t){t.window_size=2*t.w_size,s(t.head),t.max_lazy_match=B[t.level].max_lazy,t.good_match=B[t.level].good_length,t.nice_match=B[t.level].nice_length,t.max_chain_length=B[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=at-1,t.match_available=0,t.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=X,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new P.Buf16(2*st),this.dyn_dtree=new P.Buf16(2*(2*nt+1)),this.bl_tree=new P.Buf16(2*(2*rt+1)),s(this.dyn_ltree),s(this.dyn_dtree),s(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new P.Buf16(ot+1),this.heap=new P.Buf16(2*it+1),s(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new P.Buf16(2*it+1),s(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Z,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ht:mt,t.adler=2===e.wrap?0:1,e.last_flush=N,I._tr_init(e),V):n(t,z)}function A(t){var e=x(t);return e===V&&b(t.state),e}function C(t,e){return t&&t.state?2!==t.state.wrap?z:(t.state.gzhead=e,V):z}function S(t,e,i,r,s,o){if(!t)return z;var a=1;if(e===H&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),s<1||s>Q||i!==X||r<8||r>15||e<0||e>9||o<0||o>K)return n(t,z);8===r&&(r=9);var c=new w;return t.state=c,c.strm=t,c.wrap=a,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=s+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+at-1)/at),c.window=new P.Buf8(2*c.w_size),c.head=new P.Buf16(c.hash_size),c.prev=new P.Buf16(c.w_size),c.lit_bufsize=1<<s+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new P.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=o,c.method=i,A(t)}function k(t,e){return S(t,e,X,tt,et,Y)}function E(t,e){var i,a,u,h;if(!t||!t.state||e>q||e<0)return t?n(t,z):z;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===vt&&e!==L)return n(t,0===t.avail_out?W:z);if(a.strm=t,i=a.last_flush,a.last_flush=e,a.status===ht)if(2===a.wrap)t.adler=0,c(a,31),c(a,139),c(a,8),a.gzhead?(c(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),c(a,255&a.gzhead.time),c(a,a.gzhead.time>>8&255),c(a,a.gzhead.time>>16&255),c(a,a.gzhead.time>>24&255),c(a,9===a.level?2:a.strategy>=$||a.level<2?4:0),c(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(c(a,255&a.gzhead.extra.length),c(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=M(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=dt):(c(a,0),c(a,0),c(a,0),c(a,0),c(a,0),c(a,9===a.level?2:a.strategy>=$||a.level<2?4:0),c(a,At),a.status=mt);else{var d=X+(a.w_bits-8<<4)<<8;d|=(a.strategy>=$||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(d|=ut),d+=31-d%31,a.status=mt,l(a,d),0!==a.strstart&&(l(a,t.adler>>>16),l(a,65535&t.adler)),t.adler=1}if(a.status===dt)if(a.gzhead.extra){for(u=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>u&&(t.adler=M(t.adler,a.pending_buf,a.pending-u,u)),o(t),u=a.pending,a.pending!==a.pending_buf_size));)c(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>u&&(t.adler=M(t.adler,a.pending_buf,a.pending-u,u)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=ft)}else a.status=ft;if(a.status===ft)if(a.gzhead.name){u=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>u&&(t.adler=M(t.adler,a.pending_buf,a.pending-u,u)),o(t),u=a.pending,a.pending===a.pending_buf_size)){h=1;break}h=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,c(a,h)}while(0!==h);a.gzhead.hcrc&&a.pending>u&&(t.adler=M(t.adler,a.pending_buf,a.pending-u,u)),0===h&&(a.gzindex=0,a.status=pt)}else a.status=pt;if(a.status===pt)if(a.gzhead.comment){u=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>u&&(t.adler=M(t.adler,a.pending_buf,a.pending-u,u)),o(t),u=a.pending,a.pending===a.pending_buf_size)){h=1;break}h=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,c(a,h)}while(0!==h);a.gzhead.hcrc&&a.pending>u&&(t.adler=M(t.adler,a.pending_buf,a.pending-u,u)),0===h&&(a.status=gt)}else a.status=gt;if(a.status===gt&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&o(t),a.pending+2<=a.pending_buf_size&&(c(a,255&t.adler),c(a,t.adler>>8&255),t.adler=0,a.status=mt)):a.status=mt),0!==a.pending){if(o(t),0===t.avail_out)return a.last_flush=-1,V}else if(0===t.avail_in&&r(e)<=r(i)&&e!==L)return n(t,W);if(a.status===vt&&0!==t.avail_in)return n(t,W);if(0!==t.avail_in||0!==a.lookahead||e!==N&&a.status!==vt){var f=a.strategy===$?v(a,e):a.strategy===J?m(a,e):B[a.level].func(a,e);if(f!==wt&&f!==xt||(a.status=vt),f===yt||f===wt)return 0===t.avail_out&&(a.last_flush=-1),V;if(f===bt&&(e===j?I._tr_align(a):e!==q&&(I._tr_stored_block(a,0,0,!1),e===D&&(s(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),o(t),0===t.avail_out))return a.last_flush=-1,V}return e!==L?V:a.wrap<=0?F:(2===a.wrap?(c(a,255&t.adler),c(a,t.adler>>8&255),c(a,t.adler>>16&255),c(a,t.adler>>24&255),c(a,255&t.total_in),c(a,t.total_in>>8&255),c(a,t.total_in>>16&255),c(a,t.total_in>>24&255)):(l(a,t.adler>>>16),l(a,65535&t.adler)),o(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?V:F)}function T(t){var e;return t&&t.state?(e=t.state.status)!==ht&&e!==dt&&e!==ft&&e!==pt&&e!==gt&&e!==mt&&e!==vt?n(t,z):(t.state=null,e===mt?n(t,U):V):z}function _(t,e){var i,n,r,o,a,c,l,u,h=e.length;if(!t||!t.state)return z;if(i=t.state,2===(o=i.wrap)||1===o&&i.status!==ht||i.lookahead)return z;for(1===o&&(t.adler=R(t.adler,e,h,0)),i.wrap=0,h>=i.w_size&&(0===o&&(s(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new P.Buf8(i.w_size),P.arraySet(u,e,h-i.w_size,i.w_size,0),e=u,h=i.w_size),a=t.avail_in,c=t.next_in,l=t.input,t.avail_in=h,t.next_in=0,t.input=e,d(i);i.lookahead>=at;){n=i.strstart,r=i.lookahead-(at-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+at-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--r);i.strstart=n,i.lookahead=at-1,d(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=at-1,i.match_available=0,t.next_in=c,t.input=l,t.avail_in=a,i.wrap=o,V}var B,P=t("../utils/common"),I=t("./trees"),R=t("./adler32"),M=t("./crc32"),O=t("./messages"),N=0,j=1,D=3,L=4,q=5,V=0,F=1,z=-2,U=-3,W=-5,H=-1,G=1,$=2,J=3,K=4,Y=0,Z=2,X=8,Q=9,tt=15,et=8,it=286,nt=30,rt=19,st=2*it+1,ot=15,at=3,ct=258,lt=ct+at+1,ut=32,ht=42,dt=69,ft=73,pt=91,gt=103,mt=113,vt=666,yt=1,bt=2,wt=3,xt=4,At=3;B=[new y(0,0,0,0,f),new y(4,4,8,4,p),new y(4,5,16,8,p),new y(4,6,32,32,p),new y(4,4,16,16,g),new y(8,16,32,32,g),new y(8,16,128,128,g),new y(8,32,128,256,g),new y(32,128,258,1024,g),new y(32,258,258,4096,g)],i.deflateInit=k,i.deflateInit2=S,i.deflateReset=A,i.deflateResetKeep=x,i.deflateSetHeader=C,i.deflate=E,i.deflateEnd=T,i.deflateSetDictionary=_,i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":91,"./adler32":93,"./crc32":95,"./messages":101,"./trees":102}],97:[function(t,e,i){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=n},{}],98:[function(t,e,i){"use strict";e.exports=function(t,e){var i,n,r,s,o,a,c,l,u,h,d,f,p,g,m,v,y,b,w,x,A,C,S,k,E;i=t.state,n=t.next_in,k=t.input,r=n+(t.avail_in-5),s=t.next_out,E=t.output,o=s-(e-t.avail_out),a=s+(t.avail_out-257),c=i.dmax,l=i.wsize,u=i.whave,h=i.wnext,d=i.window,f=i.hold,p=i.bits,g=i.lencode,m=i.distcode,v=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;t:do{p<15&&(f+=k[n++]<<p,p+=8,f+=k[n++]<<p,p+=8),b=g[f&v];e:for(;;){if(w=b>>>24,f>>>=w,p-=w,0===(w=b>>>16&255))E[s++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue e}if(32&w){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}x=65535&b,(w&=15)&&(p<w&&(f+=k[n++]<<p,p+=8),x+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=k[n++]<<p,p+=8,f+=k[n++]<<p,p+=8),b=m[f&y];i:for(;;){if(w=b>>>24,f>>>=w,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(A=65535&b,w&=15,p<w&&(f+=k[n++]<<p,(p+=8)<w&&(f+=k[n++]<<p,p+=8)),(A+=f&(1<<w)-1)>c){t.msg="invalid distance too far back",i.mode=30;break t}if(f>>>=w,p-=w,w=s-o,A>w){if((w=A-w)>u&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(C=0,S=d,0===h){if(C+=l-w,w<x){x-=w;do{E[s++]=d[C++]}while(--w);C=s-A,S=E}}else if(h<w){if(C+=l+h-w,(w-=h)<x){x-=w;do{E[s++]=d[C++]}while(--w);if(C=0,h<x){x-=w=h;do{E[s++]=d[C++]}while(--w);C=s-A,S=E}}}else if(C+=h-w,w<x){x-=w;do{E[s++]=d[C++]}while(--w);C=s-A,S=E}for(;x>2;)E[s++]=S[C++],E[s++]=S[C++],E[s++]=S[C++],x-=3;x&&(E[s++]=S[C++],x>1&&(E[s++]=S[C++]))}else{C=s-A;do{E[s++]=E[C++],E[s++]=E[C++],E[s++]=E[C++],x-=3}while(x>2);x&&(E[s++]=E[C++],x>1&&(E[s++]=E[C++]))}break}}break}}while(n<r&&s<a);n-=x=p>>3,f&=(1<<(p-=x<<3))-1,t.next_in=n,t.next_out=s,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=s<a?a-s+257:257-(s-a),i.hold=f,i.bits=p}},{}],99:[function(t,e,i){"use strict";function n(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function s(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=D,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new y.Buf32(gt),e.distcode=e.distdyn=new y.Buf32(mt),e.sane=1,e.back=-1,B):R}function o(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,s(t)):R}function a(t,e){var i,n;return t&&t.state?(n=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?R:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,o(t))):R}function c(t,e){var i,n;return t?(n=new r,t.state=n,n.window=null,(i=a(t,e))!==B&&(t.state=null),i):R}function l(t){return c(t,vt)}function u(t){if(yt){var e;for(m=new y.Buf32(512),v=new y.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(A(S,t.lens,0,288,m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;A(k,t.lens,0,32,v,0,t.work,{bits:5}),yt=!1}t.lencode=m,t.lenbits=9,t.distcode=v,t.distbits=5}function h(t,e,i,n){var r,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new y.Buf8(s.wsize)),n>=s.wsize?(y.arraySet(s.window,e,i-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((r=s.wsize-s.wnext)>n&&(r=n),y.arraySet(s.window,e,i-n,r,s.wnext),(n-=r)?(y.arraySet(s.window,e,i-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}function d(t,e){var i,r,s,o,a,c,l,d,f,p,g,m,v,gt,mt,vt,yt,bt,wt,xt,At,Ct,St,kt,Et=0,Tt=new y.Buf8(4),_t=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return R;(i=t.state).mode===J&&(i.mode=K),a=t.next_out,s=t.output,l=t.avail_out,o=t.next_in,r=t.input,c=t.avail_in,d=i.hold,f=i.bits,p=c,g=l,Ct=B;t:for(;;)switch(i.mode){case D:if(0===i.wrap){i.mode=K;break}for(;f<16;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}if(2&i.wrap&&35615===d){i.check=0,Tt[0]=255&d,Tt[1]=d>>>8&255,i.check=w(i.check,Tt,2,0),d=0,f=0,i.mode=L;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&d)<<8)+(d>>8))%31){t.msg="incorrect header check",i.mode=dt;break}if((15&d)!==j){t.msg="unknown compression method",i.mode=dt;break}if(d>>>=4,f-=4,At=8+(15&d),0===i.wbits)i.wbits=At;else if(At>i.wbits){t.msg="invalid window size",i.mode=dt;break}i.dmax=1<<At,t.adler=i.check=1,i.mode=512&d?G:J,d=0,f=0;break;case L:for(;f<16;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}if(i.flags=d,(255&i.flags)!==j){t.msg="unknown compression method",i.mode=dt;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=dt;break}i.head&&(i.head.text=d>>8&1),512&i.flags&&(Tt[0]=255&d,Tt[1]=d>>>8&255,i.check=w(i.check,Tt,2,0)),d=0,f=0,i.mode=q;case q:for(;f<32;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}i.head&&(i.head.time=d),512&i.flags&&(Tt[0]=255&d,Tt[1]=d>>>8&255,Tt[2]=d>>>16&255,Tt[3]=d>>>24&255,i.check=w(i.check,Tt,4,0)),d=0,f=0,i.mode=V;case V:for(;f<16;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}i.head&&(i.head.xflags=255&d,i.head.os=d>>8),512&i.flags&&(Tt[0]=255&d,Tt[1]=d>>>8&255,i.check=w(i.check,Tt,2,0)),d=0,f=0,i.mode=F;case F:if(1024&i.flags){for(;f<16;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}i.length=d,i.head&&(i.head.extra_len=d),512&i.flags&&(Tt[0]=255&d,Tt[1]=d>>>8&255,i.check=w(i.check,Tt,2,0)),d=0,f=0}else i.head&&(i.head.extra=null);i.mode=z;case z:if(1024&i.flags&&((m=i.length)>c&&(m=c),m&&(i.head&&(At=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),y.arraySet(i.head.extra,r,o,m,At)),512&i.flags&&(i.check=w(i.check,r,m,o)),c-=m,o+=m,i.length-=m),i.length))break t;i.length=0,i.mode=U;case U:if(2048&i.flags){if(0===c)break t;m=0;do{At=r[o+m++],i.head&&At&&i.length<65536&&(i.head.name+=String.fromCharCode(At))}while(At&&m<c);if(512&i.flags&&(i.check=w(i.check,r,m,o)),c-=m,o+=m,At)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=W;case W:if(4096&i.flags){if(0===c)break t;m=0;do{At=r[o+m++],i.head&&At&&i.length<65536&&(i.head.comment+=String.fromCharCode(At))}while(At&&m<c);if(512&i.flags&&(i.check=w(i.check,r,m,o)),c-=m,o+=m,At)break t}else i.head&&(i.head.comment=null);i.mode=H;case H:if(512&i.flags){for(;f<16;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}if(d!==(65535&i.check)){t.msg="header crc mismatch",i.mode=dt;break}d=0,f=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=J;break;case G:for(;f<32;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}t.adler=i.check=n(d),d=0,f=0,i.mode=$;case $:if(0===i.havedict)return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=c,i.hold=d,i.bits=f,I;t.adler=i.check=1,i.mode=J;case J:if(e===T||e===_)break t;case K:if(i.last){d>>>=7&f,f-=7&f,i.mode=lt;break}for(;f<3;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}switch(i.last=1&d,d>>>=1,f-=1,3&d){case 0:i.mode=Y;break;case 1:if(u(i),i.mode=it,e===_){d>>>=2,f-=2;break t}break;case 2:i.mode=Q;break;case 3:t.msg="invalid block type",i.mode=dt}d>>>=2,f-=2;break;case Y:for(d>>>=7&f,f-=7&f;f<32;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}if((65535&d)!=(d>>>16^65535)){t.msg="invalid stored block lengths",i.mode=dt;break}if(i.length=65535&d,d=0,f=0,i.mode=Z,e===_)break t;case Z:i.mode=X;case X:if(m=i.length){if(m>c&&(m=c),m>l&&(m=l),0===m)break t;y.arraySet(s,r,o,m,a),c-=m,o+=m,l-=m,a+=m,i.length-=m;break}i.mode=J;break;case Q:for(;f<14;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}if(i.nlen=257+(31&d),d>>>=5,f-=5,i.ndist=1+(31&d),d>>>=5,f-=5,i.ncode=4+(15&d),d>>>=4,f-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=dt;break}i.have=0,i.mode=tt;case tt:for(;i.have<i.ncode;){for(;f<3;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}i.lens[_t[i.have++]]=7&d,d>>>=3,f-=3}for(;i.have<19;)i.lens[_t[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,St={bits:i.lenbits},Ct=A(C,i.lens,0,19,i.lencode,0,i.work,St),i.lenbits=St.bits,Ct){t.msg="invalid code lengths set",i.mode=dt;break}i.have=0,i.mode=et;case et:for(;i.have<i.nlen+i.ndist;){for(;Et=i.lencode[d&(1<<i.lenbits)-1],mt=Et>>>24,vt=Et>>>16&255,yt=65535&Et,!(mt<=f);){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}if(yt<16)d>>>=mt,f-=mt,i.lens[i.have++]=yt;else{if(16===yt){for(kt=mt+2;f<kt;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}if(d>>>=mt,f-=mt,0===i.have){t.msg="invalid bit length repeat",i.mode=dt;break}At=i.lens[i.have-1],m=3+(3&d),d>>>=2,f-=2}else if(17===yt){for(kt=mt+3;f<kt;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}f-=mt,At=0,m=3+(7&(d>>>=mt)),d>>>=3,f-=3}else{for(kt=mt+7;f<kt;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}f-=mt,At=0,m=11+(127&(d>>>=mt)),d>>>=7,f-=7}if(i.have+m>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=dt;break}for(;m--;)i.lens[i.have++]=At}}if(i.mode===dt)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=dt;break}if(i.lenbits=9,St={bits:i.lenbits},Ct=A(S,i.lens,0,i.nlen,i.lencode,0,i.work,St),i.lenbits=St.bits,Ct){t.msg="invalid literal/lengths set",i.mode=dt;break}if(i.distbits=6,i.distcode=i.distdyn,St={bits:i.distbits},Ct=A(k,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,St),i.distbits=St.bits,Ct){t.msg="invalid distances set",i.mode=dt;break}if(i.mode=it,e===_)break t;case it:i.mode=nt;case nt:if(c>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=c,i.hold=d,i.bits=f,x(t,g),a=t.next_out,s=t.output,l=t.avail_out,o=t.next_in,r=t.input,c=t.avail_in,d=i.hold,f=i.bits,i.mode===J&&(i.back=-1);break}for(i.back=0;Et=i.lencode[d&(1<<i.lenbits)-1],mt=Et>>>24,vt=Et>>>16&255,yt=65535&Et,!(mt<=f);){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}if(vt&&0==(240&vt)){for(bt=mt,wt=vt,xt=yt;Et=i.lencode[xt+((d&(1<<bt+wt)-1)>>bt)],mt=Et>>>24,vt=Et>>>16&255,yt=65535&Et,!(bt+mt<=f);){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}d>>>=bt,f-=bt,i.back+=bt}if(d>>>=mt,f-=mt,i.back+=mt,i.length=yt,0===vt){i.mode=ct;break}if(32&vt){i.back=-1,i.mode=J;break}if(64&vt){t.msg="invalid literal/length code",i.mode=dt;break}i.extra=15&vt,i.mode=rt;case rt:if(i.extra){for(kt=i.extra;f<kt;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,f-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=st;case st:for(;Et=i.distcode[d&(1<<i.distbits)-1],mt=Et>>>24,vt=Et>>>16&255,yt=65535&Et,!(mt<=f);){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}if(0==(240&vt)){for(bt=mt,wt=vt,xt=yt;Et=i.distcode[xt+((d&(1<<bt+wt)-1)>>bt)],mt=Et>>>24,vt=Et>>>16&255,yt=65535&Et,!(bt+mt<=f);){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}d>>>=bt,f-=bt,i.back+=bt}if(d>>>=mt,f-=mt,i.back+=mt,64&vt){t.msg="invalid distance code",i.mode=dt;break}i.offset=yt,i.extra=15&vt,i.mode=ot;case ot:if(i.extra){for(kt=i.extra;f<kt;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,f-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=dt;break}i.mode=at;case at:if(0===l)break t;if(m=g-l,i.offset>m){if((m=i.offset-m)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=dt;break}m>i.wnext?(m-=i.wnext,v=i.wsize-m):v=i.wnext-m,m>i.length&&(m=i.length),gt=i.window}else gt=s,v=a-i.offset,m=i.length;m>l&&(m=l),l-=m,i.length-=m;do{s[a++]=gt[v++]}while(--m);0===i.length&&(i.mode=nt);break;case ct:if(0===l)break t;s[a++]=i.length,l--,i.mode=nt;break;case lt:if(i.wrap){for(;f<32;){if(0===c)break t;c--,d|=r[o++]<<f,f+=8}if(g-=l,t.total_out+=g,i.total+=g,g&&(t.adler=i.check=i.flags?w(i.check,s,g,a-g):b(i.check,s,g,a-g)),g=l,(i.flags?d:n(d))!==i.check){t.msg="incorrect data check",i.mode=dt;break}d=0,f=0}i.mode=ut;case ut:if(i.wrap&&i.flags){for(;f<32;){if(0===c)break t;c--,d+=r[o++]<<f,f+=8}if(d!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=dt;break}d=0,f=0}i.mode=ht;case ht:Ct=P;break t;case dt:Ct=M;break t;case ft:return O;case pt:default:return R}return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=c,i.hold=d,i.bits=f,(i.wsize||g!==t.avail_out&&i.mode<dt&&(i.mode<lt||e!==E))&&h(t,t.output,t.next_out,g-t.avail_out)?(i.mode=ft,O):(p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,i.total+=g,i.wrap&&g&&(t.adler=i.check=i.flags?w(i.check,s,g,t.next_out-g):b(i.check,s,g,t.next_out-g)),t.data_type=i.bits+(i.last?64:0)+(i.mode===J?128:0)+(i.mode===it||i.mode===Z?256:0),(0===p&&0===g||e===E)&&Ct===B&&(Ct=N),Ct)}function f(t){if(!t||!t.state)return R;var e=t.state;return e.window&&(e.window=null),t.state=null,B}function p(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?R:(i.head=e,e.done=!1,B):R}function g(t,e){var i,n,r=e.length;return t&&t.state?0!==(i=t.state).wrap&&i.mode!==$?R:i.mode===$&&(n=1,(n=b(n,e,r,0))!==i.check)?M:h(t,e,r,r)?(i.mode=ft,O):(i.havedict=1,B):R}var m,v,y=t("../utils/common"),b=t("./adler32"),w=t("./crc32"),x=t("./inffast"),A=t("./inftrees"),C=0,S=1,k=2,E=4,T=5,_=6,B=0,P=1,I=2,R=-2,M=-3,O=-4,N=-5,j=8,D=1,L=2,q=3,V=4,F=5,z=6,U=7,W=8,H=9,G=10,$=11,J=12,K=13,Y=14,Z=15,X=16,Q=17,tt=18,et=19,it=20,nt=21,rt=22,st=23,ot=24,at=25,ct=26,lt=27,ut=28,ht=29,dt=30,ft=31,pt=32,gt=852,mt=592,vt=15,yt=!0;i.inflateReset=o,i.inflateReset2=a,i.inflateResetKeep=s,i.inflateInit=l,i.inflateInit2=c,i.inflate=d,i.inflateEnd=f,i.inflateGetHeader=p,i.inflateSetDictionary=g,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":91,"./adler32":93,"./crc32":95,"./inffast":98,"./inftrees":100}],100:[function(t,e,i){"use strict";var n=t("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,c,l,u,h,d){var f,p,g,m,v,y,b,w,x,A=d.bits,C=0,S=0,k=0,E=0,T=0,_=0,B=0,P=0,I=0,R=0,M=null,O=0,N=new n.Buf16(16),j=new n.Buf16(16),D=null,L=0;for(C=0;C<=15;C++)N[C]=0;for(S=0;S<c;S++)N[e[i+S]]++;for(T=A,E=15;E>=1&&0===N[E];E--);if(T>E&&(T=E),0===E)return l[u++]=20971520,l[u++]=20971520,d.bits=1,0;for(k=1;k<E&&0===N[k];k++);for(T<k&&(T=k),P=1,C=1;C<=15;C++)if(P<<=1,(P-=N[C])<0)return-1;if(P>0&&(0===t||1!==E))return-1;for(j[1]=0,C=1;C<15;C++)j[C+1]=j[C]+N[C];for(S=0;S<c;S++)0!==e[i+S]&&(h[j[e[i+S]]++]=S);if(0===t?(M=D=h,y=19):1===t?(M=r,O-=257,D=s,L-=257,y=256):(M=o,D=a,y=-1),R=0,S=0,C=k,v=u,_=T,B=0,g=-1,I=1<<T,m=I-1,1===t&&I>852||2===t&&I>592)return 1;for(;;){b=C-B,h[S]<y?(w=0,x=h[S]):h[S]>y?(w=D[L+h[S]],x=M[O+h[S]]):(w=96,x=0),f=1<<C-B,k=p=1<<_;do{l[v+(R>>B)+(p-=f)]=b<<24|w<<16|x|0}while(0!==p);for(f=1<<C-1;R&f;)f>>=1;if(0!==f?(R&=f-1,R+=f):R=0,S++,0==--N[C]){if(C===E)break;C=e[i+h[S]]}if(C>T&&(R&m)!==g){for(0===B&&(B=T),v+=k,P=1<<(_=C-B);_+B<E&&!((P-=N[_+B])<=0);)_++,P<<=1;if(I+=1<<_,1===t&&I>852||2===t&&I>592)return 1;l[g=R&m]=T<<24|_<<16|v-u|0}}return 0!==R&&(l[v+R]=C-B<<24|64<<16|0),d.bits=T,0}},{"../utils/common":91}],101:[function(t,e,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],102:[function(t,e,i){"use strict";function n(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function s(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function o(t){return t<256?st[t]:st[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function c(t,e,i){t.bi_valid>$-i?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>$-t.bi_valid,t.bi_valid+=i-$):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function l(t,e,i){c(t,i[2*e],i[2*e+1])}function u(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function h(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function d(t,e){var i,n,r,s,o,a,c=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(s=0;s<=G;s++)t.bl_count[s]=0;for(c[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<H;i++)(s=c[2*c[2*(n=t.heap[i])+1]+1]+1)>p&&(s=p,g++),c[2*n+1]=s,n>l||(t.bl_count[s]++,o=0,n>=f&&(o=d[n-f]),a=c[2*n],t.opt_len+=a*(s+o),h&&(t.static_len+=a*(u[2*n+1]+o)));if(0!==g){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(s=p;0!==s;s--)for(n=t.bl_count[s];0!==n;)(r=t.heap[--i])>l||(c[2*r+1]!==s&&(t.opt_len+=(s-c[2*r+1])*c[2*r],c[2*r+1]=s),n--)}}function f(t,e,i){var n,r,s=new Array(G+1),o=0;for(n=1;n<=G;n++)s[n]=o=o+i[n-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=u(s[a]++,a))}}function p(){var t,e,i,n,s,o=new Array(G+1);for(i=0,n=0;n<V-1;n++)for(at[n]=i,t=0;t<1<<Q[n];t++)ot[i++]=n;for(ot[i-1]=n,s=0,n=0;n<16;n++)for(ct[n]=s,t=0;t<1<<tt[n];t++)st[s++]=n;for(s>>=7;n<U;n++)for(ct[n]=s<<7,t=0;t<1<<tt[n]-7;t++)st[256+s++]=n;for(e=0;e<=G;e++)o[e]=0;for(t=0;t<=143;)nt[2*t+1]=8,t++,o[8]++;for(;t<=255;)nt[2*t+1]=9,t++,o[9]++;for(;t<=279;)nt[2*t+1]=7,t++,o[7]++;for(;t<=287;)nt[2*t+1]=8,t++,o[8]++;for(f(nt,z+1,o),t=0;t<U;t++)rt[2*t+1]=5,rt[2*t]=u(t,5);lt=new r(nt,Q,F+1,z,G),ut=new r(rt,tt,0,U,G),ht=new r(new Array(0),et,0,W,J)}function g(t){var e;for(e=0;e<z;e++)t.dyn_ltree[2*e]=0;for(e=0;e<U;e++)t.dyn_dtree[2*e]=0;for(e=0;e<W;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*K]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function m(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function v(t,e,i,n){m(t),n&&(a(t,i),a(t,~i)),R.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}function y(t,e,i,n){var r=2*e,s=2*i;return t[r]<t[s]||t[r]===t[s]&&n[e]<=n[i]}function b(t,e,i){for(var n=t.heap[i],r=i<<1;r<=t.heap_len&&(r<t.heap_len&&y(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!y(e,n,t.heap[r],t.depth));)t.heap[i]=t.heap[r],i=r,r<<=1;t.heap[i]=n}function w(t,e,i){var n,r,s,a,u=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],r=t.pending_buf[t.l_buf+u],u++,0===n?l(t,r,e):(l(t,(s=ot[r])+F+1,e),0!==(a=Q[s])&&c(t,r-=at[s],a),l(t,s=o(--n),i),0!==(a=tt[s])&&c(t,n-=ct[s],a))}while(u<t.last_lit);l(t,K,e)}function x(t,e){var i,n,r,s=e.dyn_tree,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,c=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=H,i=0;i<c;i++)0!==s[2*i]?(t.heap[++t.heap_len]=l=i,t.depth[i]=0):s[2*i+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=o[2*r+1]);for(e.max_code=l,i=t.heap_len>>1;i>=1;i--)b(t,s,i);r=c;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],b(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=n,s[2*r]=s[2*i]+s[2*n],t.depth[r]=(t.depth[i]>=t.depth[n]?t.depth[i]:t.depth[n])+1,s[2*i+1]=s[2*n+1]=r,t.heap[1]=r++,b(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],d(t,e),f(s,l,t.bl_count)}function A(t,e,i){var n,r,s=-1,o=e[1],a=0,c=7,l=4;for(0===o&&(c=138,l=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=e[2*(n+1)+1],++a<c&&r===o||(a<l?t.bl_tree[2*r]+=a:0!==r?(r!==s&&t.bl_tree[2*r]++,t.bl_tree[2*Y]++):a<=10?t.bl_tree[2*Z]++:t.bl_tree[2*X]++,a=0,s=r,0===o?(c=138,l=3):r===o?(c=6,l=3):(c=7,l=4))}function C(t,e,i){var n,r,s=-1,o=e[1],a=0,u=7,h=4;for(0===o&&(u=138,h=3),n=0;n<=i;n++)if(r=o,o=e[2*(n+1)+1],!(++a<u&&r===o)){if(a<h)do{l(t,r,t.bl_tree)}while(0!=--a);else 0!==r?(r!==s&&(l(t,r,t.bl_tree),a--),l(t,Y,t.bl_tree),c(t,a-3,2)):a<=10?(l(t,Z,t.bl_tree),c(t,a-3,3)):(l(t,X,t.bl_tree),c(t,a-11,7));a=0,s=r,0===o?(u=138,h=3):r===o?(u=6,h=3):(u=7,h=4)}}function S(t){var e;for(A(t,t.dyn_ltree,t.l_desc.max_code),A(t,t.dyn_dtree,t.d_desc.max_code),x(t,t.bl_desc),e=W-1;e>=3&&0===t.bl_tree[2*it[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function k(t,e,i,n){var r;for(c(t,e-257,5),c(t,i-1,5),c(t,n-4,4),r=0;r<n;r++)c(t,t.bl_tree[2*it[r]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,i-1)}function E(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return O;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return N;for(e=32;e<F;e++)if(0!==t.dyn_ltree[2*e])return N;return O}function T(t){dt||(p(),dt=!0),t.l_desc=new s(t.dyn_ltree,lt),t.d_desc=new s(t.dyn_dtree,ut),t.bl_desc=new s(t.bl_tree,ht),t.bi_buf=0,t.bi_valid=0,g(t)}function _(t,e,i,n){c(t,(D<<1)+(n?1:0),3),v(t,e,i,!0)}function B(t){c(t,L<<1,3),l(t,K,nt),h(t)}function P(t,e,i,n){var r,s,o=0;t.level>0?(t.strm.data_type===j&&(t.strm.data_type=E(t)),x(t,t.l_desc),x(t,t.d_desc),o=S(t),r=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=r&&(r=s)):r=s=i+5,i+4<=r&&-1!==e?_(t,e,i,n):t.strategy===M||s===r?(c(t,(L<<1)+(n?1:0),3),w(t,nt,rt)):(c(t,(q<<1)+(n?1:0),3),k(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),w(t,t.dyn_ltree,t.dyn_dtree)),g(t),n&&m(t)}function I(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(ot[i]+F+1)]++,t.dyn_dtree[2*o(e)]++),t.last_lit===t.lit_bufsize-1}var R=t("../utils/common"),M=4,O=0,N=1,j=2,D=0,L=1,q=2,V=29,F=256,z=F+1+V,U=30,W=19,H=2*z+1,G=15,$=16,J=7,K=256,Y=16,Z=17,X=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],nt=new Array(2*(z+2));n(nt);var rt=new Array(2*U);n(rt);var st=new Array(512);n(st);var ot=new Array(256);n(ot);var at=new Array(V);n(at);var ct=new Array(U);n(ct);var lt,ut,ht,dt=!1;i._tr_init=T,i._tr_stored_block=_,i._tr_flush_block=P,i._tr_tally=I,i._tr_align=B},{"../utils/common":91}],103:[function(t,e,i){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},{}],104:[function(t,e,i){"use strict";function n(){}function r(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t!==n&&c(this,t)}function s(t,e,i){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function o(t,e,i){p(function(){var n;try{n=e(i)}catch(e){return g.reject(t,e)}n===t?g.reject(t,new TypeError("Cannot resolve promise with itself")):g.resolve(t,n)})}function a(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function c(t,e){function i(e){s||(s=!0,g.reject(t,e))}function n(e){s||(s=!0,g.resolve(t,e))}function r(){e(n,i)}var s=!1,o=l(r);"error"===o.status&&i(o.value)}function l(t,e){var i={};try{i.value=t(e),i.status="success"}catch(t){i.status="error",i.value=t}return i}function u(t){return t instanceof this?t:g.resolve(new this(n),t)}function h(t){var e=new this(n);return g.reject(e,t)}function d(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,r=!1;if(!i)return this.resolve([]);for(var s=new Array(i),o=0,a=-1,c=new this(n);++a<i;)!function(t,n){function a(t){s[n]=t,++o!==i||r||(r=!0,g.resolve(c,s))}e.resolve(t).then(a,function(t){r||(r=!0,g.reject(c,t))})}(t[a],a);return c}function f(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,r=!1;if(!i)return this.resolve([]);for(var s=-1,o=new this(n);++s<i;)!function(t){e.resolve(t).then(function(t){r||(r=!0,g.resolve(o,t))},function(t){r||(r=!0,g.reject(o,t))})}(t[s]);return o}var p=t("immediate"),g={},m=["REJECTED"],v=["FULFILLED"],y=["PENDING"];e.exports=r,r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){if("function"!=typeof t&&this.state===v||"function"!=typeof e&&this.state===m)return this;var i=new this.constructor(n);return this.state!==y?o(i,this.state===v?t:e,this.outcome):this.queue.push(new s(i,t,e)),i},s.prototype.callFulfilled=function(t){g.resolve(this.promise,t)},s.prototype.otherCallFulfilled=function(t){o(this.promise,this.onFulfilled,t)},s.prototype.callRejected=function(t){g.reject(this.promise,t)},s.prototype.otherCallRejected=function(t){o(this.promise,this.onRejected,t)},g.resolve=function(t,e){var i=l(a,e);if("error"===i.status)return g.reject(t,i.value);var n=i.value;if(n)c(t,n);else{t.state=v,t.outcome=e;for(var r=-1,s=t.queue.length;++r<s;)t.queue[r].callFulfilled(e)}return t},g.reject=function(t,e){t.state=m,t.outcome=e;for(var i=-1,n=t.queue.length;++i<n;)t.queue[i].callRejected(e);return t},r.resolve=u,r.reject=h,r.all=d,r.race=f},{immediate:47}],105:[function(t,e,i){(function(t){"use strict";function i(e,i,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,i)});case 3:return t.nextTick(function(){e.call(null,i,n)});case 4:return t.nextTick(function(){e.call(null,i,n,r)});default:for(s=new Array(a-1),o=0;o<s.length;)s[o++]=arguments[o];return t.nextTick(function(){e.apply(null,s)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=i:e.exports=t.nextTick}).call(this,t("_process"))},{_process:106}],106:[function(t,e,i){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function o(t){if(d===clearTimeout)return clearTimeout(t);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){m&&p&&(m=!1,p.length?g=p.concat(g):v=-1,g.length&&c())}function c(){if(!m){var t=s(a);m=!0;for(var e=g.length;e;){for(p=g,g=[];++v<e;)p&&p[v].run();v=-1,e=g.length}p=null,m=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var h,d,f=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(t){d=r}}();var p,g=[],m=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];g.push(new l(t,e)),1!==g.length||m||s(c)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],107:[function(t,e,i){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":108}],108:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);l.call(this,t),u.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",r)}function r(){this.allowHalfOpen||this._writableState.ended||a(s,this)}function s(t){t.end()}var o=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};e.exports=n;var a=t("process-nextick-args"),c=t("core-util-is");c.inherits=t("inherits");var l=t("./_stream_readable"),u=t("./_stream_writable");c.inherits(n,l);for(var h=o(u.prototype),d=0;d<h.length;d++){var f=h[d];n.prototype[f]||(n.prototype[f]=u.prototype[f])}},{"./_stream_readable":110,"./_stream_writable":112,"core-util-is":26,inherits:48,"process-nextick-args":105}],109:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);r.call(this,t)}e.exports=n;var r=t("./_stream_transform"),s=t("core-util-is");s.inherits=t("inherits"),s.inherits(n,r),n.prototype._transform=function(t,e,i){i(null,t)}},{"./_stream_transform":111,"core-util-is":26,inherits:48}],110:[function(t,e,i){(function(i){"use strict";function n(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?I(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}function r(e,i){B=B||t("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,i instanceof B&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new V,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(q||(q=t("string_decoder/").StringDecoder),this.decoder=new q(e.encoding),this.encoding=e.encoding)}function s(e){if(B=B||t("./_stream_duplex"),!(this instanceof s))return new s(e);this._readableState=new r(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),R.call(this)}function o(t,e,i,n,r){var s=u(e,i);if(s)t.emit("error",s);else if(null===i)e.reading=!1,h(t,e);else if(e.objectMode||i&&i.length>0)if(e.ended&&!r){var o=new Error("stream.push() after EOF");t.emit("error",o)}else if(e.endEmitted&&r){var c=new Error("stream.unshift() after end event");t.emit("error",c)}else{var l;!e.decoder||r||n||(i=e.decoder.write(i),l=!e.objectMode&&0===i.length),r||(e.reading=!1),l||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",i),t.read(0)):(e.length+=e.objectMode?1:i.length,r?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&d(t))),p(t,e)}else r||(e.reading=!1);return a(e)}function a(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function c(t){return t>=F?t=F:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function l(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=c(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function u(t,e){var i=null;return O.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}function h(t,e){if(!e.ended){if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,d(t)}}function d(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(L("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?P(f,t):f(t))}function f(t){L("emit readable"),t.emit("readable"),w(t)}function p(t,e){e.readingMore||(e.readingMore=!0,P(g,t,e))}function g(t,e){for(var i=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(L("maybeReadMore read 0"),t.read(0),i!==e.length);)i=e.length;e.readingMore=!1}function m(t){return function(){var e=t._readableState;L("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&M(t,"data")&&(e.flowing=!0,w(t))}}function v(t){L("readable nexttick read 0"),t.read(0)}function y(t,e){e.resumeScheduled||(e.resumeScheduled=!0,P(b,t,e))}function b(t,e){e.reading||(L("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),w(t),e.flowing&&!e.reading&&t.read(0)}function w(t){var e=t._readableState;for(L("flow",e.flowing);e.flowing&&null!==t.read(););}function x(t,e){if(0===e.length)return null;var i;return e.objectMode?i=e.buffer.shift():!t||t>=e.length?(i=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):i=A(t,e.buffer,e.decoder),i}function A(t,e,i){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():i?C(t,e):S(t,e),n}function C(t,e){var i=e.head,n=1,r=i.data;for(t-=r.length;i=i.next;){var s=i.data,o=t>s.length?s.length:t;if(o===s.length?r+=s:r+=s.slice(0,t),0===(t-=o)){o===s.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(o));break}++n}return e.length-=n,r}function S(t,e){var i=N.allocUnsafe(t),n=e.head,r=1;for(n.data.copy(i),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(i,i.length-t,0,o),0===(t-=o)){o===s.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++r}return e.length-=r,i}function k(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,P(E,e,t))}function E(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function T(t,e){for(var i=0,n=t.length;i<n;i++)e(t[i],i)}function _(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}e.exports=s;var B,P=t("process-nextick-args"),I=t("isarray");s.ReadableState=r;t("events").EventEmitter;var R,M=function(t,e){return t.listeners(e).length};!function(){try{R=t("stream")}catch(t){}finally{R||(R=t("events").EventEmitter)}}();var O=t("buffer").Buffer,N=t("buffer-shims"),j=t("core-util-is");j.inherits=t("inherits");var D=t("util"),L=void 0;L=D&&D.debuglog?D.debuglog("stream"):function(){};var q,V=t("./internal/streams/BufferList");j.inherits(s,R),s.prototype.push=function(t,e){var i=this._readableState;return i.objectMode||"string"!=typeof t||(e=e||i.defaultEncoding)!==i.encoding&&(t=N.from(t,e),e=""),o(this,i,t,e,!1)},s.prototype.unshift=function(t){return o(this,this._readableState,t,"",!0)},s.prototype.isPaused=function(){return!1===this._readableState.flowing},s.prototype.setEncoding=function(e){return q||(q=t("string_decoder/").StringDecoder),this._readableState.decoder=new q(e),this._readableState.encoding=e,this};var F=8388608;s.prototype.read=function(t){L("read",t),t=parseInt(t,10);var e=this._readableState,i=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return L("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?k(this):d(this),null;if(0===(t=l(t,e))&&e.ended)return 0===e.length&&k(this),null;var n=e.needReadable;L("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&L("length less than watermark",n=!0),e.ended||e.reading?L("reading or ended",n=!1):n&&(L("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=l(i,e)));var r;return r=t>0?x(t,e):null,null===r?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&k(this)),null!==r&&this.emit("data",r),r},s.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},s.prototype.pipe=function(t,e){function r(t){L("onunpipe"),t===d&&o()}function s(){L("onend"),t.end()}function o(){L("cleanup"),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("drain",g),t.removeListener("error",c),t.removeListener("unpipe",r),d.removeListener("end",s),d.removeListener("end",o),d.removeListener("data",a),v=!0,!f.awaitDrain||t._writableState&&!t._writableState.needDrain||g()}function a(e){L("ondata"),y=!1,!1!==t.write(e)||y||((1===f.pipesCount&&f.pipes===t||f.pipesCount>1&&-1!==_(f.pipes,t))&&!v&&(L("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,y=!0),d.pause())}function c(e){L("onerror",e),h(),t.removeListener("error",c),0===M(t,"error")&&t.emit("error",e)}function l(){t.removeListener("finish",u),h()}function u(){L("onfinish"),t.removeListener("close",l),h()}function h(){L("unpipe"),d.unpipe(t)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=t;break;case 1:f.pipes=[f.pipes,t];break;default:f.pipes.push(t)}f.pipesCount+=1,L("pipe count=%d opts=%j",f.pipesCount,e);var p=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?s:o;f.endEmitted?P(p):d.once("end",p),t.on("unpipe",r);var g=m(d);t.on("drain",g);var v=!1,y=!1;return d.on("data",a),n(t,"error",c),t.once("close",l),t.once("finish",u),t.emit("pipe",d),f.flowing||(L("pipe resume"),d.resume()),t},s.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<n;r++)i[r].emit("unpipe",this);return this}var s=_(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},s.prototype.on=function(t,e){var i=R.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&d(this):P(v,this))}return i},s.prototype.addListener=s.prototype.on,s.prototype.resume=function(){var t=this._readableState;return t.flowing||(L("resume"),t.flowing=!0,y(this,t)),this},s.prototype.pause=function(){return L("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(L("pause"),this._readableState.flowing=!1,this.emit("pause")),this},s.prototype.wrap=function(t){var e=this._readableState,i=!1,n=this;t.on("end",function(){if(L("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)}),t.on("data",function(r){L("wrapped data"),e.decoder&&(r=e.decoder.write(r)),(!e.objectMode||null!==r&&void 0!==r)&&(e.objectMode||r&&r.length)&&(n.push(r)||(i=!0,t.pause()))});for(var r in t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));return T(["error","close","destroy","pause","resume"],function(e){t.on(e,n.emit.bind(n,e))}),n._read=function(e){L("wrapped _read",e),i&&(i=!1,t.resume())},n},s._fromList=x}).call(this,t("_process"))},{"./_stream_duplex":108,"./internal/streams/BufferList":113,_process:106,buffer:29,"buffer-shims":3,"core-util-is":26,events:28,inherits:48,isarray:50,"process-nextick-args":105,"string_decoder/":121,util:2}],111:[function(t,e,i){"use strict";function n(t){this.afterTransform=function(e,i){return r(t,e,i)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function r(t,e,i){var n=t._transformState;n.transforming=!1;var r=n.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==i&&void 0!==i&&t.push(i),r(e);var s=t._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&t._read(s.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);a.call(this,t),this._transformState=new n(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,i){o(e,t,i)}):o(e)})}function o(t,e,i){if(e)return t.emit("error",e);null!==i&&void 0!==i&&t.push(i);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}e.exports=s;var a=t("./_stream_duplex"),c=t("core-util-is");c.inherits=t("inherits"),c.inherits(s,a),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,i){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,i){var n=this._transformState;if(n.writecb=i,n.writechunk=t,n.writeencoding=e,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./_stream_duplex":108,"core-util-is":26,inherits:48}],112:[function(t,e,i){(function(i){"use strict";function n(){}function r(t,e,i){this.chunk=t,this.encoding=e,this.callback=i,this.next=null}function s(e,i){C=C||t("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,i instanceof C&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){p(i,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new A(this)}function o(e){if(C=C||t("./_stream_duplex"),!(I.call(o,this)||this instanceof C))return new o(e);this._writableState=new s(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),T.call(this)}function a(t,e){var i=new Error("write after end");t.emit("error",i),S(e,i)}function c(t,e,i,n){var r=!0,s=!1;return null===i?s=new TypeError("May not write null values to stream"):B.isBuffer(i)||"string"==typeof i||void 0===i||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),S(n,s),r=!1),r}function l(t,e,i){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=P.from(e,i)),e}function u(t,e,i,n,s){i=l(e,i,n),B.isBuffer(i)&&(n="buffer");var o=e.objectMode?1:i.length;e.length+=o;var a=e.length<e.highWaterMark;if(a||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest=new r(i,n,s),c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else h(t,e,!1,o,i,n,s);return a}function h(t,e,i,n,r,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,i?t._writev(r,e.onwrite):t._write(r,s,e.onwrite),e.sync=!1}function d(t,e,i,n,r){--e.pendingcb,i?S(r,n):r(n),t._writableState.errorEmitted=!0,t.emit("error",n)}function f(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function p(t,e){var i=t._writableState,n=i.sync,r=i.writecb;if(f(i),e)d(t,i,n,e,r);else{var s=y(i);s||i.corked||i.bufferProcessing||!i.bufferedRequest||v(t,i),n?k(g,t,i,s,r):g(t,i,s,r)}}function g(t,e,i,n){i||m(t,e),e.pendingcb--,n(),w(t,e)}function m(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function v(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var n=e.bufferedRequestCount,r=new Array(n),s=e.corkedRequestsFree;s.entry=i;for(var o=0;i;)r[o]=i,i=i.next,o+=1;h(t,e,!0,e.length,r,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new A(e)}else{for(;i;){var a=i.chunk,c=i.encoding,l=i.callback;if(h(t,e,!1,e.objectMode?1:a.length,a,c,l),i=i.next,e.writing)break}null===i&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=i,e.bufferProcessing=!1}function y(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function b(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function w(t,e){var i=y(e);return i&&(0===e.pendingcb?(b(t,e),e.finished=!0,t.emit("finish")):b(t,e)),i}function x(t,e,i){e.ending=!0,w(t,e),i&&(e.finished?S(i):t.once("finish",i)),e.ended=!0,t.writable=!1}function A(t){var e=this;this.next=null,this.entry=null,this.finish=function(i){var n=e.entry;for(e.entry=null;n;){var r=n.callback;t.pendingcb--,r(i),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}e.exports=o;var C,S=t("process-nextick-args"),k=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?setImmediate:S;o.WritableState=s;var E=t("core-util-is");E.inherits=t("inherits");var T,_={deprecate:t("util-deprecate")};!function(){try{T=t("stream")}catch(t){}finally{T||(T=t("events").EventEmitter)}}();var B=t("buffer").Buffer,P=t("buffer-shims");E.inherits(o,T),s.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(s.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}();var I;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(o,Symbol.hasInstance,{value:function(t){return!!I.call(this,t)||t&&t._writableState instanceof s}})):I=function(t){return t instanceof this},o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},o.prototype.write=function(t,e,i){var r=this._writableState,s=!1;return"function"==typeof e&&(i=e,e=null),B.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof i&&(i=n),r.ended?a(this,i):c(this,r,t,i)&&(r.pendingcb++,s=u(this,r,t,e,i)),s},o.prototype.cork=function(){this._writableState.corked++},o.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||v(this,t))},o.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},o.prototype._write=function(t,e,i){i(new Error("_write() is not implemented"))},o.prototype._writev=null,o.prototype.end=function(t,e,i){var n=this._writableState;"function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||x(this,n,i)}}).call(this,t("_process"))},{"./_stream_duplex":108,_process:106,buffer:29,"buffer-shims":3,"core-util-is":26,events:28,inherits:48,"process-nextick-args":105,"util-deprecate":122}],113:[function(t,e,i){"use strict";function n(){this.head=null,this.tail=null,this.length=0}t("buffer").Buffer;var r=t("buffer-shims");e.exports=n,n.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},n.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},n.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},n.prototype.clear=function(){this.head=this.tail=null,this.length=0},n.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i},n.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e=r.allocUnsafe(t>>>0),i=this.head,n=0;i;)i.data.copy(e,n),n+=i.data.length,i=i.next;return e}},{buffer:29,"buffer-shims":3}],114:[function(t,e,i){e.exports=t("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":109}],115:[function(t,e,i){(function(n){var r=function(){try{return t("stream")}catch(t){}}();(i=e.exports=t("./lib/_stream_readable.js")).Stream=r||i,i.Readable=i,i.Writable=t("./lib/_stream_writable.js"),i.Duplex=t("./lib/_stream_duplex.js"),i.Transform=t("./lib/_stream_transform.js"),i.PassThrough=t("./lib/_stream_passthrough.js"),!n.browser&&"disable"===n.env.READABLE_STREAM&&r&&(e.exports=r)}).call(this,t("_process"))},{"./lib/_stream_duplex.js":108,"./lib/_stream_passthrough.js":109,"./lib/_stream_readable.js":110,"./lib/_stream_transform.js":111,"./lib/_stream_writable.js":112,_process:106}],116:[function(t,e,i){e.exports=t("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":111}],117:[function(t,e,i){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":112}],118:[function(t,e,i){!function(){"use strict";var t="undefined"==typeof window?{}:window.document,i=void 0!==e&&e.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,r=i.length,s={};n<r;n++)if((e=i[n])&&e[1]in t){for(n=0;n<e.length;n++)s[i[0][n]]=e[n];return s}return!1}(),s={request:function(e){var i=r.requestFullscreen;e=e||t.documentElement,/5\.1[.\d]* Safari/.test(navigator.userAgent)?e[i]():e[i](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){t[r.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(e){t.addEventListener(r.fullscreenchange,e,!1)},onerror:function(e){t.addEventListener(r.fullscreenerror,e,!1)},raw:r};if(!r)return void(i?e.exports=!1:window.screenfull=!1);Object.defineProperties(s,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),i?e.exports=s:window.screenfull=s}()},{}],119:[function(t,e,i){!function(t,i){void 0!==e&&e.exports?e.exports=i():"function"==typeof define&&define.amd?define(i):this.$script=i()}(0,function(){function t(t,e){for(var i=0,n=t.length;i<n;++i)if(!e(t[i]))return c;return 1}function e(e,i){t(e,function(t){return!i(t)})}function i(s,o,a){function c(t){return t.call?t():d[t]}function u(){if(!--y){d[v]=1,m&&m();for(var i in p)t(i.split("|"),c)&&!e(p[i],c)&&(p[i]=[])}}s=s[l]?s:[s];var h=o&&o.call,m=h?o:a,v=h?s.join(""):o,y=s.length;return setTimeout(function(){e(s,function t(e,i){return null===e?u():(i||/^https?:\/\//.test(e)||!r||(e=-1===e.indexOf(".js")?r+e+".js":r+e),g[e]?(v&&(f[v]=1),2==g[e]?u():setTimeout(function(){t(e,!0)},0)):(g[e]=1,v&&(f[v]=1),void n(e,u)))})},0),i}function n(t,e){var i,n=o.createElement("script");n.onload=n.onerror=n[h]=function(){n[u]&&!/^c|loade/.test(n[u])||i||(n.onload=n[h]=null,i=1,g[t]=2,e())},n.async=1,n.src=s?t+(-1===t.indexOf("?")?"?":"&")+s:t,a.insertBefore(n,a.lastChild)}var r,s,o=document,a=o.getElementsByTagName("head")[0],c=!1,l="push",u="readyState",h="onreadystatechange",d={},f={},p={},g={};return i.get=n,i.order=function(t,e,n){!function r(s){s=t.shift(),t.length?i(s,r):i(s,e,n)}()},i.path=function(t){r=t},i.urlArgs=function(t){s=t},i.ready=function(n,r,s){var o=[];return!e(n=n[l]?n:[n],function(t){d[t]||o[l](t)})&&t(n,function(t){return d[t]})?r():function(t){p[t]=p[t]||[],p[t][l](r),s&&s(o)}(n.join("|")),i},i.done=function(t){i([null],t)},i})},{}],120:[function(t,e,i){function n(){r.call(this)}e.exports=n;var r=t("events").EventEmitter;t("inherits")(n,r),n.Readable=t("readable-stream/readable.js"),n.Writable=t("readable-stream/writable.js"),n.Duplex=t("readable-stream/duplex.js"),n.Transform=t("readable-stream/transform.js"),n.PassThrough=t("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(t,e){function i(e){t.writable&&!1===t.write(e)&&l.pause&&l.pause()}function n(){l.readable&&l.resume&&l.resume()}function s(){u||(u=!0,t.end())}function o(){u||(u=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(c(),0===r.listenerCount(this,"error"))throw t}function c(){l.removeListener("data",i),t.removeListener("drain",n),l.removeListener("end",s),l.removeListener("close",o),l.removeListener("error",a),t.removeListener("error",a),l.removeListener("end",c),l.removeListener("close",c),t.removeListener("close",c)}var l=this;l.on("data",i),t.on("drain",n),t._isStdio||e&&!1===e.end||(l.on("end",s),l.on("close",o));var u=!1;return l.on("error",a),t.on("error",a),l.on("end",c),l.on("close",c),t.on("close",c),t.emit("pipe",l),t}},{events:28,inherits:48,"readable-stream/duplex.js":107,"readable-stream/passthrough.js":114,"readable-stream/readable.js":115,"readable-stream/transform.js":116,"readable-stream/writable.js":117}],121:[function(t,e,i){function n(t){if(t&&!c(t))throw new Error("Unknown encoding: "+t)}function r(t){return t.toString(this.encoding)}function s(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function o(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var a=t("buffer").Buffer,c=a.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},l=i.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),n(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=s;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=r)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};l.prototype.write=function(t){for(var e="";this.charLength;){var i=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,i),this.charReceived+=i,this.charReceived<this.charLength)return"";if(t=t.slice(i,t.length),!((r=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived);var n=(e+=t.toString(this.encoding,0,n)).length-1,r=e.charCodeAt(n);if(r>=55296&&r<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),t.copy(this.charBuffer,0,0,s),e.substring(0,n)}return e},l.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var i=t[t.length-e];if(1==e&&i>>5==6){this.charLength=2;break}if(e<=2&&i>>4==14){this.charLength=3;break}if(e<=3&&i>>3==30){this.charLength=4;break}}this.charReceived=e},l.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var i=this.charReceived,n=this.charBuffer,r=this.encoding;e+=n.slice(0,i).toString(r)}return e}},{buffer:29}],122:[function(t,e,i){(function(t){function i(t,e){function i(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}if(n("noDeprecation"))return t;var r=!1;return i}function n(e){try{if(!t.localStorage)return!1}catch(t){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],123:[function(t,e,i){arguments[4][48][0].apply(i,arguments)},{dup:48}],124:[function(t,e,i){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],125:[function(t,e,i){(function(e,n){function r(t,e){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(e)?n.showHidden=e:e&&i._extend(n,e),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),c(n,t,n.depth)}function s(t,e){var i=r.styles[e];return i?"["+r.colors[i][0]+"m"+t+"["+r.colors[i][1]+"m":t}function o(t,e){return t}function a(t){var e={};return t.forEach(function(t,i){e[t]=!0}),e}function c(t,e,n){if(t.customInspect&&e&&E(e.inspect)&&e.inspect!==i.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return b(r)||(r=c(t,r,n)),r}var s=l(t,e);if(s)return s;var o=Object.keys(e),g=a(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),k(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return u(e);if(0===o.length){if(E(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(A(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(S(e))return t.stylize(Date.prototype.toString.call(e),"date");if(k(e))return u(e)}var v="",y=!1,w=["{","}"];if(p(e)&&(y=!0,w=["[","]"]),E(e)&&(v=" [Function"+(e.name?": "+e.name:"")+"]"),A(e)&&(v=" "+RegExp.prototype.toString.call(e)),S(e)&&(v=" "+Date.prototype.toUTCString.call(e)),k(e)&&(v=" "+u(e)),0===o.length&&(!y||0==e.length))return w[0]+v+w[1];if(n<0)return A(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var x;return x=y?h(t,e,n,g,o):o.map(function(i){return d(t,e,n,g,i,y)}),t.seen.pop(),f(x,v,w)}function l(t,e){if(x(e))return t.stylize("undefined","undefined");if(b(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,i,n,r){for(var s=[],o=0,a=e.length;o<a;++o)I(e,String(o))?s.push(d(t,e,i,n,String(o),!0)):s.push("");return r.forEach(function(r){r.match(/^\d+$/)||s.push(d(t,e,i,n,r,!0))}),s}function d(t,e,i,n,r,s){var o,a,l;if(l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},l.get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),I(n,r)||(o="["+r+"]"),a||(t.seen.indexOf(l.value)<0?(a=m(i)?c(t,l.value,null):c(t,l.value,i-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),x(o)){if(s&&r.match(/^\d+$/))return a;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function f(t,e,i){var n=0;return t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}function p(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function x(t){return void 0===t}function A(t){return C(t)&&"[object RegExp]"===_(t)}function C(t){return"object"==typeof t&&null!==t}function S(t){return C(t)&&"[object Date]"===_(t)}function k(t){return C(t)&&("[object Error]"===_(t)||t instanceof Error)}function E(t){return"function"==typeof t}function T(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function _(t){return Object.prototype.toString.call(t)}function B(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[B(t.getHours()),B(t.getMinutes()),B(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i.format=function(t){if(!b(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(r(arguments[i]));return e.join(" ")}for(var i=1,n=arguments,s=n.length,o=String(t).replace(/%[sdj%]/g,function(t){if("%%"===t)return"%";if(i>=s)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return t}}),a=n[i];i<s;a=n[++i])m(a)||!C(a)?o+=" "+a:o+=" "+r(a);return o},i.deprecate=function(t,r){function s(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return t.apply(this,arguments)}if(x(n.process))return function(){return i.deprecate(t,r).apply(this,arguments)};if(!0===e.noDeprecation)return t;var o=!1;return s};var R,M={};i.debuglog=function(t){if(x(R)&&(R=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!M[t])if(new RegExp("\\b"+t+"\\b","i").test(R)){var n=e.pid;M[t]=function(){var e=i.format.apply(i,arguments);console.error("%s %d: %s",t,n,e)}}else M[t]=function(){};return M[t]},i.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=g,i.isNull=m,i.isNullOrUndefined=v,i.isNumber=y,i.isString=b,i.isSymbol=w,i.isUndefined=x,i.isRegExp=A,i.isObject=C,i.isDate=S,i.isError=k,i.isFunction=E,i.isPrimitive=T,i.isBuffer=t("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];i.log=function(){console.log("%s - %s",P(),i.format.apply(i,arguments))},i.inherits=t("inherits"),i._extend=function(t,e){if(!e||!C(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":124,_process:106,inherits:123}],126:[function(t,e,i){!function(){function t(t,e,i){return t.call.apply(t.bind,arguments)}function i(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function n(e,r,s){return(n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t:i).apply(null,arguments)}function r(t,e){this.a=t,this.m=e||t,this.c=this.m.document}function s(t,e,i,n){if(e=t.c.createElement(e),i)for(var r in i)i.hasOwnProperty(r)&&("style"==r?e.style.cssText=i[r]:e.setAttribute(r,i[r]));return n&&e.appendChild(t.c.createTextNode(n)),e}function o(t,e,i){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function a(t){t.parentNode&&t.parentNode.removeChild(t)}function c(t,e,i){e=e||[],i=i||[];for(var n=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var s=!1,o=0;o<n.length;o+=1)if(e[r]===n[o]){s=!0;break}s||n.push(e[r])}for(e=[],r=0;r<n.length;r+=1){for(s=!1,o=0;o<i.length;o+=1)if(n[r]===i[o]){s=!0;break}s||e.push(n[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(t,e){for(var i=t.className.split(/\s+/),n=0,r=i.length;n<r;n++)if(i[n]==e)return!0;return!1}function u(t){if("string"==typeof t.f)return t.f;var e=t.m.location.protocol;return"about:"==e&&(e=t.a.location.protocol),"https:"==e?"https:":"http:"}function h(t){return t.m.location.hostname||t.a.location.hostname}function d(t,e,i){function n(){l&&r&&a&&(l(c),l=null)}e=s(t,"link",{rel:"stylesheet",href:e,media:"all"});var r=!1,a=!0,c=null,l=i||null;rt?(e.onload=function(){r=!0,n()},e.onerror=function(){r=!0,c=Error("Stylesheet failed to load"),n()}):setTimeout(function(){r=!0,n()},0),o(t,"head",e)}function f(t,e,i,n){var r=t.c.getElementsByTagName("head")[0];if(r){var o=s(t,"script",{src:e}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,i&&i(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&r.removeChild(o))},r.appendChild(o),setTimeout(function(){a||(a=!0,i&&i(Error("Script load timeout")))},n||5e3),o}return null}function p(){this.a=0,this.c=null}function g(t){return t.a++,function(){t.a--,v(t)}}function m(t,e){t.c=e,v(t)}function v(t){0==t.a&&t.c&&(t.c(),t.c=null)}function y(t){this.a=t||"-"}function b(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function w(t){return C(t)+" "+t.f+"00 300px "+x(t.c)}function x(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var n=t[i].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function A(t){return t.a+t.f}function C(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function S(t){var e=4,i="n",n=null;return t&&((n=t.match(/(normal|oblique|italic)/i))&&n[1]&&(i=n[1].substr(0,1).toLowerCase()),(n=t.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?e=7:/[1-9]00/.test(n[1])&&(e=parseInt(n[1].substr(0,1),10)))),i+e}function k(t,e){this.c=t,this.f=t.m.document.documentElement,this.h=e,this.a=new y("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function E(t){t.g&&c(t.f,[t.a.c("wf","loading")]),_(t,"loading")}function T(t){if(t.g){var e=l(t.f,t.a.c("wf","active")),i=[],n=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),c(t.f,i,n)}_(t,"inactive")}function _(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,A(i)):t.h[e]())}function B(){this.c={}}function P(t,e,i){var n,r=[];for(n in e)if(e.hasOwnProperty(n)){var s=t.c[n];s&&r.push(s(e[n],i))}return r}function I(t,e){this.c=t,this.f=e,this.a=s(this.c,"span",{"aria-hidden":"true"},this.f)}function R(t){o(t.c,"body",t.a)}function M(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(t.c)+";font-style:"+C(t)+";font-weight:"+t.f+"00;"}function O(t,e,i,n,r,s){this.g=t,this.j=e,this.a=n,this.c=i,this.f=r||3e3,this.h=s||void 0}function N(t,e,i,n,r,s,o){this.v=t,this.B=e,this.c=i,this.a=n,this.s=o||"BESbswy",this.f={},this.w=r||3e3,this.u=s||null,this.o=this.j=this.h=this.g=null,this.g=new I(this.c,this.s),this.h=new I(this.c,this.s),this.j=new I(this.c,this.s),this.o=new I(this.c,this.s),t=M(t=new b(this.a.c+",serif",A(this.a))),this.g.a.style.cssText=t,t=M(t=new b(this.a.c+",sans-serif",A(this.a))),this.h.a.style.cssText=t,t=M(t=new b("serif",A(this.a))),this.j.a.style.cssText=t,t=M(t=new b("sans-serif",A(this.a))),this.o.a.style.cssText=t,R(this.g),R(this.h),R(this.j),R(this.o)}function j(){if(null===ot){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);ot=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return ot}function D(t,e,i){for(var n in st)if(st.hasOwnProperty(n)&&e===t.f[st[n]]&&i===t.f[st[n]])return!0;return!1}function L(t){var e,i=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=i===t.f.serif&&n===t.f["sans-serif"])||(e=j()&&D(t,i,n)),e?nt()-t.A>=t.w?j()&&D(t,i,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?V(t,t.v):V(t,t.B):q(t):V(t,t.v)}function q(t){setTimeout(n(function(){L(this)},t),50)}function V(t,e){setTimeout(n(function(){a(this.g.a),a(this.h.a),a(this.j.a),a(this.o.a),e(this.a)},t),0)}function F(t,e,i){this.c=t,this.a=e,this.f=0,this.o=this.j=!1,this.s=i}function z(t){0==--t.f&&t.j&&(t.o?((t=t.a).g&&c(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),_(t,"active")):T(t.a))}function U(t){this.j=t,this.a=new B,this.h=0,this.f=this.g=!0}function W(t,e,i,r,s){var o=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=s||null,a=r||null||{};if(0===i.length&&o)T(e.a);else{e.f+=i.length,o&&(e.j=o);var l,u=[];for(l=0;l<i.length;l++){var h=i[l],d=a[h.c],f=e.a,p=h;if(f.g&&c(f.f,[f.a.c("wf",p.c,A(p).toString(),"loading")]),_(f,"fontloading",p),f=null,null===at)if(window.FontFace){var p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);at=p?42<parseInt(p[1],10):!g}else at=!1;f=at?new O(n(e.g,e),n(e.h,e),e.c,h,e.s,d):new N(n(e.g,e),n(e.h,e),e.c,h,e.s,t,d),u.push(f)}for(l=0;l<u.length;l++)u[l].start()}},0)}function H(t,e,i){var n=[],r=i.timeout;E(e);var n=P(t.a,i,t.c),s=new F(t.c,e,r);for(t.h=n.length,e=0,i=n.length;e<i;e++)n[e].load(function(e,i,n){W(t,s,e,i,n)})}function G(t,e){this.c=t,this.a=e}function $(t,e,i){var n=u(t.c);return t=(t.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""),n+"//"+t+"/"+e+".js"+(i?"?v="+i:"")}function J(t,e){this.c=t,this.a=e}function K(t,e,i){this.c=t||e+ct,this.a=[],this.f=[],this.g=i||""}function Y(t,e){for(var i=e.length,n=0;n<i;n++){var r=e[n].split(":");3==r.length&&t.f.push(r.pop());var s="";2==r.length&&""!=r[1]&&(s=":"),t.a.push(r.join(s))}}function Z(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],n=0;n<e;n++)i.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}function X(t){this.f=t,this.a=[],this.c={}}function Q(t){for(var e=t.f.length,i=0;i<e;i++){var n=t.f[i].split(":"),r=n[0].replace(/\+/g," "),s=["n4"];if(2<=n.length){var o;if(o=[],a=n[1])for(var a=a.split(","),c=a.length,l=0;l<c;l++){var u;if((u=a[l]).match(/^[\w-]+$/))if(null==(d=dt.exec(u.toLowerCase())))u="";else{if(u=d[2],u=null==u||""==u?"n":ht[u],null==(d=d[1])||""==d)d="4";else var h=ut[d],d=h||(isNaN(d)?"4":d.substr(0,1));u=[u,d].join("")}else u="";u&&o.push(u)}0<o.length&&(s=o),3==n.length&&(n=n[2],o=[],0<(n=n?n.split(","):o).length&&(n=lt[n[0]])&&(t.c[r]=n))}for(t.c[r]||(n=lt[r])&&(t.c[r]=n),n=0;n<s.length;n+=1)t.a.push(new b(r,s[n]))}}function tt(t,e){this.c=t,this.a=e}function et(t,e){this.c=t,this.a=e}function it(t,e){this.c=t,this.f=e,this.a=[]}var nt=Date.now||function(){return+new Date},rt=!!window.FontFace;y.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},O.prototype.start=function(){var t=this.c.m.document,e=this,i=nt(),n=new Promise(function(n,r){function s(){nt()-i>=e.f?r():t.fonts.load(w(e.a),e.h).then(function(t){1<=t.length?n():setTimeout(s,25)},function(){r()})}s()}),r=new Promise(function(t,i){setTimeout(i,e.f)});Promise.race([r,n]).then(function(){e.g(e.a)},function(){e.j(e.a)})};var st={D:"serif",C:"sans-serif"},ot=null;N.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=nt(),L(this)};var at=null;F.prototype.g=function(t){var e=this.a;e.g&&c(e.f,[e.a.c("wf",t.c,A(t).toString(),"active")],[e.a.c("wf",t.c,A(t).toString(),"loading"),e.a.c("wf",t.c,A(t).toString(),"inactive")]),_(e,"fontactive",t),this.o=!0,z(this)},F.prototype.h=function(t){var e=this.a;if(e.g){var i=l(e.f,e.a.c("wf",t.c,A(t).toString(),"active")),n=[],r=[e.a.c("wf",t.c,A(t).toString(),"loading")];i||n.push(e.a.c("wf",t.c,A(t).toString(),"inactive")),c(e.f,n,r)}_(e,"fontinactive",t),z(this)},U.prototype.load=function(t){this.c=new r(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,H(this,new k(this.c,t),t)},G.prototype.load=function(t){function e(){if(s["__mti_fntLst"+n]){var i,r=s["__mti_fntLst"+n](),o=[];if(r)for(var a=0;a<r.length;a++){var c=r[a].fontfamily;void 0!=r[a].fontStyle&&void 0!=r[a].fontWeight?(i=r[a].fontStyle+r[a].fontWeight,o.push(new b(c,i))):o.push(new b(c))}t(o)}else setTimeout(function(){e()},50)}var i=this,n=i.a.projectId,r=i.a.version;if(n){var s=i.c.m;f(this.c,$(i,n,r),function(r){r?t([]):(s["__MonotypeConfiguration__"+n]=function(){return i.a},e())}).id="__MonotypeAPIScript__"+n}else t([])},J.prototype.load=function(t){var e,i,n=this.a.urls||[],r=this.a.families||[],s=this.a.testStrings||{},o=new p;for(e=0,i=n.length;e<i;e++)d(this.c,n[e],g(o));var a=[];for(e=0,i=r.length;e<i;e++)if((n=r[e].split(":"))[1])for(var c=n[1].split(","),l=0;l<c.length;l+=1)a.push(new b(n[0],c[l]));else a.push(new b(n[0]));m(o,function(){t(a,s)})};var ct="//fonts.googleapis.com/css",lt={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},ut={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ht={i:"i",italic:"i",n:"n",normal:"n"},dt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,ft={Arimo:!0,Cousine:!0,Tinos:!0};tt.prototype.load=function(t){var e=new p,i=this.c,n=new K(this.a.api,u(i),this.a.text),r=this.a.families;Y(n,r);var s=new X(r);Q(s),d(i,Z(n),g(e)),m(e,function(){t(s.a,s.c,ft)})},et.prototype.load=function(t){var e=this.a.id,i=this.c.m;e?f(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var n=[],r=0;r<e.length;r+=2)for(var s=e[r],o=e[r+1],a=0;a<o.length;a++)n.push(new b(s,o[a]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(n)}},2e3):t([])},it.prototype.load=function(t){var e=this.f.id,i=this.c.m,n=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var r=0,s=i.fonts.length;r<s;++r){var o=i.fonts[r];n.a.push(new b(o.name,S("font-weight:"+o.weight+";font-style:"+o.style)))}t(n.a)},f(this.c,u(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+h(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var pt=new U(window);pt.a.c.custom=function(t,e){return new J(e,t)},pt.a.c.fontdeck=function(t,e){return new it(e,t)},pt.a.c.monotype=function(t,e){return new G(e,t)},pt.a.c.typekit=function(t,e){return new et(e,t)},pt.a.c.google=function(t,e){return new tt(e,t)};var gt={load:n(pt.load,pt)};"function"==typeof define&&define.amd?define(function(){return gt}):void 0!==e&&e.exports?e.exports=gt:(window.WebFont=gt,window.WebFontConfig&&pt.load(window.WebFontConfig))}()},{}],127:[function(t,e,i){e.exports=function(t,e,i){var n={};return n.Font=function(t,e,i,n,r){t&&(this.family=t),"number"==typeof e&&(this.size=e),i&&(this.bold=i),n&&(this.italic=n),r&&(this.variant=r),this._metrics={ascent:-1,descent:-1,height:-1}},n.Font.ALREADY_CALCULATED_FONTS=[],n.Font.SUBSTITUTIONS={abc:"Kalam","a.c.m.e. secret agent":"Permanent Marker","comic sans ms":"Patrick Hand",impact:"Oswald",massallera:"Vibur",memima:"Vibur",memima_n1:"Vibur",memima_n2:"Vibur","memimas-regularalternate":"Vibur",palmemim:"Vibur",zurichcalligraphic:"Felipa"},n.Font.ALREADY_LOADED_FONTS=[],n.Font.checkTree=function(e,r){var s=n.Font.SUBSTITUTIONS;r&&r.ownFonts&&r.ownFonts.forEach(function(t){n.Font.ALREADY_LOADED_FONTS.indexOf(t)<0&&i&&i.load&&(i.load({custom:{families:[t]}}),n.Font.ALREADY_LOADED_FONTS.push(t),delete s[t.trim().toLowerCase()])}),r&&r.fontSubstitutions&&(s=t.extend(Object.create(s),r.fontSubstitutions)),e.find("style[family],font[family]").each(function(){var e=t(this),i=e.attr("family").trim().toLowerCase();if(i in s){var r=s[i];""!==r&&(n.Font.loadGoogleFont(r),e.attr("family",r))}})},n.Font.loadGoogleFont=function(t){t&&n.Font.ALREADY_LOADED_FONTS.indexOf(t)<0&&i&&i.load&&(i.load({google:{families:[t]}}),n.Font.ALREADY_LOADED_FONTS.push(t))},n.Font.loadGoogleFonts=function(t){if(t)for(var e=0;e<t.length;e++)n.Font.loadGoogleFont(t[e])},n.Font.prototype={constructor:n.Font,family:"Arial",size:17,bold:0,italic:0,variant:"",_metrics:{ascent:-1,descent:-1,height:-1},setProperties:function(t){return t.attr("family")&&(this.family=t.attr("family")),t.attr("size")&&(this.size=Number(t.attr("size"))),t.attr("bold")&&(this.bold=e.getBoolean(t.attr("bold"))),t.attr("italic")&&(this.italic=e.getBoolean(t.attr("italic"))),t.attr("variant")&&(this.variant=t.attr("variant")),this},setSize:function(t){var e=this.size;return this.size=t,e!==t&&(this._metrics.height=-1),this},zoom:function(t){return this.setSize(this.size+t)},getHeight:function(){if(this._metrics.height<0){for(var t=0;t<n.Font.ALREADY_CALCULATED_FONTS.length;t++){var e=n.Font.ALREADY_CALCULATED_FONTS[t];if(e.equals(this)){this._metrics.height=e._metrics.height,this._metrics.ascent=e._metrics.ascent,this._metrics.descent=e._metrics.descent;break}}this._metrics.height<0&&(this._calcHeight(),this._metrics.height>0&&n.Font.ALREADY_CALCULATED_FONTS.push(this))}return this._metrics.height},toCss:function(t){return t||(t={}),t["font-family"]=this.family,t["font-size"]=this.size+"px",this.hasOwnProperty("bold")&&(t["font-weight"]=this.bold?"bold":"normal"),this.hasOwnProperty("italic")&&(t["font-style"]=this.italic?"italic":"normal"),this.hasOwnProperty("variant")&&(t["font-variant"]=this.variant),t},cssFont:function(){return(this.italic?"italic ":"normal")+" "+(""===this.variant?"normal":this.variant)+" "+(this.bold?"bold ":"normal")+" "+this.size+"pt "+this.family},_calcHeight:function(){var e=t("<span/>").html("Hg").css(this.toCss()),i=t("<div/>").css({display:"inline-block",width:"1px",height:"0px"}),n=t("<div/>").append(e,i);t("body").append(n);try{i.css({verticalAlign:"baseline"}),this._metrics.ascent=i.offset().top-e.offset().top,i.css({verticalAlign:"bottom"}),this._metrics.height=i.offset().top-e.offset().top,this._metrics.descent=this._metrics.height-this._metrics.ascent}finally{n.remove()}return this},equals:function(t){return this.family===t.family&&this.size===t.size&&this.bold===t.bold&&this.italic===t.italic&&this.variant===t.variant}},n.Gradient=function(t,e,i,n){t&&(this.c1=t),e&&(this.c2=e),"number"==typeof i&&(this.angle=i%360),"number"==typeof n&&(this.cycles=n)},n.Gradient.prototype={constructor:n.Gradient,c1:"white",c2:"black",angle:0,cycles:1,setProperties:function(t){return this.c1=e.checkColor(t.attr("source"),"black"),this.c2=e.checkColor(t.attr("dest"),"white"),this.angle=Number(t.attr("angle")||0)%360,this.cycles=Number(t.attr("cycles")||1),this},getGradient:function(t,e){for(var i=e.getOppositeVertex(),n=t.createLinearGradient(e.pos.x,e.pos.y,i.x,i.y),r=1/Math.max(this.cycles,1),s=0;s<=this.cycles;s++)n.addColorStop(s*r,s%2?this.c1:this.c2);return n},getCss:function(){for(var t="linear-gradient("+(this.angle+90)+"deg, "+this.c1+", "+this.c2,e=1;e<this.cycles;e++)t+=", "+(e%2>0?this.c1:this.c2);return t+=")"},hasTransparency:function(){return e.colorHasTransparency(this.c1)||e.colorHasTransparency(this.c2)}},n.Stroke=function(t,e,i,n){"number"==typeof t&&(this.lineWidth=t),e&&(this.lineCap=e),i&&(this.lineJoin=i),"number"==typeof n&&(this.miterLimit=n)},n.Stroke.prototype={constructor:n.Stroke,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,setStroke:function(t){return t.lineWidth=this.lineWidth,t.lineCap=this.lineCap,t.lineJoin=this.lineJoin,t.miterLimit=this.miterLimit,t}},n.Point=function(t,e){t instanceof n.Point?(this.x=t.x,this.y=t.y):(this.x=t||0,this.y=e||0)},n.Point.prototype={constructor:n.Point,x:0,y:0,setProperties:function(t){return this.x=Number(t.attr("x")),this.y=Number(t.attr("y")),this},moveBy:function(t){return this.x+=t.x||t.width||0,this.y+=t.y||t.height||0,this},moveTo:function(t,e){return"number"==typeof t?(this.x=t,this.y=e):(this.x=t.x,this.y=t.y),this},multBy:function(t){return this.x*=t.x||t.width||0,this.y*=t.y||t.height||0,this},equals:function(t){return this.x===t.x&&this.y===t.y},distanceTo:function(t){return Math.sqrt(Math.pow(this.x-t.x,2),Math.pow(this.y-t.y,2))},clone:function(){return new n.Point(this)}},n.Dimension=function(t,e){t instanceof n.Point&&e instanceof n.Point?(this.width=e.x-t.x,this.height=e.y-t.y):(this.width=t||0,this.height=e||0)},n.Dimension.prototype={constructor:n.Dimension,width:0,height:0,setProperties:function(t){return this.width=Number(t.attr("width")),this.height=Number(t.attr("height")),this},equals:function(t){return this.width===t.width&&this.height===t.height},multBy:function(t){return this.width*=t.x||t.width||0,this.height*=t.y||t.height||0,this},setDimension:function(t,e){return t instanceof n.Dimension&&(e=t.height,t=t.width),this.width=t,this.height=e,this},getSurface:function(){return this.width*this.height}},n.getQuadraticPoints=function(t,i,r,s){s||(s=e.settings.BEZIER_POINTS);for(var o=[],a=new n.Point,c=new n.Point,l=0;l<s;l++){var u=(l+1)/(s+1);a.x=t.x+(i.x-t.x)*u,a.y=t.y-(t.y-i.y)*u,c.x=i.x+(r.x-i.x)*u,c.y=i.y+(r.y-i.y)*u,o.push(new n.Point(a.x+(c.x-a.x)*u,a.y-(a.y-c.y)*u))}return o},n.getCubicPoints=function(t,i,r,s,o){var a=[];o||(o=e.settings.BEZIER_POINTS);for(var c=n.getQuadraticPoints(t,i,r,o),l=n.getQuadraticPoints(i,r,s,o),u=0;u<o;u++){var h=(u+1)/(o+1);a.push(new n.Point(c[u].x+(l[u].x-c[u].x)*h,c[u].y-(c[0].y-l[0].y)*h))}return a},n.Shape=function(t){this.pos=t||new n.Point},n.Shape.prototype={constructor:n.Shape,pos:new n.Point,moveBy:function(t){return this.pos.moveBy(t),this},moveTo:function(t){return this.pos.moveTo(t),this},getBounds:function(){return new n.Rectangle(this.pos)},equals:function(t){return this.pos.equals(t.pos)},scaleBy:function(t){return this},getShape:function(t){return this.clone().scaleBy(t.dim).moveBy(t.pos)},contains:function(t){return!1},intersects:function(t){return!1},fill:function(t,e){return t.save(),e&&e.getSurface()>0&&(t.beginPath(),t.rect(e.pos.x,e.pos.y,e.dim.width,e.dim.height),t.clip()),this.preparePath(t),t.fill(),t.restore(),t},stroke:function(t){return this.preparePath(t),t.stroke(),t},preparePath:function(t){return t},clip:function(t,e){return this.preparePath(t),t.clip(e||"nonzero"),t},isRect:function(){return!1},toString:function(){return"Shape enclosed in "+this.getBounds().getCoords()}},n.Rectangle=function(t,e,i,r){var s=t,o=e;t instanceof n.Rectangle?(o=new n.Dimension(t.dim.width,t.dim.height),s=new n.Point(t.pos.x,t.pos.y)):t instanceof n.Point?(s=new n.Point(t.x,t.y),e instanceof n.Dimension&&(o=new n.Dimension(e.width,e.height))):t instanceof Array?(s=new n.Point(t[0],t[1]),o=new n.Dimension(t[2]-t[0],t[3]-t[1])):"number"==typeof i&&"number"==typeof r&&(s=new n.Point(t,e),o=new n.Dimension(i,r)),n.Shape.call(this,s),o instanceof n.Dimension?this.dim=o:o instanceof n.Point?this.dim=new n.Dimension(o.x-this.pos.x,o.y-this.pos.y):this.dim=new n.Dimension},n.Rectangle.prototype={constructor:n.Rectangle,dim:new n.Dimension,getBounds:function(){return this},setBounds:function(t){return t||(t=new n.Rectangle),this.pos.x=t.pos.x,this.pos.y=t.pos.y,this.dim.width=t.dim.width,this.dim.height=t.dim.height,this},equals:function(t){return t instanceof n.Rectangle&&this.pos.equals(t.pos)&&this.dim.equals(t.dim)},clone:function(){return new n.Rectangle(this)},scaleBy:function(t){return this.pos.multBy(t),this.dim.multBy(t),this},grow:function(t,e){return this.pos.x-=t,this.pos.y-=e,this.dim.width+=2*t,this.dim.height+=2*e,this},getOppositeVertex:function(){return new n.Point(this.pos.x+this.dim.width,this.pos.y+this.dim.height)},add:function(t){var e=this.getOppositeVertex(),i=t.getBounds().getOppositeVertex();return this.pos.moveTo(Math.min(this.pos.x,t.getBounds().pos.x),Math.min(this.pos.y,t.getBounds().pos.y)),this.dim.setDimension(Math.max(e.x,i.x)-this.pos.x,Math.max(e.y,i.y)-this.pos.y),this},contains:function(t){var e=this.getOppositeVertex();return t.x>=this.pos.x&&t.x<=e.x&&t.y>=this.pos.y&&t.y<=e.y},intersects:function(t){var e=this.pos,i=this.getOppositeVertex(),n=t.pos,r=t.getOppositeVertex();return r.x>=e.x&&n.x<=i.x&&r.y>=e.y&&n.y<=i.y},preparePath:function(t){return t.beginPath(),t.rect(this.pos.x,this.pos.y,this.dim.width,this.dim.height),t},getSurface:function(){return this.dim.getSurface()},isEmpty:function(){return 0===this.getSurface()},isRect:function(){return!0},toString:function(){return"Rectangle "+this.getCoords()},getCoords:function(){return"["+Math.round(this.pos.x)+","+Math.round(this.pos.y)+","+Math.round(this.pos.x+this.dim.width)+","+Math.round(this.pos.y+this.dim.height)+"]"}},n.Rectangle.prototype=t.extend(Object.create(n.Shape.prototype),n.Rectangle.prototype),n.Ellipse=function(t,e,i,r){n.Rectangle.call(this,t,e,i,r)},n.Ellipse.prototype={constructor:n.Ellipse,preparePath:function(t){var e=.5522848*this.dim.width/2,i=.5522848*this.dim.height/2,n=this.pos.x+this.dim.width,r=this.pos.y+this.dim.height,s=this.pos.x+this.dim.width/2,o=this.pos.y+this.dim.height/2;return t.beginPath(),t.moveTo(this.pos.x,o),t.bezierCurveTo(this.pos.x,o-i,s-e,this.pos.y,s,this.pos.y),t.bezierCurveTo(s+e,this.pos.y,n,o-i,n,o),t.bezierCurveTo(n,o+i,s+e,r,s,r),t.bezierCurveTo(s-e,r,this.pos.x,o+i,this.pos.x,o),t.closePath(),t},contains:function(t){var e=n.Rectangle.prototype.contains.call(this,t);if(e){var i=this.dim.width/2,r=this.dim.height/2,s=this.pos.x+i,o=this.pos.y+r;e=Math.pow(t.x-s,2)/Math.pow(i,2)+Math.pow(t.y-o,2)/Math.pow(r,2)<=1}return e},getSurface:function(){return Math.PI*this.dim.width/2*this.dim.height/2},equals:function(t){return t instanceof n.Ellipse&&n.Rectangle.prototype.equals.call(this,t)},clone:function(){return new n.Ellipse(this.pos,this.dim)},isRect:function(){return!1},toString:function(){return"Ellipse enclosed in "+this.getCoords()}},n.Ellipse.prototype=t.extend(Object.create(n.Rectangle.prototype),n.Ellipse.prototype),n.Path=function(t){if(t){this.strokes=[];for(var e=0;e<t.length;e++){var i=t[e];i=new n.PathStroke(i.type||i.action,i.points||i.data),this.strokes.push(i)}}this.enclosing=new n.Rectangle,this.enclosingPoints=[],this.calcEnclosingRect(),n.Shape.call(this,this.enclosing.pos)},n.Path.prototype={constructor:n.Path,strokes:[],enclosing:new n.Rectangle,enclosingPoints:[],clone:function(){for(var t=[],e=0;e<this.strokes.length;e++)t[e]=this.strokes[e].clone();return new n.Path(t)},addStroke:function(t){return this.strokes.push(t),this},calcEnclosingRect:function(){this.enclosingPoints=[];for(var t=new n.Point,e=0;e<this.strokes.length;e++){var i=this.strokes[e].getEnclosingPoints(t);if(i.length>0)for(var r=0;r<i.length;r++)t=new n.Point(i[r]),this.enclosingPoints.push(t)}var s=this.enclosingPoints.length;s>1&&this.enclosingPoints[0].equals(this.enclosingPoints[s-1])&&(this.enclosingPoints.pop(),s--);for(var o=new n.Point(this.enclosingPoints[0]),a=new n.Point(this.enclosingPoints[0]),c=1;c<s;c++){var l=this.enclosingPoints[c];o.x=Math.min(l.x,o.x),o.y=Math.min(l.y,o.y),a.x=Math.max(l.x,a.x),a.y=Math.max(l.y,a.y)}return this.enclosing.setBounds(new n.Rectangle(o,new n.Dimension(o,a))),this.enclosing},getBounds:function(){return this.enclosing},moveBy:function(t){for(var e=0;e<this.strokes.length;e++)this.strokes[e].moveBy(t);for(var i=0;i<this.enclosingPoints.length;i++)this.enclosingPoints[i].moveBy(t);return this.enclosing.moveBy(t),this},moveTo:function(t){var e=new n.Dimension(t.x-this.pos.x,t.y-this.pos.y);return this.moveBy(e)},equals:function(t){return!1},scaleBy:function(t){for(var e=0;e<this.strokes.length;e++)this.strokes[e].multBy(t);for(var i=0;i<this.enclosingPoints.length;i++)this.enclosingPoints[i].multBy(t);return this.enclosing.scaleBy(t),this},contains:function(t){var e=this.enclosing.contains(t);if(e){for(var i=this.enclosingPoints[0],n=this.enclosingPoints.length,r=0,s=0,o=1;o<=n;o++){var a=this.enclosingPoints[o%n];t.y>Math.min(i.y,a.y)&&t.y<=Math.max(i.y,a.y)&&t.x<=Math.max(i.x,a.x)&&i.y!==a.y&&(r=(t.y-i.y)*(a.x-i.x)/(a.y-i.y)+i.x,(i.x===a.x||t.x<=r)&&s++),i=a}s%2==0&&(e=!1)}return e},intersects:function(t){return this.enclosing.intersects(t)},preparePath:function(t){t.beginPath();for(var e=0;e<this.strokes.length;e++)this.strokes[e].stroke(t);return t}},n.Path.prototype=t.extend(Object.create(n.Shape.prototype),n.Path.prototype),n.PathStroke=function(t,e){if(this.type=t,e&&e.length>0)if(this.points=[],e[0]instanceof n.Point)for(var i=0;i<e.length;i++)this.points.push(new n.Point(e[i].x,e[i].y));else for(var r=0;r<e.length;r+=2)this.points.push(new n.Point(e[r],e[r+1]))},n.PathStroke.prototype={constructor:n.PathStroke,type:"X",points:null,clone:function(){return new n.PathStroke(this.type,this.points)},moveBy:function(t){if(this.points)for(var e=0;e<this.points.length;e++)this.points[e].moveBy(t);return this},multBy:function(t){if(this.points)for(var e=0;e<this.points.length;e++)this.points[e].multBy(t);return this},stroke:function(t){switch(this.type){case"M":t.moveTo(this.points[0].x,this.points[0].y);break;case"L":t.lineTo(this.points[0].x,this.points[0].y);break;case"Q":t.quadraticCurveTo(this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y);break;case"B":t.bezierCurveTo(this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[2].x,this.points[2].y);break;case"X":t.closePath()}return t},getEnclosingPoints:function(t){var e=[];switch(this.type){case"M":case"L":e.push(this.points[0]);break;case"Q":(e=n.getQuadraticPoints(t,this.points[0],this.points[1])).push(this.points[1]);break;case"B":(e=n.getCubicPoints(t,this.points[0],this.points[1],this.points[2])).push(this.points[2])}return e}},n.Action=function(t,e){this.name=t,this.actionPerformed=e,this._statusListeners=[]},n.Action.prototype={constructor:n.Action,name:null,description:null,enabled:!1,_statusListeners:null,actionPerformed:function(t,e){return this},processEvent:function(t){return this.actionPerformed(this,t)},addStatusListener:function(t){this._statusListeners.push(t)},removeStatusListener:function(e){this._statusListeners=t.grep(this._statusListeners,function(t){return t!==e})},setEnabled:function(t){this.enabled=t;for(var e=0;e<this._statusListeners.length;e++)this._statusListeners[e].call(this);return this}},n.Timer=function(t,e,i){this.actionPerformed=t,this.interval=e,this.setEnabled(!0===i)},n.Timer.prototype={constructor:n.Timer,interval:0,ticks:0,timer:null,repeats:!0,actionPerformed:function(t){return this},processTimer:function(t){return this.ticks++,this.repeats||this.stop(),this.actionPerformed.call(this)},setEnabled:function(t,e){if(e||(this.ticks=0),!t||null===this.timer){if(t){var i=this;this.timer=window.setInterval(function(){i.processTimer(null)},this.interval)}else null!==this.timer&&(window.clearInterval(this.timer),this.timer=null);return this}},isRunning:function(){return null!==this.timer},start:function(t){return this.setEnabled(!0,t)},stop:function(t){return this.setEnabled(!1,t)}},n.Container=function(t,e,i,r){n.Rectangle.call(this,t,e,i,r)},n.Container.prototype={constructor:n.Container,invalidatedRect:null,invalidate:function(t){return t?null===this.invalidatedRect?this.invalidatedRect=t.clone():this.invalidatedRect.add(t):this.invalidatedRect=null,this},update:function(){return this.updateContent(this.invalidatedRect),this.invalidatedRect&&(this.invalidatedRect=null),this},updateContent:function(t){return this}},n.Container.prototype=t.extend(Object.create(n.Rectangle.prototype),n.Container.prototype),n}(t("jquery"),t("./Utils"),t("webfontloader"))},{"./Utils":134,jquery:51,webfontloader:126}],128:[function(t,e,i){e.exports=function(t,e,i,n,r,s,o,a,c,l,u){var h=e.settings,d=function(t){this.project=t,this.eventSounds=new n(this.project.settings.eventSounds),this.messages={},this.abc={}};return d.CLASSES={"@panels.Menu":d},d.getActivity=function(t,i){var n=null;if(t&&i){var r=(t.attr("class")||"").replace(/^edu\.xtec\.jclic\.activities\./,"@"),s=d.CLASSES[r];s?(n=new s(i)).setProperties(t):e.log("error","Unknown activity class: %s",r)}return n},d.prototype={constructor:d,project:null,name:h.DEFAULT_NAME,className:null,code:null,type:null,description:null,margin:h.DEFAULT_MARGIN,bgColor:h.DEFAULT_BG_COLOR,bgGradient:null,tiledBgImg:!1,bgImageFile:null,border:!0,absolutePositioned:!1,absolutePosition:null,includeInReports:!0,reportActions:!1,helpWindow:!1,showSolution:!1,helpMsg:"",eventSounds:null,useOrder:!1,dragCells:!1,skinFileName:null,maxTime:0,countDownTime:!1,maxActions:0,countDownActions:!1,infoUrl:null,infoCmd:null,messages:null,windowSize:new i.Dimension(h.DEFAULT_WIDTH,h.DEFAULT_HEIGHT),transparentBg:!1,activityBgColor:h.DEFAULT_BG_COLOR,activityBgGradient:null,bTimeCounter:!0,bScoreCounter:!0,bActionsCounter:!0,acp:null,abc:null,tgc:null,boxGridPos:"AB",shuffles:h.DEFAULT_SHUFFLES,scramble:{primary:!0,secondary:!0},invAss:!1,setProperties:function(n){var r=this;return t.each(n.get(0).attributes,function(){var t=this.name,i=this.value;switch(t){case"name":i=e.nSlash(i);case"code":case"type":case"description":r[t]=i;break;case"class":r.className=i.replace(/^edu\.xtec\.jclic\.activities\./,"@");break;case"inverse":r.invAss=e.getBoolean(i,!1);break;case"autoJump":case"forceOkToAdvance":case"amongParagraphs":r[t]=e.getBoolean(i,!1)}}),n.children().each(function(){var n=t(this);switch(this.nodeName){case"settings":t.each(n.get(0).attributes,function(){var t=this.name,i=this.value;switch(t){case"infoUrl":case"infoCmd":r[t]=i;break;case"margin":case"maxTime":case"maxActions":r[t]=Number(i);break;case"report":r.includeInReports=e.getBoolean(i,!1);break;case"countDownTime":case"countDownActions":case"reportActions":case"useOrder":case"dragCells":r[t]=e.getBoolean(i,!1)}}),n.children().each(function(){var n=t(this);switch(this.nodeName){case"skin":r.skinFileName=n.attr("file");break;case"helpWindow":r.helpMsg=e.getXmlText(this),r.showSolution=e.getBoolean(n.attr("showSolution"),!1),r.helpWindow=null!==r.helpMsg||r.showSolution;break;case"container":r.bgColor=e.checkColor(n.attr("bgColor"),e.settings.BoxBase.BACK_COLOR),n.children().each(function(){var n=t(this);switch(this.nodeName){case"image":r.bgImageFile=n.attr("name"),r.tiledBgImg=e.getBoolean(n.attr("tiled"),!1);break;case"counters":r.bTimeCounter=e.getBoolean(n.attr("time"),!0),r.bActionsCounter=e.getBoolean(n.attr("actions"),!0),r.bScoreCounter=e.getBoolean(n.attr("score"),!0);break;case"gradient":r.bgGradient=(new i.Gradient).setProperties(n)}});break;case"window":r.activityBgColor=e.checkColor(n.attr("bgColor"),h.DEFAULT_BG_COLOR),r.transparentBg=e.getBoolean(n.attr("transparent"),!1),r.border=e.getBoolean(n.attr("border"),!1),n.children().each(function(){var e=t(this);switch(this.nodeName){case"gradient":r.activityBgGradient=(new i.Gradient).setProperties(e);break;case"position":r.absolutePosition=(new i.Point).setProperties(e),r.absolutePositioned=!0;break;case"size":r.windowSize=(new i.Dimension).setProperties(e)}});break;case"eventSounds":r.eventSounds.setProperties(n)}});break;case"messages":n.children("cell").each(function(){var e=r.readMessage(t(this));r.messages[e.type]=e});break;case"automation":r.acp=a.getProvider(n,r.project);break;case"cells":var d=(new s).setProperties(n,r.project.mediaBag);r.abc[d.id]=d;break;case"scramble":r.shuffles=Number(n.attr("times")),r.scramble.primary=e.getBoolean(n.attr("primary")),r.scramble.secondary=e.getBoolean(n.attr("secondary"));break;case"layout":t.each(n.get(0).attributes,function(){var t=this.name,i=this.value;switch(t){case"position":r.boxGridPos=i;break;case"wildTransparent":case"upperCase":case"checkCase":r[t]=e.getBoolean(i)}});break;case"textGrid":r.tgc=(new c).setProperties(n);break;case"clues":r.clues=[],r.clueItems=[];var f=0;n.children("clue").each(function(){r.clueItems[f]=Number(t(this).attr("id")),r.clues[f]=this.textContent,f++});break;case"checkButton":r.checkButtonText=this.textContent||"check";break;case"prevScreen":r.prevScreen=!0,r.prevScreenMaxTime=n.attr("maxTime")||-1,n.children().each(function(){switch(this.nodeName){case"style":r.prevScreenStyle=(new o).setProperties(t(this));break;case"p":null===r.prevScreenText&&(r.prevScreenText=""),r.prevScreenText+="<p>"+this.textContent+"</p>"}});break;case"evaluator":r.ev=l.getEvaluator(n);break;case"document":r.document=(new u).setProperties(n,r.project.mediaBag)}}),this},readMessage:function(t){var i=(new r).setProperties(t,this.project.mediaBag);return i.type=t.attr("type"),e.isNullOrUndef(i.bb)&&(i.bb=new o(null)),i},initAutoContentProvider:function(){null!==this.acp&&this.acp.init()},prepareMedia:function(e){return this.eventSounds.realize(e,this.project.mediaBag),t.each(this.messages,function(t,i){null!==i&&i.prepareMedia(e)}),t.each(this.abc,function(t,i){null!==i&&i.prepareMedia(e)}),!0},helpSolutionAllowed:function(){return!1},helpWindowAllowed:function(){return this.helpWindow&&(this.helpSolutionAllowed()&&this.showSolution||null!==this.helpMsg)},getMinNumActions:function(){return 0},mustPauseSequence:function(){return 0!==this.getMinNumActions()},canReinit:function(){return!0},hasInfo:function(){return null!==this.infoUrl&&this.infoUrl.length>0||null!==this.infoCmd&&this.infoCmd.length>0},hasRandom:function(){return!1},shuffleAlways:function(){return!1},needsKeyboard:function(){return!1},end:function(){this.eventSounds.close(),this.clear()},clear:function(){},getWindowSize:function(){return new i.Dimension(this.windowSize)},setWindowSize:function(t){this.windowSize=new i.Dimension(t)},getActivityPanel:function(t){return new this.constructor.Panel(this,t)}},d.Panel=function(n,r,s){i.Container.call(this),this.act=n,this.ps=r,this.minimumSize=new i.Dimension(100,100),this.preferredSize=new i.Dimension(500,400),this.$div=s||t("<div/>",{class:"JClicActivity","aria-label":r.getMsg("Activity panel")}),this.accessibleCanvas=e.settings.CANVAS_HITREGIONS,this.act.initAutoContentProvider()},d.Panel.prototype={constructor:d.Panel,act:null,$div:null,$canvas:null,accessibleCanvas:!1,skin:null,$animatedBg:null,$animatedBgB:null,solved:!1,bgImage:null,playing:!1,firstRun:!0,currentItem:0,bc:null,ps:null,minimumSize:null,preferredSize:null,events:["click"],backgroundColor:null,backgroundTransparent:!1,border:null,setBounds:function(t){this.pos.x=t.pos.x,this.pos.y=t.pos.y,this.dim.width=t.dim.width,this.dim.height=t.dim.height,this.invalidate(t),this.$div.css({position:"relative",left:t.pos.x,top:t.pos.y,width:t.dim.width,height:t.dim.height})},buildVisualComponents:function(){if(this.playing=!1,this.skin=null,this.act.skinFileName&&this.act.skinFileName.length>0&&this.act.skinFileName!==this.act.project.settings.skinFileName&&(this.skin=this.act.project.mediaBag.getSkinElement(this.act.skinFileName,this.ps)),this.bgImage=null,this.act.bgImageFile&&this.act.bgImageFile.length>0){var t=this.act.project.mediaBag.getElement(this.act.bgImageFile,!0);t&&(this.bgImage=t.data)}this.backgroundColor=this.act.activityBgColor,this.act.transparentBg&&(this.backgroundTransparent=!0),this.act.border&&(this.border=!0);var e={display:"block","background-color":this.backgroundTransparent?"transparent":this.backgroundColor};this.border&&(e["box-shadow"]="0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12)",e["border-radius"]="2px",e.color="#272727"),this.act.activityBgGradient&&(e["background-image"]=this.act.activityBgGradient.getCss()),this.$div.css(e)},updateContent:function(t){return i.Container.prototype.updateContent.call(this,t)},playEvent:function(t){this.act.eventSounds.play(t)},initActivity:function(){this.playing&&(this.playing=!1,this.ps.reportEndActivity(this.act,this.solved)),this.solved=!1,this.ps.reportNewActivity(this.act,0),this.attachEvents(),this.enableCounters()},startActivity:function(){this.playing=!0},activityReady:function(){},showHelp:function(){},setDimension:function(t){return new i.Dimension(Math.min(t.width,this.act.windowSize.width),Math.min(t.height,this.act.windowSize.height))},attachEvents:function(){for(var e=0;e<this.events.length;e++)this.attachEvent(this.$div,this.events[e]);h.TOUCH_DEVICE||-1!==t.inArray("touchstart",this.events)||this.attachEvent(this.$div,"touchstart")},attachEvent:function(e,i){var n=this;e.on(i,this,function(i){return"touchstart"===i.type&&(h.TOUCH_DEVICE||(h.TOUCH_DEVICE=!0),-1===t.inArray("touchstart",n.events))?void e.off("touchstart"):i.data.processEvent.call(i.data,i)})},processEvent:function(t){return!1},fitTo:function(t,n){var r=new i.Point;this.act.absolutePositioned&&null!==this.act.absolutePosition&&(r.x=Math.max(0,this.act.absolutePosition.x+t.pos.x),r.y=Math.max(0,this.act.absolutePosition.y+t.pos.y),t.dim.width-=this.act.absolutePosition.x,t.dim.height-=this.act.absolutePosition.y);var s=this.setDimension(new i.Dimension(Math.max(2*this.act.margin+e.settings.MINIMUM_WIDTH,t.dim.width),Math.max(2*this.act.margin+e.settings.MINIMUM_HEIGHT,t.dim.height)));this.act.absolutePositioned||r.moveTo(Math.max(0,t.pos.x+(t.dim.width-s.width)/2),Math.max(0,t.pos.y+(t.dim.height-s.height)/2)),r.x+s.width>n.dim.width&&(r.x=Math.max(0,n.dim.width-s.width)),r.y+s.height>n.dim.height&&(r.y=Math.max(0,n.dim.height-s.height)),this.setBounds(new i.Rectangle(r.x,r.y,s.width,s.height));var o=this;window.setTimeout(function(){o.buildAccessibleComponents()},0)},buildAccessibleComponents:function(){this.accessibleCanvas&&this.$canvas&&this.$canvas.children().length>0&&(this.$canvas.get(-1).getContext("2d").clearHitRegions(),this.$canvas.empty())},forceFinishActivity:function(){},finishActivity:function(t){this.playing=!1,this.solved=t,null!==this.bc&&this.bc.end(),t?this.setAndPlayMsg("final","finishedOk"):this.setAndPlayMsg("finalError","finishedError"),this.ps.activityFinished(this.solved),this.ps.reportEndActivity(this.act,this.solved)},setAndPlayMsg:function(t,e){var i=this.act.messages[t];i||(i=null),this.ps.setMsg(i),null===i||null===i.mediaContent?this.playEvent(e):this.ps.playMsg()},end:function(){this.forceFinishActivity(),this.playing&&(null!==this.bc&&this.bc.end(),this.ps.reportEndActivity(this.act,this.solved),this.playing=!1,this.solved=!1),this.clear()},clear:function(){},enableCounters:function(t,e,i){void 0===t&&(t=this.act.bTimeCounter),void 0===e&&(e=this.act.bScoreCounter),void 0===i&&(i=this.act.bActionsCounter),this.ps.setCounterEnabled("time",t),this.act.countDownTime&&this.ps.setCountDown("time",this.act.maxTime),this.ps.setCounterEnabled("score",e),this.ps.setCounterEnabled("actions",i),this.act.countDownActions&&this.ps.setCountDown("actions",this.act.maxActions)},shuffle:function(t,e,i){for(var n=this.act.shuffles,r=n;r>0;){for(var s=r>n?n:r,o=0;o<t.length;o++){var a=t[o];null!==a&&a.scrambleCells(s,i)}r-=n}}},d.Panel.prototype=t.extend(Object.create(i.Container.prototype),d.Panel.prototype),d}(t("jquery"),t("./Utils"),t("./AWT"),t("./media/EventSounds"),t("./boxes/ActiveBoxContent"),t("./boxes/ActiveBagContent"),t("./boxes/BoxBase"),t("./automation/AutoContentProvider"),t("./boxes/TextGridContent"),t("./activities/text/Evaluator"),t("./activities/text/TextActivityDocument"))},{"./AWT":127,"./Utils":134,"./activities/text/Evaluator":145,"./activities/text/TextActivityDocument":150,"./automation/AutoContentProvider":154,"./boxes/ActiveBagContent":164,"./boxes/ActiveBoxContent":167,"./boxes/BoxBase":170,"./boxes/TextGridContent":173,"./media/EventSounds":178,jquery:51}],129:[function(t,e,i){e.exports=(t("./skins/DefaultSkin"),t("./skins/OrangeSkin"),t("./skins/GreenSkin"),t("./skins/BlueSkin"),t("./skins/SimpleSkin"),t("./skins/MiniSkin"),t("./skins/EmptySkin"),t("./shapers/Rectangular"),t("./shapers/Holes"),t("./shapers/JigSaw"),t("./shapers/TriangularJigSaw"),t("./shapers/ClassicJigSaw"),t("./automation/arith/Arith"),t("./activities/text/TextActivityBase"),t("./activities/text/FillInBlanks"),t("./activities/text/OrderText"),t("./activities/text/Complete"),t("./activities/text/IdentifyText"),t("./activities/text/WrittenAnswer"),t("./activities/panels/InformationScreen"),t("./activities/panels/Identify"),t("./activities/panels/Explore"),t("./activities/puzzles/DoublePuzzle"),t("./activities/puzzles/ExchangePuzzle"),t("./activities/puzzles/HolePuzzle"),t("./activities/memory/MemoryGame"),t("./activities/associations/SimpleAssociation"),t("./activities/associations/ComplexAssociation"),t("./activities/textGrid/WordSearch"),t("./activities/textGrid/CrossWord"),t("./report/TCPReporter"),"Deep classes loaded!")},{"./activities/associations/ComplexAssociation":135,"./activities/associations/SimpleAssociation":136,"./activities/memory/MemoryGame":137,"./activities/panels/Explore":138,"./activities/panels/Identify":139,"./activities/panels/InformationScreen":140,"./activities/puzzles/DoublePuzzle":141,"./activities/puzzles/ExchangePuzzle":142,"./activities/puzzles/HolePuzzle":143,"./activities/text/Complete":144,"./activities/text/FillInBlanks":146,"./activities/text/IdentifyText":147,"./activities/text/OrderText":148,"./activities/text/TextActivityBase":149,"./activities/text/WrittenAnswer":151,"./activities/textGrid/CrossWord":152,"./activities/textGrid/WordSearch":153,"./automation/arith/Arith":155,"./report/TCPReporter":190,"./shapers/ClassicJigSaw":191,"./shapers/Holes":192,"./shapers/JigSaw":193,"./shapers/Rectangular":194,"./shapers/TriangularJigSaw":196,"./skins/BlueSkin":197,"./skins/DefaultSkin":199,"./skins/EmptySkin":200,"./skins/GreenSkin":201,"./skins/MiniSkin":202,"./skins/OrangeSkin":203,"./skins/SimpleSkin":204}],130:[function(t,e,i){e.exports={version:"0.1.47 (2017-05-16)",languages:["en","ar","ast","bs","ca","ca_ES@valencia","cs","da","de","el","es","eu","fr","gl","he","it","ja","nl","pt","pt_BR","ru","tr","vec","zh_TW"],messages:{ar:{Version:"",time:"",actions:"",score:"","Next activity":" ","Previous activity":" ","Restart activity":" ",Information:"","Current results":" ","User:":":","Projects:":":",Project:":",sequence:"",activity:"",OK:"","Total:":":"},ast:{Version:"Versin",time:"tiempu",actions:"intentos",score:"marcador","Next activity":"Xera siguiente","Previous activity":"Xera anterior","Restart activity":"Reaniciar xera",Information:"Informacin","Results are not currently being saved":"L'informe nun ta rexistru en nenguna base de datos","Current results":"Informes d'usuariu","Session started:":"Entamu de sesin:","Reports system:":"Sistema d'informes:","User:":"Usuariu:","Projects:":"Proyeutos:","Sequences:":"Secuencies:","Activities done:":"Xeres feches:","Activities solved:":"Xeres correctes:","Global score:":"Puntuacin global:","Total time in activities:":"Tiempu total en xeres:","Actions done:":"Aiciones feches:","No activities done!":"Nenguna informacin sobre xeres!",Project:"Proyeutu:",sequence:"Secuencia",activity:"Xera",OK:"OK",YES:"SI",NO:"NON","Total:":"Total:"},bs:{Version:"Verzija",time:"vrijeme",actions:"pokuaji",score:"rezultat","Next activity":"Sljedea aktivnost","Previous activity":"Prethodna aktivnost","Restart activity":"Ponovno pokreni aktivnost",Information:"Informacije","Current results":"Izvjea korisnika","Session started:":"Sesija zapoeta:","User:":"Korisnik:","Projects:":"Projekti:","Activities done:":"Uraene aktivnosti:","Activities solved:":"Aktivnosti ok:","Global score:":"Ukupan rezultat:","Total time in activities:":"Ukupno vrijeme aktivnosti:","Actions done:":"Uraene aktivnosti:",Project:"Projekt:",sequence:"Sekvenca",activity:"Aktivnost",OK:"Uredu",YES:"DA",NO:"NE","Total:":"Ukupno:"},ca:{Version:"Versi",time:"temps",actions:"accions",score:"encerts","Next activity":"Activitat segent","Previous activity":"Activitat anterior","Restart activity":"Reinicia l'activitat",Information:"Informaci","Results are not currently being saved":"Els resultats no s'estan desant","Current results":"Resultats actuals","Session started:":"Inici de sessi:","Reports system:":"Sistema d'informes:","User:":"Usuari/ria:","Projects:":"Projectes:","Sequences:":"Seqncies:","Activities done:":"Activitats fetes:","Activities solved:":"Activitats resoltes:","Global score:":"Puntuaci global:","(out of all project activities)":"(sobre totes les activitats del projecte)","Total time in activities:":"Temps total en les activitats:","Actions done:":"Accions fetes:","No activities done!":"No heu fet cap activitat!",Project:"Projecte",sequence:"seqncia",activity:"activitat",OK:"OK",YES:"S",NO:"NO","Total:":"Totals:","Select group:":"Seleccioneu el grup:","Select user:":"Seleccioneu l'usuari:",Cancel:"Cancella",Close:"Tanca","Copy data to clipboard":"Copia les dades al porta-retalls","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"Les dades s'han copiat en format HTML. Enganxeu-les a un full de clcul o a un editor de text enriquit.","The data has been copied to clipboard":"Les dades s'han copiat al porta-retalls","not connected":"no connectat","Please wait until the results of your activities are sent to the reports system":"Si us plau, espereu a que els resultats de les vostres activitats s'envin al servidor d'informes","Password:":"Contrasenya:","Incorrect password":"Contrasenya incorrecta","Invalid user":"Usuari/ria incorrecte","Partial score:":"Puntuaci parcial:","(out of played activities)":"(sobre les activitats fetes)","Activities played at least once:":"Activitats fetes almenys una vegada:",Reports:"Informes","Toggle full screen":"Commuta pantalla completa","JClic logo":"Logotip del JClic",message:"missatge","Activity panel":"Tauler d'activitats",cell:"cella",image:"imatge",source:"origen",target:"dest","image fragment":"fragment d'imatge"},"ca_ES@valencia":{Version:"Versi",time:"temps",actions:"accions",score:"encerts","Next activity":"Activitat segent","Previous activity":"Activitat anterior","Restart activity":"Reinicia l'activitat",Information:"Informaci","Results are not currently being saved":"Els resultats no s'estan alant","Current results":"Resultats actuals","Session started:":"Inici de sessi:","Reports system:":"Sistema d'informes:","User:":"Usuari/ria:","Projects:":"Projectes:","Sequences:":"Seqncies:","Activities done:":"Activitats fetes:","Activities solved:":"Activitats resoltes:","Global score:":"Puntuaci global:","Total time in activities:":"Temps total en les activitats:","Actions done:":"Accions fetes:","No activities done!":"No heu fet cap activitat!",Project:"Projecte",sequence:"seqncia",activity:"activitat",OK:"OK",YES:"S",NO:"NO","Total:":"Totals:"},cs:{Version:"Verze",time:"as",actions:"pokus",score:"skre","Next activity":"Dal aktivita","Previous activity":"Pedchoz aktivita","Restart activity":"Restartovat aktivitu",Information:"Informace","Results are not currently being saved":"Zprva nen zaregistrovna v dn DB","Current results":"Uivatelsk sestava","Session started:":"Sezen sputno:","Reports system:":"Systm zprvy:","User:":"Uivatel:","Projects:":"Projekty:","Sequences:":"Sekvence:","Activities done:":"Dokonen aktivity:","Activities solved:":"Aktivity ok:","Global score:":"Celkov skre:","Total time in activities:":"Celkov as aktivit:","Actions done:":"Proveden akce:","No activities done!":"Nebyly nahleny dn aktivity!",Project:"Projekt",sequence:"Sekvence",activity:"Aktivita",OK:"Ok",YES:"ANO",NO:"NE","Total:":"Celkem:"},da:{Version:"Version",time:"tid",actions:"forsg",score:"score","Next activity":"Nste aktivitet","Previous activity":"Forrige aktivitet","Restart activity":"Genstart aktivitet",Information:"Information","Current results":"Bruger rapport","User:":"Bruger:","Projects:":"Projekter:","Sequences:":"Sekvenser:","Activities done:":"Aktiviteter udfrt:","Activities solved:":"Aktiviteter OK:","Global score:":"Global score:","No activities done!":"Ingen aktiviteter rapporteret!",Project:"Projekt",sequence:"Sequence",activity:"Aktivitet",OK:"Ok",YES:"JA",NO:"IKKE","Total:":"Total:"},de:{Version:"Version",time:"Zeit",actions:"Versuche",score:"Ergebnis","Next activity":"Nchste bung","Previous activity":"Vorherige bung","Restart activity":"bung neu starten",Information:"Information","Results are not currently being saved":"Bericht in keiner Datenbank eingetragen","Current results":"Benutzerberichte","Session started:":"Sitzung gestartet:","Reports system:":"Report system:","User:":"User:","Projects:":"Projekte:","Sequences:":"Sequenzen:","Activities done:":"Beendete bungen:","Activities solved:":"Korrekte bungen:","Global score:":"Gesamtpunktezahl:","Total time in activities:":"bungs-Gesamtzeit:","Actions done:":"Durchgefhrte Aktionen:","No activities done!":"Keine bungsberichte vorhanden!",Project:"Projekt",sequence:"Sequenz",activity:"bung",OK:"OK",YES:"JA",NO:"NEIN","Total:":"Gesamt:"},el:{Version:"",time:"",actions:"",score:"","Next activity":" ","Previous activity":" ","Restart activity":" ",Information:"","Results are not currently being saved":"      ","Current results":" ","Session started:":" :","Reports system:":" :","User:":":","Projects:":":","Sequences:":":","Activities done:":" :","Activities solved:":", :","Global score:":" :","Total time in activities:":"  :","Actions done:":"  :","No activities done!":"      !",Project:"",sequence:"",activity:"",OK:"",YES:"",NO:"","Total:":":"},es:{Version:"Versin",time:"tiempo",actions:"acciones",score:"aciertos","Next activity":"Actividad siguiente","Previous activity":"Actividad anterior","Restart activity":"Reiniciar actividad",Information:"Informacin","Results are not currently being saved":"Los resultados no se estn guardando","Current results":"Resultados actuales","Session started:":"Inicio de sesin:","Reports system:":"Sistema de informes:","User:":"Usuario/aria:","Projects:":"Proyectos:","Sequences:":"Secuencias:","Activities done:":"Actividades realizadas:","Activities solved:":"Actividades resueltas:","Global score:":"Puntuacin global:","(out of all project activities)":"(sobre todas las actividades del proyecto)","Total time in activities:":"Tiempo total en las actividades:","Actions done:":"Acciones realizadas:","No activities done!":"No se ha realizado ninguna actividad!",Project:"Proyecto",sequence:"secuencia",activity:"actividad",OK:"OK",YES:"SI",NO:"NO","Total:":"Totales:","Select group:":"Seleccionar grupo:","Select user:":"Seleccionar usuario:",Cancel:"Cancelar",Close:"Cerrar","Copy data to clipboard":"Copiar datos al portapapeles","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"Los datos se han copiado en formato HTML. Puedes pegarlos en una hoja de clculo o en un editor de texto rico.","The data has been copied to clipboard":"Los datos se han copiado al portapapeles","not connected":"no conectado","Please wait until the results of your activities are sent to the reports system":"Por favor, espera mientras los resultados de las actividades se envian al servidor de informes","Password:":"Contrasea:","Incorrect password":"Contrasea incorrecta","Invalid user":"Usuario incorrecto","Partial score:":"Puntuacin parcial:","(out of played activities)":"(sobre las actividades realizadas)","Activities played at least once:":"Actividades realizadas al menos una vez:",Reports:"Informes","Toggle full screen":"Conmutar pantalla completa","JClic logo":"Logotipo de JClic",message:"mensaje","Activity panel":"Panel de actividad",cell:"celda",image:"imagen",source:"origen",target:"destino","image fragment":"fragmento de imagen"},eu:{Version:"Bertsioa",time:"denbora",actions:"saiakerak",score:"puntuazioa","Next activity":"Hurrengo jarduera","Previous activity":"Aurreko jarduera","Restart activity":"Jarduera berriro hasi",Information:"Informazioa","Results are not currently being saved":"Txostena ez dago ezein datu-basetan","Current results":"Erabiltzailearen txostenak","Session started:":"Saio-hasiera:","Reports system:":"Txosten-sistema:","User:":"Erabiltzailea:","Projects:":"Proiektuak:","Sequences:":"Sekuentziak:","Activities done:":"Burututako ekinzak:","Activities solved:":"Jarduera zuzenak:","Global score:":"Jarduera zuzenak:","Total time in activities:":"Jardueretan emandako denbora guztira:","Actions done:":"Burututako ekintzak:","No activities done!":"Ez da jardueren txostenik!",Project:"Proiektua",sequence:"Sekuentzia",activity:"Jarduera",OK:"Ados",YES:"BAI",NO:"EZ","Total:":"Guztira:"},fr:{Version:"Version",time:"temps",actions:"essais",score:"rsultat","Next activity":"Activit suivante","Previous activity":"Activit prcdente","Restart activity":"Recommencer l'activit",Information:"Information","Results are not currently being saved":"Le rapport n'est enregistr dans aucune base de donnes","Current results":"Rapports utilisateur","Session started:":"Session dmarre:","Reports system:":"Report systme:","User:":"Utilisateur:","Projects:":"Projets:","Sequences:":"Squences:","Activities done:":"Activits faites:","Activities solved:":"Activits ok:","Global score:":"Score global:","(out of all project activities)":"(Hors de toutes les activits du projet)","Total time in activities:":"Temps total sur les activits:","Actions done:":"Actions faites:","No activities done!":"Pas d'activits rapportes!",Project:"Projet",sequence:"squence",activity:"activit",OK:"Ok",YES:"OUI",NO:"NON","Total:":"Total:","Select group:":"Slectionner un groupe:","Select user:":"Slectionner l'utilisateur:",Cancel:"Annuler",Close:"Fermer","Copy data to clipboard":"Copier les donnes dans le presse-papier","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"Les donnes ont t copies au format HTML. Veuillez les coller dans une feuille de calcul ou dans un diteur de texte","The data has been copied to clipboard":"Les donnes sont copier dans le presse-papier","not connected":"Non connect ","Please wait until the results of your activities are sent to the reports system":"Veuillez patienter durant l'envoi de votre activit au rapport systme","Password:":"Mot de passe: ","Incorrect password":"Mot de passe incorrect","Invalid user":"Utilisateur invalide","Partial score:":"Score partiel:","(out of played activities)":"(Hors activits joues)","Activities played at least once:":"Les activits jou au moins une fois:",Reports:"Rapport","Toggle full screen":"Basculer en plein cran","JClic logo":"JClic logo",message:"message","Activity panel":"Groupe d'activits",cell:"cellule",image:"image",source:"source",target:"cible","image fragment":"fragment d'image"},gl:{Version:"Versin",time:"tempo",actions:"intentos",score:"acertos","Next activity":"Seguinte actividade","Previous activity":"Anterior actividade","Restart activity":"Reiniciar a actividade",Information:"Informacin","Results are not currently being saved":"O informe non est rexistrado en ningunha base de datos","Current results":"Informes de usuario","Session started:":"Inicio de sesin:","Reports system:":"Sistema de informes:","User:":"Usuario:","Projects:":"Proxectos:","Sequences:":"Secuencias:","Activities done:":"Actividades realizadas:","Activities solved:":"Actividades correctas:","Global score:":"Puntuacin global:","Total time in activities:":"Tempo total nas actividades:","Actions done:":"Accins efectuadas:","No activities done!":"Non hai informada ningunha actividade!",Project:"Proxecto",sequence:"secuencia",activity:"actividade",OK:"Correcta",YES:"SI",NO:"NON","Total:":"Total:"},he:{Version:"",time:"",actions:"",score:"","Next activity":" ","Previous activity":" ","Restart activity":"  ",Information:"","Results are not currently being saved":"     ","Current results":" ","Session started:":" :","Reports system:":" :","User:":":","Projects:":":","Sequences:":":","Activities done:":" :","Activities solved:":" :","Global score:":" :","Total time in activities:":"  :","Actions done:":" :","No activities done!":"  !",Project:"",sequence:"",activity:"",OK:"",YES:"",NO:"","Total:":" :"},it:{Version:"Versione",time:"tempo",actions:"tentativi",score:"punteggio","Next activity":"Attivit successiva","Previous activity":"Attivit precedente","Restart activity":"Riavvia l'attivit",Information:"Informazioni","Results are not currently being saved":"Rapporto non registrato in alcun database","Current results":"Rapporti utente","Session started:":"Sessione avviata:","Reports system:":"Sistema dei rapporti:","User:":"Utente:","Projects:":"Progetti:","Sequences:":"Sequenze:","Activities done:":"Attivit eseguite:","Activities solved:":"Attivit ok:","Global score:":"Punteggio globale:","Total time in activities:":"Tempo totale nelle attivit:","Actions done:":"Azioni compiute:","No activities done!":"Nessuna attivit a rapporto!",Project:"Progetto",sequence:"sequenza",activity:"attivit",OK:"Ok",YES:"SI",NO:"NO","Total:":"Totale:"},ja:{Version:"",time:"",actions:"",score:"","Next activity":"","Previous activity":"","Restart activity":"",Information:"","Results are not currently being saved":"","Current results":"","Session started:":":","Reports system:":" :","User:":":","Projects:":":","Sequences:":":","Activities done:":":","Activities solved:":":","Global score:":" :","(out of all project activities)":"( )","Total time in activities:":":","Actions done:":":","No activities done!":"!",Project:"",sequence:"",activity:"",OK:"OK",YES:"",NO:"","Total:":":","Select group:":":","Select user:":":",Cancel:"",Close:"","Copy data to clipboard":"","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":" HTML   ","The data has been copied to clipboard":"","not connected":"","Please wait until the results of your activities are sent to the reports system":" ","Password:":":","Incorrect password":"","Invalid user":"","Partial score:":":","(out of played activities)":"()","Activities played at least once:":":",Reports:"","Toggle full screen":"","JClic logo":"JClic ",message:"","Activity panel":" ",cell:"",image:"",source:"",target:"","image fragment":""},nl:{Version:"Versie",time:"tijd",actions:"pogingen",score:"punten","Next activity":"Volgende activiteit","Previous activity":"Vorige activiteit","Restart activity":"Herstart activiteit",Information:"Informatie","Results are not currently being saved":"Rapport niet geregistreerd in een DB","Current results":"Gebruikers rapport","Session started:":"Reeks gestart:","Reports system:":"Rapporteer systeem:","User:":"Gebruiker:","Projects:":"Projecten:","Sequences:":"Reeksen:","Activities done:":"Activiteiten klaar:","Activities solved:":"Activiteiten ok:","Global score:":"Puntentotaal:","Total time in activities:":"Totale tijd activiteiten:","Actions done:":"Einde activiteiten:","No activities done!":"Geen activiteiten gerapporteerd!",Project:"Project",sequence:"Volgorde",activity:"Activiteit",OK:"Ok",YES:"JA",NO:"NEE","Total:":"Totaal:"},pt:{Version:"Verso",time:"tempo",actions:"tentativas",score:"acertos","Next activity":"Actividade seguinte","Previous activity":"Actividade anterior","Restart activity":"Reiniciar a actividade",Information:"Informao","Results are not currently being saved":"O relatrio no est registado em nenhuma base de dados","Current results":"Relatrios do utilizador","Session started:":"Incio da sesso:","Reports system:":"Sistema de relatrios:","User:":"Utilizador:","Projects:":"Projectos:","Sequences:":"Sequncias:","Activities done:":"Actividades realizadas:","Activities solved:":"Actividades correctas:","Global score:":"Pontuao global:","Total time in activities:":"Tempo total das actividades:","Actions done:":"Aces efectuadas:","No activities done!":"Nenhuma actividade registada!",Project:"Projecto",sequence:"sequncia",activity:"Actividade",OK:"Correcta",YES:"sim",NO:"no","Total:":"Total:"},pt_BR:{Version:"Verso",time:"tempo",actions:"tentativas",score:"acertos","Next activity":"atividade seguinte","Previous activity":"atividade anterior","Restart activity":"Reiniciar a atividade",Information:"Informao","Results are not currently being saved":"O relatrio no est registrando em nenhuma base de dados","Current results":"relatrios de usurio","Session started:":"Incio da sesso:","Reports system:":"Sistema de relatrios:","User:":"Usurio:","Projects:":"Projetos:","Sequences:":"Sequncias:","Activities done:":"Atividades realizadas:","Activities solved:":"Atividades corretas:","Global score:":"Pontuao geral:","Total time in activities:":"Tempo total das atividades:","Actions done:":"Aes efetuadas:","No activities done!":"Nenhuma atividade registrada!",Project:"Projeto",sequence:"sequncia",activity:"atividade",OK:"Correta",YES:"sim",NO:"no","Total:":"Total:"},ru:{Version:"",time:"",actions:"",score:"","Next activity":" ","Previous activity":" ","Restart activity":" ",Information:"","Results are not currently being saved":"    ","Current results":" ","Session started:":" :","Reports system:":" :","User:":":","Projects:":":","Sequences:":":","Activities done:":" :","Activities solved:":"  :","Global score:":" :","Total time in activities:":"  :","Actions done:":" :","No activities done!":"  !",Project:"",sequence:"",activity:"",OK:"",YES:"",NO:"","Total:":":"},tr:{Version:"Srm",time:"zaman",actions:"Denemeler",score:"sonu","Next activity":"Bir sonraki etkinlik","Previous activity":"Bir nceki etkinlik","Restart activity":"Etkinlii tekrar balat",Information:"Bilgi","Results are not currently being saved":"Rapor herhangi bir veritabannda kaydedilmedi","Current results":"Kullanc raporlar","Session started:":"Oturum balatld","Reports system:":"Sistem raporu:","User:":"Kullanc:","Projects:":"Projeler:","Sequences:":"Etkinlik dizisi","Activities done:":"Etkinlikler balatlyor:","Activities solved:":"Etkinlikler tamam:","Global score:":"Genel sonu:","Total time in activities:":"Etkinlikde geirilen toplam zaman:","Actions done:":"Eylem gerekletiriliyor:","No activities done!":"Etkinlik raporu yok!",Project:"Proje",sequence:"Etkinlik dizisi",activity:"Etkinlik",OK:"Tamam",YES:"Evet",NO:"hibir","Total:":"Toplam:"},vec:{Version:"Version",time:"tenpo",actions:"tentadivi",score:"pontexio","Next activity":"Prsima ativit","Previous activity":"Ativit presedente","Restart activity":"Inva ativit da novo",Information:"Informasion","Results are not currently being saved":"Report no registr inte nisun database","Current results":"Reports utenti","Session started:":"Sesion inviada:","Reports system:":"Sistma de report","User:":"Utente:","Projects:":"Proxti:","Sequences:":"Secuense:","Activities done:":"Ativit fate:","Activities solved:":"Ativit ok:","Global score:":"Pontexio global","Total time in activities:":"Tenpo total so e ativit","Actions done:":"Asion exegue","No activities done!":"No x st report ativit!",Project:"Proxto:",sequence:"secuensa",activity:"Ativit",OK:"Ok",YES:"SI",NO:"NO","Total:":"Total:"},zh_TW:{Version:"",time:"",actions:"",score:"","Next activity":"","Previous activity":"","Restart activity":"",Information:"","Results are not currently being saved":"DB","Current results":"","Session started:":"","Reports system:":":","User:":":","Projects:":"","Sequences:":"","Activities done:":":","Activities solved:":":","Global score:":":","Total time in activities:":":","Actions done:":"","No activities done!":"",Project:"",sequence:"",activity:"",OK:"",YES:"",NO:"","Total:":""}}}},{}],131:[function(t,e,i){"undefined"==typeof define&&(define=function(e,i){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r]));return i.apply(null,n)});var n={};e.exports=function(t,e,i,r,s){if(n={JClicPlayer:e,JClicProject:i,AWT:r,Utils:s,$:t,options:"undefined"==typeof JClicDataOptions?{}:JClicDataOptions,projectFiles:{},currentPlayers:[],loadProject:function(i,r,o){o=s.init(t.extend(Object.create(n.options),o||{}));for(var a=null,c=0;c<n.currentPlayers.length;c++){var l=n.currentPlayers[c];if(l&&l.$topDiv&&l.$topDiv.get(-1)===i){s.log("debug","Existing JClicPlayer found in div. I will try to reuse it."),a=l;for(var u in o)if(o.hasOwnProperty(u)&&(!a.options.hasOwnProperty(u)||a.options[u]!==o[u])){s.log("debug","Existing JClicPlayer has diferent options! Creating a new one from scratch."),a=null;break}break}}return a?a.reset():(s.log("debug","Creating a new instance of JClicPlayer"),a=new e(t(i).empty(),o)),r&&a.initReporter().then(function(){a.load(r)}).catch(function(e){s.log("error","Unable to start reporting: %s.\n JClicPlayer will be removed.",e.toString()),t(i).empty().removeAttr("style").append(t("<h2/>").html(a.getMsg("ERROR"))).append(t("<p/>").html(e));var r=n.currentPlayers.indexOf(a);r>=0&&n.currentPlayers.splice(r,1),a=null}),a&&!1!==o.savePlayersRef&&-1===n.currentPlayers.indexOf(a)&&n.currentPlayers.push(a),a}},"undefined"!=typeof window){window.JClicObject=n;var o=function(){for(var t=0;t<n.currentPlayers.length;t++){var e=n.currentPlayers[t];e&&e.skin&&e.skin.fit()}};t(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",o),t(window).resize(o)}return t(function(){var e="undefined"==typeof JClicDataOptions?{}:JClicDataOptions;if(n.options=e,!e.noInit){var i="string"==typeof JClicDataProject?JClicDataProject:"string"==typeof n.projectFile?n.projectFile:null;t(".JClic").each(function(){var r=t(this),s=r.data("project");s&&(i=s);var o=r.data("options");o&&(e=t.extend(Object.create(e),o)),n.loadProject(this,i,e)})}}),n}(t("jquery"),t("./JClicPlayer"),t("./project/JClicProject"),t("./AWT"),t("./Utils"),t("./Deps")),void 0!==e&&(e.exports=n)},{"./AWT":127,"./Deps":129,"./JClicPlayer":132,"./Utils":134,"./project/JClicProject":181,jquery:51}],132:[function(t,e,i){e.exports=function(t,e,i,n,r,s,o,a,c,l,u,h,d,f,p){var g=function(e,i){o.Container.call(this),i=s.init(i),this.options=t.extend(Object.create(this.options),i),this.id="JC"+(65536+Math.round(65535*Math.random())).toString(16).toUpperCase().substr(1),this.$topDiv=e||t("<div/>"),this.$topDiv.css({"text-align":"initial"}),this.$topDiv.parent().is("td")&&this.$topDiv.css({width:i.width||"100%",height:i.height||"100%"}),this.$mainContainer=t("<div/>",{class:"JClicContainer",id:this.id}).css({width:"100%",height:"100%"}).appendTo(this.$topDiv),r.init(this),this.localFS=location&&"file:"===location.protocol,this.$div=t("<div/>",{class:"JClicPlayer"}),this.project=new h,this.activeMediaBag=new c,this.counterVal={score:0,actions:0,time:0},this.bgImageOrigin=new o.Point,this.buildActions(),this.history=new a(this),this.audioEnabled=this.options.audioEnabled,this.navButtonsAlways=this.options.navButtonsAlways,this.defaultSkin=l.getSkin(this.options.skin,this),this.setSkin(l.getSkin("@empty.xml",this)),this.initTimers(),s.log("info","JClicPlayer ready")};return g.prototype={constructor:g,JClicVersion:"0",options:{maxWaitTime:12e4,infoUrlFrame:"_blank",exitUrl:null,audioEnabled:!0,navButtonsAlways:!1,fade:300},id:"JC0000",$div:null,$topDiv:null,$mainContainer:null,fullScreenChecked:!1,project:null,basePath:"",zip:null,localFS:!1,actPanel:null,history:null,skin:null,defaultSkin:null,activeMediaBag:null,reporter:null,actions:{},timer:null,delayedTimer:null,delayedAction:null,counterVal:{score:0,actions:0,time:0},bgImageOrigin:null,audioEnabled:!0,navButtonsDisabled:!1,navButtonsAlways:!1,getUniqueId:function(t){return this.id+"-"+t},buildActions:function(){var e=this;this.actions={next:new o.Action("next",function(){e.history.processJump(e.project.activitySequence.getJump(!1,e.reporter),!1)}),prev:new o.Action("prev",function(){e.history.processJump(e.project.activitySequence.getJump(!0,e.reporter),!1)}),return:new o.Action("return",function(){e.history.pop()}),reset:new o.Action("reset",function(){e.actPanel&&e.actPanel.act.canReinit()&&e.initActivity()}),help:new o.Action("help",function(){null!==e.actPanel&&e.actPanel.showHelp()}),info:new o.Action("info",function(){e.actPanel&&e.actPanel.act.hasInfo()&&(e.actPanel.act.infoUrl?e.displayURL(e.act.infoUrl,!0):e.actPanel.act.infoCmd&&e.runCmd(e.actPanel.act.infoCmd))}),reports:new o.Action("reports",function(){e.showReports()}),audio:new o.Action("audio",function(){e.audioEnabled=!e.audioEnabled,e.audioEnabled||e.stopMedia(),u.prototype.globalEnabled=e.audioEnabled})},t.each(this.actions,function(t,i){i.addStatusListener(function(){e.skin&&e.skin.actionStatusChanged(this)})})},reset:function(){s.log("info","Restoring player"),this.removeActivity(),this.end(),this.activeMediaBag=new c,this.history.clearHistory(),this.setSkin(null),this.setMsg(null),this.setCounterValue("score",0),this.setCounterValue("actions",0),this.setCounterValue("time",0),this.skin&&this.skin.setWaitCursor("reset")},stop:function(){this.stopMedia(-1)},end:function(){var t=null;return this.stopMedia(),this.closeHelpWindow(),this.reporter&&(t=this.reporter.end(),this.reporter=null),this.actPanel&&(this.actPanel.end(),this.actPanel.$div.remove(),this.actPanel=null),this.project&&(this.project.end(),this.project=null),this.activeMediaBag&&this.activeMediaBag.removeAll(),t||s.Promise.resolve(!0)},initReporter:function(){return this.reporter&&(this.reporter.end(),this.reporter=null),this.reporter=p.getReporter(null,this),this.reporter.init()},initTimers:function(){this.timer&&this.timer.stop();var t=this;this.timer=new o.Timer(function(){t.incCounterValue("time"),t.actPanel&&t.actPanel.act.maxTime>0&&t.actPanel.playing&&t.counterVal.time>=t.actPanel.act.maxTime&&t.actPanel.finishActivity(!1)},1e3,!1),this.delayedTimer&&this.delayedTimer.stop(),this.delayedTimer=new o.Timer(function(){t.delayedAction&&t.delayedAction.processEvent(t.delayedAction,null)},1e3,!1),this.delayedTimer.repeats=!1},showReports:function(){this.skin&&this.skin.showReports(this.reporter)},closeHelpWindow:function(){this.skin&&this.skin._closeDlg(!1)},setSkin:function(t){t||(t=this.project&&this.project.skin?this.project.skin:this.defaultSkin),null===t||null!==this.skin&&t.name===this.skin.name||(t.attach(this),this.skin=t,this.skin.doLayout())},setProject:function(t){this.project&&(this.project!==t&&this.project.end(),this.removeActivity()),this.project=t||new h,this.project.realize(this)},load:function(r,o,a){var c=this;c.forceFinishActivity(),c.setWaitCursor(!0);var l=null;if(r){if("string"==typeof r){var u=s.getPath(this.basePath,r);if(s.endsWith(u,"project.json"))return s.log("info","Loading JSON info from: %s",u),void t.getJSON(u).done(function(t){s.endsWith(t.mainFile,".jclic")?c.load(s.getPath(s.getBasePath(u),t.mainFile),o,a):s.log("error",'Invalid or null "mainFile" specified in %s - "project.json".',u)}).fail(function(t,e,i){var n=e+" ("+i+") while loading "+r;s.log(n),alert("Error!\n"+n)}).always(function(){c.setWaitCursor(!1)});if(s.endsWith(u,".zip"))return c.zip=null,s.log("info","Loading ZIP file: %s",u),void i.getBinaryContent(u,function(t,i){if(t)return c.setWaitCursor(!1),void s.log("error","Error loading ZIP file: %s",t.toString());(new e).loadAsync(i).then(function(t){c.zip=t,c.zip.fullZipPath=u,c.zip.zipBasePath=s.getBasePath(u);var e=null;if(c.zip.files["project.json"])c.zip.files["project.json"].async("string").then(function(t){try{var e=JSON.parse(t);s.endsWith(e.mainFile,".jclic")?c.load(s.getPath(c.zip.zipBasePath,e.mainFile),o,a):s.log("error",'Invalid or null "mainFile" specified in %s - "project.json".',u)}catch(t){s.log("error",'Error reading "project.json" in %s: %s',u,t?"unknown error":t.toString())}}).catch(function(t){s.log("error","Error reading ZIP file: %s",t?"unknown reason":t.toString())});else{for(var i in c.zip.files)if(s.endsWith(i,".jclic")){e=i;break}e?c.load(s.getPath(c.zip.zipBasePath,e),o,a):s.log("error","This ZIP file does not contain any JClic project!")}c.setWaitCursor(!1)}).catch(function(t){s.log("error","Error reading ZIP file: %s",t?"unknown reason":t.toString()),c.setWaitCursor(!1)})});if(c.localFS&&JClicObject&&!JClicObject.projectFiles[u])return n(u+".js",function(){c.load(r,o,a)}),void c.setWaitCursor(!1);var d=function(e){t.get(e,null,null,"xml").done(function(e){if(null===e||"object"!=typeof e)return void s.log("error","Bad data. Project not loaded: %s",r);var i=new h;i.setProperties(t(e).find("JClicProject"),u,c.zip,c.options),s.log("info","Project file loaded and parsed: %s",r);var n=i.mediaBag.buildAll(null,function(){s.log("trace",'"%s" ready.',this.name),c.incProgress(1)},this);s.log("info","Media elements to be loaded: %d",n),c.setProgress(0,n);var l=0;c.setWaitCursor(!0);var d=window.setInterval(function(){++l>c.options.maxWaitTime/500&&(window.clearInterval(d),c.setProgress(-1),c.setWaitCursor(!1),s.log("error","Error loading media")),-1===i.mediaBag.countWaitingElements()&&(window.clearInterval(d),c.setProgress(-1),c.setWaitCursor(!1),c.load(i,o,a))},500)}).fail(function(t,e,i){var n=e+" ("+i+") while loading "+r;s.log(n),alert("Error!\n"+n)}).always(function(){c.setWaitCursor(!1)})};s.log("info","Loading project: %s",r);var f=u;if(c.zip){var p=s.getRelativePath(f,c.zip.zipBasePath);if(c.zip.files[p])return void c.zip.file(p).async("string").then(function(t){d("data:text/xml;charset=UTF-8,"+t)}).catch(function(t){s.log("error",'Unable to extract "%s" from ZIP file because of: %s',p,t?"unknown reason":t.toString()),c.setWaitCursor(!1)})}else if(c.localFS){if(!JClicObject||!JClicObject.projectFiles[u])return s.log("error","Unable to load: %s.js",u),void c.setWaitCursor(!1);f="data:text/xml;charset=UTF-8,"+JClicObject.projectFiles[u]}return void d(f)}this.setProject(r),o||a||(o="0"),null!==this.reporter&&this.reporter.newSession(r)}if(!s.isNullOrUndef(o)){s.log("info","Loading sequence: %s",o),this.navButtonsDisabled=!1;var g=null;if("string"==typeof o&&(g=this.project.activitySequence.getElementByTag(o,!0)),null===g){var m=parseInt(o,10);"number"==typeof m&&(g=this.project.activitySequence.getElement(m,!0))}null!==g&&(this.reporter&&this.reporter.newSequence(g),a=g.activityName)}if(a){var v=this.project.getActivity(a);v?(s.log("info","Loading activity: %s",a),v.prepareMedia(this),this.project.activitySequence.checkCurrentActivity(v.name),(l=v.getActivityPanel(this)).buildVisualComponents()):s.log("error","Missing activity: %s",a)}if(null!==this.actPanel&&(this.actPanel.end(),this.actPanel.$div.remove(),this.actPanel=null,this.setCounterValue("time",0)),l){if(this.actPanel=l,this.options.fade>0&&this.actPanel.$div.css("display","none"),this.$div.prepend(this.actPanel.$div),this.skin&&this.skin.resetAllCounters(!1),this.actPanel.skin?this.setSkin(this.actPanel.skin):this.project.skin?this.setSkin(this.project.skin):this.setSkin(null),this.skin){var y=this.history.storedElementsCount()>0,b=this.navButtonsAlways?"both":this.navButtonsDisabled?"none":this.project.activitySequence.getNavButtonsFlag();this.actions.next.setEnabled(("fwd"===b||"both"===b)&&this.project.activitySequence.hasNextAct(y)),this.actions.prev.setEnabled(("back"===b||"both"===b)&&this.project.activitySequence.hasPrevAct(y)),this.actions.return.setEnabled(this.history.storedElementsCount()>0),this.actions.help.setEnabled(this.actPanel.act.helpWindowAllowed()),this.actions.reset.setEnabled(this.actPanel.act.canReinit()),this.actions.info.setEnabled(this.actPanel.act.hasInfo())}this.doLayout(),this.initActivity(),this.actPanel.$div.fadeIn(this.options.fade,function(){c.activityReady()})}c.setWaitCursor(!1)},forceFinishActivity:function(){this.timer.stop(),this.delayedTimer.stop(),this.actPanel&&(this.closeHelpWindow(),this.actPanel.forceFinishActivity(),this.stopMedia(),this.activeMediaBag.removeAll())},removeActivity:function(){this.forceFinishActivity(),this.actPanel&&(this.actPanel.end(),this.actPanel.$div.remove(),this.actPanel=null,this.setMsg(null),this.doLayout())},initActivity:function(){this.setWaitCursor(!0),this.timer.stop(),this.delayedTimer.stop(),this.setCounterValue("time",0),this.stopMedia(),this.actPanel&&(this.actPanel.initActivity(),this.timer.start(),this.actPanel.act.mustPauseSequence()||this.startAutoPassTimer(),s.log("info",'Activity "%s" running',this.actPanel.act.name)),this.setWaitCursor(!1)},activityReady:function(){this.actPanel&&(this.actPanel.activityReady(),s.log("info","Activity ready"))},startActivity:function(){this.setWaitCursor(!0),this.actPanel&&this.actPanel.startActivity(),this.setWaitCursor(!1)},doLayout:function(){var t=this.dim.width=this.$div.width(),e=this.dim.height=this.$div.height(),i={"background-color":this.actPanel?this.actPanel.act.bgColor:"azure","background-image":""};if(this.actPanel){var n=this.actPanel.act;if(n.bgGradient&&(i["background-image"]=n.bgGradient.getCss()),n.bgImageFile&&n.bgImageFile.length>0){var r=this;this.project.mediaBag.getElement(n.bgImageFile,!0).getFullPathPromise().then(function(t){r.$div.css({"background-image":"url('"+t+"')","background-repeat":n.tiledBgImg?"repeat":"no-repeat","background-position":n.tiledBgImg?"":"center center"})})}var a=s.settings.BoxBase.AC_MARGIN,c=new o.Rectangle(a,a,t-2*a,e-2*a);this.actPanel.bgImage&&!n.tiledBgImg&&n.absolutePositioned&&(this.bgImageOrigin.x=(t-this.actPanel.bgImage.width)/2,this.bgImageOrigin.y=(e-this.actPanel.bgImage.height)/2,c.pos.moveTo(this.bgImageOrigin),c.dim.width-=this.bgImageOrigin.x-a,c.dim.height-=this.bgImageOrigin.y-a,c.dim.width=Math.min(c.dim.width,t),c.dim.height=Math.min(c.dim.height,e)),this.actPanel.fitTo(c,this)}this.$div.css(i)},playMedia:function(t,e){var i=this,n=null,r=t.mediaFileName;switch(t.mediaType){case"PLAY_AUDIO":case"PLAY_VIDEO":case"PLAY_MIDI":case"RECORD_AUDIO":case"PLAY_RECORDED_AUDIO":if(i.audioEnabled){var o=i.activeMediaBag.getActiveMediaPlayer(t,i.project.mediaBag,i);o&&o.play(e)}break;case"RUN_CLIC_PACKAGE":n=new d("JUMP",r),t.externalParam&&(n.projectPath=t.externalParam),i.history.processJump(n,!0);break;case"RUN_CLIC_ACTIVITY":i.history.push(),i.load(null,null,r);break;case"RETURN":i.history.pop();break;case"EXIT":n=new d("EXIT",r),i.history.processJump(n,!1);break;case"RUN_EXTERNAL":i.runCmd(r);break;case"URL":r&&i.displayURL(r,t.level>1);break;default:s.log("error","Unknown media type: %s",t.mediaType)}},stopMedia:function(t){"number"!=typeof t&&(t=-1),this.activeMediaBag.stopAll(t)},runCmd:function(t){s.log("warn",'Unsupported call to external command: "%s"',t)},activityFinished:function(t){this.closeHelpWindow(),s.log("info","Activity finished"),this.timer.stop(),this.startAutoPassTimer()},startAutoPassTimer:function(){var t=this.project.activitySequence.getCurrentAct();null!==t&&t.delay>0&&!this.delayedTimer.isRunning()&&!this.navButtonsDisabled&&(this.delayedAction=this.actions.next,this.delayedTimer.interval=1e3*t.delay,this.delayedTimer.start())},getMsg:function(t){return t},setMsg:function(t){var e=this.skin?this.skin.getMsgBox():null;e&&(e.clear(),this.skin.invalidate(e).update(),e.setContent(t||f.EMPTY_CONTENT),this.skin.invalidate(e).update(),e.playMedia(this))},playMsg:function(){this.skin&&this.skin.getMsgBox()&&this.skin.getMsgBox().playMedia(this)},setCounterValue:function(t,e){this.counterVal[t]=e,this.skin&&this.skin.counters[t]&&this.skin.counters[t].setValue(e)},getCounterValue:function(t){return this.counterVal[t]},setCounterEnabled:function(t,e){this.skin&&(this.skin.enableCounter(t,e),this.setCountDown(t,0))},incCounterValue:function(t){this.counterVal[t]++;var e=this.actPanel,i=this.skin?this.skin.counters[t]:null;i&&i.setValue(this.counterVal[t]),"actions"===t&&null!==e&&e.act.maxActions>0&&e.playing&&this.counterVal.actions>=e.act.maxActions&&window.setTimeout(function(){e.finishActivity(e.solved)},0)},setCountDown:function(t,e){this.skin&&this.skin.counters[t]&&this.skin.counters[t].setCountDown(e)},setWaitCursor:function(t){this.skin&&this.skin.setWaitCursor(t)},setProgress:function(t,e){this.skin&&this.skin.setProgress(t,e)},incProgress:function(t){this.skin&&this.skin.incProgress(t)},getActiveMediaPlayer:function(t){return this.activeMediaBag&&t?this.activeMediaBag.getActiveMediaPlayer(t,this.project.mediaBag,this):null},reportNewActivity:function(t){var e=this.project.activitySequence.getCurrentAct();this.reporter&&(e.tag===this.reporter.getCurrentSequenceTag()&&this.reporter.newSequence(e),t.includeInReports&&this.reporter.newActivity(t)),this.setCounterValue("actions",0),this.setCounterValue("score",0)},reportNewAction:function(t,e,i,n,r,s){this.reporter&&t.includeInReports&&t.reportActions&&this.reporter.newAction(e,i,n,r),s>=0&&(this.incCounterValue("actions"),this.setCounterValue("score",s))},reportEndActivity:function(t,e){this.reporter&&t.includeInReports&&this.reporter.endActivity(this.counterVal.score,this.counterVal.actions,e)},showHelp:function(t){return!!this.skin&&this.skin.showHelp(t)},displayURL:function(t,e){t&&(e?window.open(t,this.options.infoUrlFrame):this.end().then(function(){window.location.href=t}))},exit:function(t){this.displayURL(t||this.options.exitUrl,!1)},setWindowTitle:function(t){s.log("info","running %s",t)}},g.prototype=t.extend(Object.create(o.Container.prototype),g.prototype),g}(t("jquery"),t("jszip"),t("jszip-utils"),t("scriptjs"),t("./i18n"),t("./Utils"),t("./AWT"),t("./PlayerHistory"),t("./media/ActiveMediaBag"),t("./skins/Skin"),t("./media/EventSounds"),t("./project/JClicProject"),t("./bags/JumpInfo"),t("./boxes/ActiveBoxContent"),t("./report/Reporter"))},{"./AWT":127,"./PlayerHistory":133,"./Utils":134,"./bags/JumpInfo":160,"./boxes/ActiveBoxContent":167,"./i18n":174,"./media/ActiveMediaBag":175,"./media/EventSounds":178,"./project/JClicProject":181,"./report/Reporter":186,"./skins/Skin":205,jquery:51,jszip:62,"jszip-utils":52,scriptjs:119}],133:[function(t,e,i){e.exports=function(t){var e=function(t){this.player=t,this.sequenceStack=[]};return e.prototype={constructor:e,player:null,sequenceStack:[],testMode:!1,storedElementsCount:function(){return this.sequenceStack.length},clearHistory:function(){this.sequenceStack=[0]},HistoryElement:function(t,e,i,n){this.projectPath=t,this.sequence=e,this.activity=i,this.fullZipPath=n},push:function(){if(null!==this.player.project&&null!==this.player.project.path){var t=this.player.project.activitySequence,e=t.currentAct;if(e>=0){if(this.sequenceStack.length>0){var i=this.sequenceStack[this.sequenceStack.length-1];if(i.projectPath===this.player.project.path&&i.activity===e)return}this.sequenceStack.push(new this.HistoryElement(this.player.project.path,t.getSequenceForElement(e),e,this.player.zip?this.player.zip.fullZipPath:null))}}},pop:function(){if(this.sequenceStack.length>0){var e=this.sequenceStack.pop();if(e.projectPath===this.player.project.path&&t.isEquivalent(e.fullZipPath,this.player.zip?this.player.zip.fullZipPath:null))this.player.load(null,e.activity,null);else if(this.testMode&&null!==e.projectPath&&e.projectPath.length>0)t.log("info",'At this point, a jump to "%s" should be performed.',e.projectPath);else{var i=e.fullZipPath||e.projectPath;this.player.load(i,e.activity,null)}}return!0},processJump:function(e,i){var n=!1;if(null!==e&&null!==this.player.project)switch(e.action){case"STOP":break;case"RETURN":n=this.pop();break;case"EXIT":this.testMode?t.log("info","At this point, the program should exit."):this.player.exit(e.sequence);break;case"JUMP":if(e.sequence||e.projectPath)this.testMode&&null!==e.projectPath&&e.projectPath.length>0?t.log("info",'At this point, a jump to "%s" should be performed.',e.projectPath):n=this.jumpToSequence(e.sequence,e.projectPath?t.getPath(this.player.project.basePath,e.projectPath):null,i);else{var r=this.player.project.activitySequence.getElement(e.actNum,!0);null!==r&&(i&&this.push(),this.player.load(null,null,r.activityName),n=!0)}}return n},jumpToSequence:function(e,i,n){if(t.isNullOrUndef(e)&&t.isNullOrUndef(i))return!1;if(t.isNullOrUndef(i)&&(i=this.player.project.path),this.sequenceStack.length>0){var r=this.sequenceStack[this.sequenceStack.length-1];if(!t.isNullOrUndef(e)&&i===r.projectPath){var s=e===r.sequence;if(i===this.player.project.path){var o=this.player.project.activitySequence.getElement(r.activity,!1);s=null!==o&&e===o.tag}if(s)return this.pop()}}return n&&this.push(),i===this.player.project.path?this.player.load(null,e,null):this.player.load(i,e,null),!0}},e}(t("./Utils"))},{"./Utils":134}],134:[function(t,e,i){e.exports=function(t,e,i,n,r,s,o,a,c){e||(e=window.screenfull);var l=i.Promise,u={pkg:{ClipboardJS:n,Promise:l,i18next:r,$:t,JSZip:s,JSZipUtils:o,ScriptJS:a,WebFont:c},Promise:l,getMsg:function(t){return t},LOG_LEVELS:["none","error","warn","info","debug","trace","all"],LOG_PRINT_LABELS:["     ","ERROR","WARN ","INFO ","DEBUG","TRACE","ALL  "],LOG_LEVEL:2,LOG_OPTIONS:{prefix:"JClic",timestamp:!0,popupOnErrors:!1,chainTo:null,pipeTo:null},init:function(t){return void 0!==(t=u.normalizeObject(t)).logLevel&&u.setLogLevel(t.logLevel),"function"==typeof t.chainLogTo&&(u.LOG_OPTIONS.chainTo=t.chainLogTo),"function"==typeof t.pipeLogTo&&(u.LOG_OPTIONS.pipeTo=t.pipeLogTo),t},setLogLevel:function(t){var e=u.LOG_LEVELS.indexOf(t);e>=0&&(u.LOG_LEVEL=e)},log:function(t,e){var i=u.LOG_LEVELS.indexOf(t);if(i<0||i<=u.LOG_LEVEL)if(u.LOG_OPTIONS.pipeTo)u.LOG_OPTIONS.pipeTo.apply(null,arguments);else{var n=e;if(u.LOG_OPTIONS.timestamp&&(n=u.getDateTime()+" "+n),n=u.LOG_PRINT_LABELS[i]+" "+n,u.LOG_OPTIONS.prefix&&(n=u.LOG_OPTIONS.prefix+" "+n),arguments.length>2){for(var r=[n],s=2;s<arguments.length;s++)r.push(arguments[s]);console[1===i?"error":2===i?"warn":"log"].apply(console,r)}else switch(i){case 1:console.error(n);break;case 2:console.warn(n);break;default:console.log(n)}u.LOG_OPTIONS.chainTo&&u.LOG_OPTIONS.chainTo.apply(null,arguments)}},getBoolean:function(t,e){return"true"===t||"false"!==t&&e},getVal:function(t,e){return""===t||null===t||void 0===t?e||null:t},getNumber:function(t,e){return Number(u.getVal(t,e))},getPercent:function(t){return Math.round(100*t)+"%"},getHMStime:function(t){var e=new Date(t),i=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds();return(i?i+"h ":"")+(i||n?("0"+n).slice(-2)+"'":"")+("0"+r).slice(-2)+'"'},getDateTime:function(t){return t||(t=new Date),t.getFullYear()+"/"+("0"+t.getMonth()).slice(-2)+"/"+("0"+t.getDate()).slice(-2)+" "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)},FALSE:0,TRUE:1,DEFAULT:2,getTriState:function(t){return Number("true"===t?u.TRUE:"false"===t?u.FALSE:u.DEFAULT)},fillString:function(t,e){for(var i="",n=0;n<e;n++)i+=t;return i},isNullOrUndef:function(t){return void 0===t||null===t},isEquivalent:function(t,e){return(void 0===t||null===t)&&(void 0===e||null===e)||t===e},getXmlText:function(e){var i="";return t(e).children("p").each(function(){i+="<p>"+this.textContent+"</p>"}),i},cssToString:function(e){var i="";return t.each(e,function(t,e){i+=t+": "+e+";"}),i},checkColor:function(t,e){void 0!==t&&null!==t||void 0!==(t=e)&&null!==t||(t=u.settings.BoxBase.BACK_COLOR);var i=t.replace("0x","#");if("#"===i.charAt(0)&&i.length>7){var n=parseInt(i.substring(1,3),16)/255;i="rgba("+parseInt(i.substring(3,5),16)+","+parseInt(i.substring(5,7),16)+","+parseInt(i.substring(7,9),16)+","+n+")"}return i},colorHasTransparency:function(t){var e=!1;if(u.startsWith(t,"rgba(")){var i=t.lastIndexOf(","),n=parseInt(t.substr(i));e="number"==typeof n&&n<1}return e},cloneObject:function(e){return t.extend(!0,{},e)},normalizeObject:function(e){var i={};return e&&t.each(e,function(t,e){var n;"string"==typeof e&&""!==(n=e.trim().toLowerCase())&&(e="true"===n||"false"!==n&&(isNaN(n)?e:Number(n))),i[t]=e}),i},isSeparator:function(t){return" .,;-|".indexOf(t)>=0},roundTo:function(t,e){return Math.round(t/e)*e},compareMultipleOptions:function(t,e,i){if(null===t||0===t.length||null===e||0===e.length)return!1;i||(t=t.toUpperCase()),t=t.trim();for(var n=e.split("|"),r=0;r<n.length;r++)if((i?n[r]:n[r].toUpperCase()).trim()===t)return!0;return!1},endsWith:function(t,e,i){var n=!1;return void 0!==t&&null!==t&&(i&&null!==t&&(t=t.trim()),n=-1!==t.indexOf(e,t.length-e.length)),n},startsWith:function(t,e,i){var n=!1;return void 0!==t&&null!==t&&(i&&null!==t&&(t=t.trim()),n=0===t.indexOf(e)),n},nSlash:function(t){return t?t.replace(/\\/g,"/"):t},isURL:function(t){return/^(filesystem:)?(https?|file|data|ftps?):/i.test(t)},getBasePath:function(t){var e="",i=t.lastIndexOf("/");return i>=0&&(e=t.substring(0,i+1)),e},getRelativePath:function(t,e){return e&&""!==e&&0===t.indexOf(e)?t.substr(e.length):t},getPath:function(t,e){return u.isURL(e)?e:t+e},getPathPromise:function(t,e,i){if(i){var n=u.getRelativePath(t+e,i.zipBasePath);if(i.files[n])return new l(function(t,r){i.file(n).async("base64").then(function(i){var n=e.toLowerCase().split(".").pop(),r=u.settings.MIME_TYPES[n];r||(r="application/octet-stream"),t("data:"+r+";base64,"+i)}).catch(r)})}return l.resolve(u.getPath(t,e))},$HTML:{doubleCell:function(e,i){return t("<tr/>").append(t("<td/>").html(e)).append(t("<td/>").html(i))},p:function(e){return t("<p/>").html(e)},td:function(e,i){return t("<td/>",i?{class:i}:null).html(e)},th:function(e,i){return t("<th/>",i?{class:i}:null).html(e)}},screenFullAllowed:function(){return e&&e.enabled},getSvg:function(t,e,i,n){return e&&(t=t.replace(/width=\"\d*\"/,'width="'+e+'"')),i&&(t=t.replace(/height=\"\d*\"/,'height="'+i+'"')),n&&(t=t.replace(/fill=\"[#A-Za-z0-9]*\"/,'fill="'+n+'"')),t},svgToURI:function(t,e,i,n){return"data:image/svg+xml;base64,"+btoa(u.getSvg(t,e,i,n))},toCssSize:function(t,e,i,n){var r=void 0===t||null===t?null:isNaN(t)?t:t+"px";return e&&i&&(r||n)&&(e[i]=null!==r?r:n),r},getRootHead:function(t){if(t){for(;t.parentElement;)t=t.parentElement;t instanceof HTMLElement&&(t=t.parentNode||t),t=t.head||t}return t=t||document.head},appendStyleAtHead:function(t,e){var i=u.getRootHead(e&&e.$topDiv?e.$topDiv[0]:null),n=document.createElement("style");return n.type="text/css",n.appendChild(document.createTextNode(t)),i.appendChild(n)},settings:{AB:0,BA:1,AUB:2,BUA:3,LAYOUT_NAMES:["AB","BA","AUB","BUA"],DEFAULT_WIDTH:400,DEFAULT_HEIGHT:300,MINIMUM_WIDTH:40,MINIMUM_HEIGHT:40,DEFAULT_NAME:"---",DEFAULT_MARGIN:8,DEFAULT_SHUFFLES:31,DEFAULT_GRID_ELEMENT_SIZE:20,MIN_CELL_SIZE:10,DEFAULT_BG_COLOR:"#C0C0C0",ACTIONS:{ACTION_MATCH:"MATCH",ACTION_PLACE:"PLACE",ACTION_WRITE:"WRITE",ACTION_SELECT:"SELECT",ACTION_HELP:"HELP"},PREVIOUS:0,MAIN:1,END:2,END_ERROR:3,NUM_MSG:4,MSG_TYPE:["previous","initial","final","finalError"],RANDOM_CHARS:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",NUM_COUNTERS:3,MAX_RECORD_LENGTH:20,BoxBase:{REDUCE_FONT_STEP:1,MIN_FONT_SIZE:8,STROKE:1,AC_MARGIN:6,BACK_COLOR:"#C0C0C0",TEXT_COLOR:"black",SHADOW_COLOR:"gray",INACTIVE_COLOR:"gray",ALTERNATIVE_COLOR:"gray",BORDER_COLOR:"black",BORDER_STROKE_WIDTH:.75,MARKER_STROKE_WIDTH:2.75},FILE_TYPES:{image:"gif,jpg,png,jpeg,bmp,ico,svg",audio:"wav,mp3,ogg,oga,au,aiff,flac",video:"avi,mov,mpeg,mp4,ogv,m4v,webm",font:"ttf,otf,eot,woff,woff2",midi:"mid,midi",anim:"swf",xml:"xml"},MIME_TYPES:{xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",svg:"image/svg+xml",ico:"image/x-icon",wav:"audio/wav",mp3:"audio/mpeg",mp4:"video/mp4",m4v:"video/mp4",ogg:"audio/ogg",oga:"audio/ogg",ogv:"video/ogg",webm:"video/webm",au:"audio/basic",aiff:"audio/x-aiff",flac:"audio/flac",avi:"video/avi",mov:"video/quicktime",mpeg:"video/mpeg",ttf:"application/font-sfnt",otf:"application/font-sfnt",eot:" application/vnd.ms-fontobject",woff:"application/font-woff",woff2:"application/font-woff2",swf:"application/x-shockwave-flash"},COMPRESS_IMAGES:!0,VK:{LEFT:37,UP:38,RIGHT:39,DOWN:40},TOUCH_DEVICE:!1,LOAD_TIMEOUT:1e4,BEZIER_POINTS:4,CANVAS_HITREGIONS:"undefined"!=typeof CanvasRenderingContext2D&&"function"==typeof CanvasRenderingContext2D.prototype.addHitRegion,CANVAS_HITREGIONS_FOCUS:"undefined"!=typeof CanvasRenderingContext2D&&"function"==typeof CanvasRenderingContext2D.prototype.drawFocusIfNeeded},getCaretCharacterOffsetWithin:function(t){var e,i=0,n=t.ownerDocument||t.document,r=n.defaultView||n.parentWindow;if(void 0!==r.getSelection){if((e=r.getSelection()).rangeCount>0){var s=r.getSelection().getRangeAt(0),o=s.cloneRange();o.selectNodeContents(t),o.setEnd(s.endContainer,s.endOffset),i=o.toString().length}}else if((e=n.selection)&&"Control"!==e.type){var a=e.createRange(),c=n.body.createTextRange();c.moveToElementText(t),c.setEndPoint("EndToEnd",a),i=c.text.length}return i},getTextNodesIn:function(t){var e=[];if(3===t.nodeType)e.push(t);else for(var i=t.childNodes,n=0,r=i.length;n<r;++n)e.push.apply(e,u.getTextNodesIn(i[n]));return e},setSelectionRange:function(t,e,i){if(u.isNullOrUndef(i)&&(i=e),document.createRange&&window.getSelection){var n=document.createRange();n.selectNodeContents(t);for(var r,s,o=u.getTextNodesIn(t),a=!1,c=0,l=0;l<o.length;l++){if(s=o[l],r=c+s.length,!a&&e>=c&&(e<r||e===r&&l+1<=o.length)&&(n.setStart(s,e-c),a=!0),a&&i<=r){n.setEnd(s,i-c);break}c=r}var h=window.getSelection();h.removeAllRanges(),h.addRange(n)}else if(document.selection&&document.body.createTextRange){var d=document.body.createTextRange();d.moveToElementText(t),d.collapse(!0),d.moveEnd("character",i),d.moveStart("character",e),d.select()}}};return u}(t("jquery"),t("screenfull"),t("es6-promise"),t("clipboard-js"),t("i18next"),t("jszip"),t("jszip-utils"),t("scriptjs"),t("webfontloader"))},{"clipboard-js":4,"es6-promise":27,i18next:45,jquery:51,jszip:62,"jszip-utils":52,screenfull:118,scriptjs:119,webfontloader:126}],135:[function(t,e,i){e.exports=function(t,e,i,n){var r=function(t){n.call(this,t),this.useIdAss=!0};r.prototype={constructor:r,nonAssignedCells:0,useIdAss:!1,setProperties:function(t){n.prototype.setProperties.call(this,t),this.abc.primary.avoidAllIdsNull(this.abc.secondary.getNumCells())},getMinNumActions:function(){return this.invAss?this.abc.secondary.getNumCells():this.abc.primary.getNumCells()-this.nonAssignedCells}},r.prototype=t.extend(Object.create(n.prototype),r.prototype),r.Panel=function(t,e,i){n.Panel.call(this,t,e,i)};var s=n.Panel.prototype;return r.Panel.prototype={constructor:r.Panel,invAssCheck:null,buildVisualComponents:function(){s.buildVisualComponents.call(this);var t,e,i=this.act.abc.primary,n=this.act.abc.secondary;if(i&&n){if(this.act.invAss)for(this.invAssCheck=[],e=n.getNumCells(),t=0;t<e;t++)this.invAssCheck[t]=!1;for(this.bgA.setDefaultIdAss(),this.act.nonAssignedCells=0,e=this.bgA.getNumCells(),t=0;t<e;t++){var r=this.bgA.getActiveBox(t);-1===r.idAss&&(this.act.nonAssignedCells++,r.switchToAlt(this.ps))}}},checkInvAss:function(){var t;if(!this.act.invAss||!this.invAssCheck)return!1;for(t=0;t<this.invAssCheck.length&&this.invAssCheck[t];t++);return t===this.invAssCheck.length},processEvent:function(t){if(this.bc&&this.playing){var e,n,r=null;if("touchend"===t.type)r=this.bc.active?this.bc.dest.clone():new i.Point;else{var s=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;r=new i.Point(s-this.$div.offset().left,o-this.$div.offset().top)}var a=!1,c=!1,l=!1;switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&r.distanceTo(this.bc.origin)<=3)break;a=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){this.ps.stopMedia(1);var u=this.bc.origin;if(this.bc.end(),e=this.bgA?this.bgA.findActiveBox(u):null,e?n=this.bgB?this.bgB.findActiveBox(r):null:(n=this.bgB?this.bgB.findActiveBox(u):null)&&(e=this.bgA?this.bgA.findActiveBox(r):null,l=!0),e&&n&&-1!==e.idAss&&!n.isInactive()&&this.act.abc.secondary){var h=!1,d=e.getDescription(),f=n.getDescription(),p=this.act.abc.secondary.getActiveBoxContent(e.idAss);if((e.idAss===n.idOrder||n.getContent().isEquivalent(p,!0))&&(h=!0,e.idAss=-1,this.act.abc.solvedPrimary?(e.switchToAlt(this.ps),c=c||e.playMedia(this.ps)):(c=l?c||e.playMedia(this.ps):c||n.playMedia(this.ps),e.clear()),this.act.invAss&&(this.invAssCheck[n.idOrder]=!0,n.clear()),this.act.useOrder&&this.bgA&&(this.currentItem=this.bgA.getNextItem(this.currentItem))),this.bgA){var g=this.bgA.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"MATCH",d,f,h,g-this.act.nonAssignedCells),h&&(this.checkInvAss()||g===this.bgA.getNumCells())?this.finishActivity(!0):c||this.playEvent(h?"actionOk":"actionError")}}else if(this.bgB&&(l&&this.bgA&&this.bgA.contains(r)||!l&&this.bgB.contains(r))){var m=e?e.getDescription():n?n.getDescription():"null";this.ps.reportNewAction(this.act,"MATCH",m,"null",!1,this.bgB.countCellsWithIdAss(-1)),this.playEvent("actionError")}this.update(),this.bgA&&this.bgA.$accessibleDiv&&this.bgA.$accessibleDiv.focus()}else{if(a)break;this.ps.stopMedia(1),e=this.bgA?this.bgA.findActiveBox(r):null,n=this.bgB?this.bgB.findActiveBox(r):null,(e&&-1!==e.idAss&&(!this.act.useOrder||e.idOrder===this.currentItem)||!this.act.useOrder&&n)&&(this.act.dragCells?this.bc.begin(r,e||n):this.bc.begin(r),(c=c||(e||n).playMedia(this.ps))||this.playEvent("click"));var v=e?this.bgA:this.bgB;v&&v.$accessibleDiv&&(v=e?this.bgB:this.bgA)&&v.$accessibleDiv&&v.$accessibleDiv.focus()}break;case"mousemove":case"touchmove":this.bc.moveTo(r)}t.preventDefault()}}},r.Panel.prototype=t.extend(Object.create(s),r.Panel.prototype),e.CLASSES["@associations.ComplexAssociation"]=r,r}(t("jquery"),t("../../Activity"),t("../../AWT"),t("./SimpleAssociation"))},{"../../AWT":127,"../../Activity":128,"./SimpleAssociation":136,jquery:51}],136:[function(t,e,i){e.exports=function(t,e,i,n,r,s){var o=function(t){e.call(this,t)};o.prototype={constructor:o,useIdAss:!1,getMinNumActions:function(){return this.abc.primary.getNumCells()},hasRandom:function(){return!0},shuffleAlways:function(){return!0},helpSolutionAllowed:function(){return!0}},o.prototype=t.extend(Object.create(e.prototype),o.prototype),o.Panel=function(t,i,n){e.Panel.call(this,t,i,n)};var a=e.Panel.prototype;return o.Panel.prototype={constructor:o.Panel,bgA:null,bgB:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"],clear:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)},buildVisualComponents:function(){this.firstRun&&a.buildVisualComponents.call(this),this.clear();var e=this.act.abc.primary,n=this.act.abc.secondary,r=this.act.abc.solvedPrimary;if(e&&n){if(e.imgName&&(e.setImgContent(this.act.project.mediaBag,null,!1),!e.animatedGifFile||e.shaper.rectangularShapes||this.act.scramble.primary||(this.$animatedBg=t("<span/>").css({"background-image":"url("+e.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),n.imgName&&(n.setImgContent(this.act.project.mediaBag,null,!1),!n.animatedGifFile||n.shaper.rectangularShapes||this.act.scramble.secondary||(this.$animatedBgB=t("<span/>").css({"background-image":"url("+n.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),r&&r.imgName&&r.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var s=[e,n];r&&s.push(r),this.act.acp.generateContent(e.nch,e.ncw,s,!1)}this.bgA=i.createEmptyGrid(null,this,this.act.margin,this.act.margin,e),this.bgB=i.createEmptyGrid(null,this,this.act.margin,this.act.margin,n),this.bgA.setContent(e,r||null),this.$animatedBg&&this.bgA.setCellAttr("tmpTrans",!0),this.bgB.setContent(n),this.$animatedBgB&&this.bgB.setCellAttr("tmpTrans",!0),this.bgA.accessibleText=this.ps.getMsg("source"),this.bgB.accessibleText=this.ps.getMsg("target"),this.bgA.setVisible(!0),this.bgB.setVisible(!0)}},initActivity:function(){if(a.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB){var t=[];this.act.scramble.primary&&t.push(this.bgA),this.act.scramble.secondary&&t.push(this.bgB),t.length>0&&this.shuffle(t,!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.invalidate().update(),this.setAndPlayMsg("initial","start"),this.playing=!0}},updateContent:function(t){if(a.updateContent.call(this,t),this.bgA&&this.bgB&&this.$canvas){var e=this.$canvas.get(-1),i=e.getContext("2d");t||(t=new s.Rectangle(0,0,e.width,e.height)),i.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bgA.update(i,t),this.bgB.update(i,t)}return this},setDimension:function(t){return this.bgA&&this.bgB&&!this.getBounds().equals(t)?n.layoutDouble(t,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):t},setBounds:function(e){if(this.$canvas&&this.$canvas.remove(),a.setBounds.call(this,e),this.bgA||this.bgB){if(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg&&this.bgA){var i=this.bgA.getBounds();this.$animatedBg.css({left:i.pos.x,top:i.pos.y,width:i.dim.width+"px",height:i.dim.height+"px","background-size":i.dim.width+"px "+i.dim.height+"px"})}if(this.$animatedBgB&&this.bgB){var n=this.bgB.getBounds();this.$animatedBgB.css({left:n.pos.x,top:n.pos.y,width:n.dim.width+"px",height:n.dim.height+"px","background-size":n.dim.width+"px "+n.dim.height+"px"})}this.$div.append(this.$canvas),this.bc=new r(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update()}},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&(a.buildAccessibleComponents.call(this),this.bgA&&this.bgA.buildAccessibleElements(this.$canvas,this.$div,"mousedown"),this.bgB&&this.bgB.buildAccessibleElements(this.$canvas,this.$div,"mousedown"))},processEvent:function(t){if(this.bc&&this.playing){var e,i,n=null;if("touchend"===t.type)n=this.bc.active?this.bc.dest.clone():new s.Point;else{var r=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;n=new s.Point(r-this.$div.offset().left,o-this.$div.offset().top)}var a=!1,c=!1,l=!1;switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&n.distanceTo(this.bc.origin)<=3)break;a=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){this.ps.stopMedia(1);var u=this.bc.origin;if(this.bc.end(),e=this.bgA?this.bgA.findActiveBox(u):null,e?i=this.bgB?this.bgB.findActiveBox(n):null:(i=this.bgB?this.bgB.findActiveBox(u):null)&&(e=this.bgA?this.bgA.findActiveBox(n):null,l=!0),e&&i&&-1!==e.idAss&&-1!==i.idAss&&this.act.abc.secondary){var h=!1,d=e.getDescription(),f=i.getDescription(),p=this.act.abc.secondary.getActiveBoxContent(e.idOrder);(e.idOrder===i.idOrder||i.getContent().isEquivalent(p,!0))&&(h=!0,e.idAss=-1,i.idAss=-1,this.act.abc.solvedPrimary?(e.switchToAlt(this.ps),c=c||e.playMedia(this.ps)):(c=l?c||e.playMedia(this.ps):c||i.playMedia(this.ps),e.clear()),i.clear(),this.act.useOrder&&this.bgA&&(this.currentItem=this.bgA.getNextItem(this.currentItem)));var g=this.bgB?this.bgB.countCellsWithIdAss(-1):0;this.ps.reportNewAction(this.act,"MATCH",d,f,h,g),h&&g===this.bgB.getNumCells()?this.finishActivity(!0):c||this.playEvent(h?"actionOk":"actionError")}this.update(),this.bgA&&this.bgA.$accessibleDiv&&this.bgA.$accessibleDiv.focus()}else{if(a)break;if(this.ps.stopMedia(1),e=this.bgA?this.bgA.findActiveBox(n):null,i=this.bgB?this.bgB.findActiveBox(n):null,e&&(!this.act.useOrder||e.idOrder===this.currentItem)||!this.act.useOrder&&i&&-1!==i.idAss){this.act.dragCells?this.bc.begin(n,e||i):this.bc.begin(n),(c=c||(e||i).playMedia(this.ps))||this.playEvent("click");var m=e?this.bgA:this.bgB;m&&m.$accessibleDiv&&(m=e?this.bgB:this.bgA)&&m.$accessibleDiv&&m.$accessibleDiv.focus()}}break;case"mousemove":case"touchmove":this.bc.moveTo(n)}t.preventDefault()}}},o.Panel.prototype=t.extend(Object.create(a),o.Panel.prototype),e.CLASSES["@associations.SimpleAssociation"]=o,o}(t("jquery"),t("../../Activity"),t("../../boxes/ActiveBoxGrid"),t("../../boxes/BoxBag"),t("../../boxes/BoxConnector"),t("../../AWT"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../boxes/BoxConnector":171,jquery:51}],137:[function(t,e,i){e.exports=function(t,e,i,n,r,s,o){var a=function(t){e.call(this,t)};a.prototype={constructor:a,getMinNumActions:function(){return this.abc.primary.getNumCells()},hasRandom:function(){return!0},shuffleAlways:function(){return!0}},a.prototype=t.extend(Object.create(e.prototype),a.prototype),a.Panel=function(t,i,n){e.Panel.call(this,t,i,n)};var c=e.Panel.prototype;return a.Panel.prototype={constructor:a.Panel,bg:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"],clear:function(){this.bg&&(this.bg.end(),this.bg=null)},buildVisualComponents:function(){this.firstRun&&c.buildVisualComponents.call(this),this.clear();var t=this.act.abc.primary,e=this.act.abc.secondary;if(t){if(t.imgName&&t.setImgContent(this.act.project.mediaBag,null,!1),e&&e.imgName&&e.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var n=[t];e&&n.push(e),this.act.acp.generateContent(t.nch,t.ncw,n,!1)}var r=t.ncw,s=t.nch;"AB"===this.act.boxGridPos||"BA"===this.act.boxGridPos?r*=2:s*=2,this.bg=new i(null,this,t.bb,this.act.margin,this.act.margin,t.w*r,t.h*s,new o(r,s));var a=t.getNumCells();this.bg.setBorder(t.border),this.bg.setContent(t,null,0,0,a),this.bg.setContent(e||t,null,0,a,a);for(var l=0;l<2;l++)for(var u=0;u<a;u++){var h=this.bg.getActiveBox(l*a+u);h.idAss=u,h.setInactive(!0)}this.bg.setVisible(!0)}},initActivity:function(){c.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg&&(this.shuffle([this.bg],!0,!0),this.invalidate().update(),this.setAndPlayMsg("initial","start"),this.playing=!0)},updateContent:function(t){if(c.updateContent.call(this,t),this.bg&&this.$canvas){var e=this.$canvas.get(-1),i=e.getContext("2d");t||(t=new s.Rectangle(0,0,e.width,e.height)),i.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(i,t)}return this},setDimension:function(t){return!this.bg||this.getBounds().equals(t)?t:n.layoutSingle(t,this.bg,this.act.margin)},setBounds:function(e){this.$canvas&&this.$canvas.remove(),c.setBounds.call(this,e),this.bg&&(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.bc=new r(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update())},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(c.buildAccessibleComponents.call(this),this.bg.setCellAttr("accessibleAlwaysActive",!0),this.bg.buildAccessibleElements(this.$canvas,this.$div,"mousedown"))},processEvent:function(t){if(this.bc&&this.playing){var e,i,n=null;if("touchend"===t.type)n=this.bc.active?this.bc.dest.clone():new s.Point;else{var r=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;n=new s.Point(r-this.$div.offset().left,o-this.$div.offset().top)}var a=!1;switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":case"touchend":if(this.bc.active&&n.distanceTo(this.bc.origin)<=3)break;a=!0;case"touchstart":case"mousedown":if(this.bc.active){if(this.ps.stopMedia(1),e=this.act.dragCells?this.bc.bx:this.bg?this.bg.findActiveBox(this.bc.origin):null,this.bc.end(),i=this.bg?this.bg.findActiveBox(n):null,e&&-1!==e.idAss&&i&&-1!==i.idAss)if(e!==i){var c=!1;e.idAss===i.idAss||e.getContent().isEquivalent(i.getContent(),!0)?(c=!0,e.idAss=-1,e.setInactive(!1),i.idAss=-1,i.setInactive(!1)):(e.setInactive(!0),this.act.dragCells?i.setInactive(!0):(i.setInactive(!1),this.update(),this.act.dragCells?this.bc.begin(n,e):this.bc.begin(n)));var l=i.playMedia(this.ps);if(this.bg){var u=this.bg.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"MATCH",e.getDescription(),i.getDescription(),c,u/2),c&&u===this.bg.getNumCells()?this.finishActivity(!0):l||this.playEvent(c?"actionOk":"actionError")}}else this.playEvent("CLICK"),e.setInactive(!0);else null!==e&&e.setInactive(!0);this.invalidate().update()}else{if(a)break;this.ps.stopMedia(1),(e=this.bg?this.bg.findActiveBox(n):null)&&-1!==e.idAss&&(e.playMedia(this.ps)||this.playEvent("click"),e.setInactive(!1),this.update(),this.act.dragCells?this.bc.begin(n,e):this.bc.begin(n))}break;case"mousemove":case"touchmove":this.bc.moveTo(n)}t.preventDefault()}}},a.Panel.prototype=t.extend(Object.create(c),a.Panel.prototype),e.CLASSES["@memory.MemoryGame"]=a,a}(t("jquery"),t("../../Activity"),t("../../boxes/ActiveBoxGrid"),t("../../boxes/BoxBag"),t("../../boxes/BoxConnector"),t("../../AWT"),t("../../shapers/Rectangular"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../boxes/BoxConnector":171,"../../shapers/Rectangular":194,jquery:51}],138:[function(t,e,i){e.exports=function(t,e,i,n,r,s){var o=function(t){e.call(this,t)};o.prototype={constructor:o,mustPauseSequence:function(){return!0},getMinNumActions:function(){return 0},hasRandom:function(){return!0}},o.prototype=t.extend(Object.create(e.prototype),o.prototype),o.Panel=function(t,i,n){e.Panel.call(this,t,i,n)};var a=e.Panel.prototype;return o.Panel.prototype={constructor:o.Panel,bgA:null,bgB:null,events:["click"],clear:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)},buildVisualComponents:function(){this.firstRun&&a.buildVisualComponents.call(this),this.clear();var e=this.act.abc.primary,n=this.act.abc.secondary;if(e&&n){e.imgName&&(e.setImgContent(this.act.project.mediaBag,null,!1),!e.animatedGifFile||e.shaper.rectangularShapes||this.act.scramble.primary||(this.$animatedBg=t("<span/>").css({"background-image":"url("+e.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),n.imgName&&n.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(e.nch,e.ncw,[e,n],!1),this.bgA=i.createEmptyGrid(null,this,this.act.margin,this.act.margin,e);var r=n.w;"AUB"!==this.act.boxGridPos&&"BUA"!==this.act.boxGridPos||(r=e.getTotalWidth()),this.bgB=new i(null,this,n.bb,this.act.margin,this.act.margin,r,n.h,new s(1,1)),this.bgA.setContent(e),this.bgA.setDefaultIdAss(),this.$animatedBg&&this.bgA.setCellAttr("tmpTrans",!0),this.bgB.getActiveBox(0).setInactive(!1),this.bgA.setVisible(!0),this.bgB.setVisible(!0)}},initActivity:function(){a.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB&&(this.act.scramble.primary&&this.shuffle([this.bgA],!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)},updateContent:function(t){if(a.updateContent.call(this,t),this.bgA&&this.bgB&&this.$canvas){var e=this.$canvas.get(-1),i=e.getContext("2d");t||(t=new r.Rectangle(0,0,e.width,e.height)),i.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bgA.update(i,t),this.bgB.update(i,t)}return this},setDimension:function(t){return this.bgA&&this.bgB&&!this.getBounds().equals(t)?n.layoutDouble(t,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):t},setBounds:function(e){if(this.$canvas&&this.$canvas.remove(),a.setBounds.call(this,e),this.bgA||this.bgB){if(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg){var i=this.bgA.getBounds();this.$animatedBg.css({left:i.pos.x,top:i.pos.y,width:i.dim.width+"px",height:i.dim.height+"px","background-size":i.dim.width+"px "+i.dim.height+"px"})}this.$div.append(this.$canvas),this.invalidate().update()}},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&(a.buildAccessibleComponents.call(this),this.bgA&&this.bgA.buildAccessibleElements(this.$canvas,this.$div),this.bgB&&this.bgB.buildAccessibleElements(this.$canvas,this.$div))},processEvent:function(t){if(this.playing){var e,i,n=new r.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top);switch(t.type){case"click":this.ps.stopMedia(1),(e=this.bgA.findActiveBox(n))&&(i=this.bgB.getActiveBox(0),-1===e.idAss||this.act.useOrder&&e.idOrder!==this.currentItem?(i.clear(),i.setInactive(!1)):(i.setContent(this.act.abc.secondary,e.idAss),i.playMedia(this.ps)||e.playMedia(this.ps)||this.playEvent("CLICK"),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem)),this.ps.reportNewAction(this.act,"SELECT",e.getDescription(),i.getDescription(),!0,0),i.$accessibleElement&&i.$accessibleElement.focus()),this.update())}t.preventDefault()}}},o.Panel.prototype=t.extend(Object.create(a),o.Panel.prototype),e.CLASSES["@panels.Explore"]=o,o}(t("jquery"),t("../../Activity"),t("../../boxes/ActiveBoxGrid"),t("../../boxes/BoxBag"),t("../../AWT"),t("../../shapers/Rectangular"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../shapers/Rectangular":194,jquery:51}],139:[function(t,e,i){e.exports=function(t,e,i,n,r){var s=function(t){e.call(this,t)};s.prototype={constructor:s,nonAssignedCells:0,cellsToMatch:1,getMinNumActions:function(){return this.cellsToMatch},hasRandom:function(){return!0}},s.prototype=t.extend(Object.create(e.prototype),s.prototype),s.Panel=function(t,i,n){e.Panel.call(this,t,i,n)};var o=e.Panel.prototype;return s.Panel.prototype={constructor:s.Panel,bg:null,events:["click"],clear:function(){this.bg&&(this.bg.end(),this.bg=null)},buildVisualComponents:function(){this.firstRun&&o.buildVisualComponents.call(this),this.clear();var e=this.act.abc.primary,n=this.act.abc.solvedPrimary;if(e){if(e.imgName&&(e.setImgContent(this.act.project.mediaBag,null,!1),!e.animatedGifFile||e.shaper.rectangularShapes||this.act.scramble.primary||(this.$animatedBg=t("<span/>").css({"background-image":"url("+e.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),n&&n.imgName&&n.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var r=[e];n&&(r.push(null),r.push(n)),this.act.acp.generateContent(e.nch,e.ncw,r,!1)}this.bg=i.createEmptyGrid(null,this,this.act.margin,this.act.margin,e),this.bg.setContent(e,n||null),this.bg.setAlternative(!1),this.$animatedBg&&this.bg.setCellAttr("tmpTrans",!0),this.bg.setDefaultIdAss(),this.act.nonAssignedCells=0,this.act.cellsToMatch=0;for(var s=this.bg.getNumCells(),a=0;a<s;a++){var c=this.bg.getActiveBox(a),l=c.idAss;1===l?this.act.cellsToMatch++:-1===l&&(this.act.nonAssignedCells++,c.switchToAlt(this.ps))}this.bg.setVisible(!0)}},initActivity:function(){o.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg&&(this.act.scramble.primary&&this.shuffle([this.bg],!0,!0),this.useOrder&&(this.currentItem=this.bg.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)},updateContent:function(t){if(o.updateContent.call(this,t),this.bg&&this.$canvas){var e=this.$canvas.get(-1),i=e.getContext("2d");t||(t=new r.Rectangle(0,0,e.width,e.height)),i.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(i,t)}return o.updateContent.call(this,t)},setDimension:function(t){return this.getBounds().equals(t)?t:n.layoutSingle(t,this.bg,this.act.margin)},setBounds:function(e){if(this.$canvas&&this.$canvas.remove(),o.setBounds.call(this,e),this.bg){if(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg){var i=this.bg.getBounds();this.$animatedBg.css({left:i.pos.x,top:i.pos.y,width:i.dim.width+"px",height:i.dim.height+"px","background-size":i.dim.width+"px "+i.dim.height+"px"})}this.$div.append(this.$canvas),this.invalidate().update();var n=this;setTimeout(function(){n.bg&&n.bg.buildAccessibleElements(n.$canvas,n.$div)},0)}},buildAccessibleComponents:function(){this.bg&&this.$canvas&&this.accessibleCanvas&&(o.buildAccessibleComponents.call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div))},processEvent:function(t){if(this.playing){var e,i=!1,n=new r.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top);switch(t.type){case"click":if(this.ps.stopMedia(1),e=this.bg?this.bg.findActiveBox(n):null)if(-1!==e.idAss){var s=!1,o=e.getDescription();i=i||e.playMedia(this.ps),1!==e.idAss||this.act.useOrder&&e.idOrder!==this.currentItem||(s=!0,e.idAss=-1,e.switchToAlt(this.ps)?i=i||e.playMedia(this.ps):e.clear(),this.act.useOrder&&(this.currentItem=this.bg.getNextItem(this.currentItem,1)));var a=this.bg.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"SELECT",o,null,s,a-this.act.nonAssignedCells),s&&a===this.act.cellsToMatch+this.act.nonAssignedCells?this.finishActivity(!0):i||this.playEvent(s?"actionOk":"actionError"),this.update()}else this.playEvent("actionError")}t.preventDefault()}}},s.Panel.prototype=t.extend(Object.create(o),s.Panel.prototype),e.CLASSES["@panels.Identify"]=s,s}(t("jquery"),t("../../Activity"),t("../../boxes/ActiveBoxGrid"),t("../../boxes/BoxBag"),t("../../AWT"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,jquery:51}],140:[function(t,e,i){e.exports=function(t,e,i,n,r){var s=function(t){e.call(this,t),this.includeInReports=!1,this.reportActions=!1};s.prototype={constructor:s},s.prototype=t.extend(Object.create(e.prototype),s.prototype),s.Panel=function(t,i,n){e.Panel.call(this,t,i,n)};var o=e.Panel.prototype;return s.Panel.prototype={constructor:s.Panel,bg:null,events:["click"],clear:function(){this.bg&&(this.bg.end(),this.bg=null)},buildVisualComponents:function(){this.firstRun&&o.buildVisualComponents.call(this),this.clear();var e=this.act.abc.primary;e&&(e.imgName&&(e.setImgContent(this.act.project.mediaBag,null,!1),e.animatedGifFile&&!e.shaper.rectangularShapes&&(this.$animatedBg=t("<span/>").css({"background-image":"url("+e.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),null!==this.act.acp&&this.act.acp.generateContent(e.nch,e.ncw,[e],!1),this.bg=i.createEmptyGrid(null,this,this.act.margin,this.act.margin,e),this.bg.setContent(e),this.$animatedBg&&this.bg.setCellAttr("tmpTrans",!0),this.bg.setVisible(!0))},initActivity:function(){o.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.invalidate().update(),this.setAndPlayMsg("initial","start"),this.playing=!0},updateContent:function(t){if(o.updateContent.call(this,t),this.bg&&this.$canvas){var e=this.$canvas.get(-1),i=e.getContext("2d");t||(t=new r.Rectangle(0,0,e.width,e.height)),i.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(i,t)}return this},setDimension:function(t){return this.getBounds().equals(t)?t:n.layoutSingle(t,this.bg,this.act.margin)},setBounds:function(e){if(this.$canvas&&this.$canvas.remove(),o.setBounds.call(this,e),this.bg){if(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg){var i=this.bg.getBounds();this.$animatedBg.css({left:i.pos.x,top:i.pos.y,width:i.dim.width+"px",height:i.dim.height+"px","background-size":i.dim.width+"px "+i.dim.height+"px"})}this.$div.append(this.$canvas),this.invalidate().update();var n=this;setTimeout(function(){n.bg.buildAccessibleElements(n.$canvas,n.$div)},0)}},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(o.buildAccessibleComponents.call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div))},processEvent:function(t){if(this.playing){var e=new r.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top);this.ps.stopMedia(1);var i=this.bg.findActiveBox(e);i&&(i.playMedia(this.ps)||this.playEvent("click")),t.preventDefault()}}},s.Panel.prototype=t.extend(Object.create(o),s.Panel.prototype),e.CLASSES["@panels.InformationScreen"]=s,s}(t("jquery"),t("../../Activity"),t("../../boxes/ActiveBoxGrid"),t("../../boxes/BoxBag"),t("../../AWT"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,jquery:51}],141:[function(t,e,i){e.exports=function(t,e,i,n,r,s){var o=function(t){e.call(this,t)};o.prototype={constructor:o,getMinNumActions:function(){return this.abc.primary.getNumCells()},hasRandom:function(){return!0},shuffleAlways:function(){return!0},helpSolutionAllowed:function(){return!0}},o.prototype=t.extend(Object.create(e.prototype),o.prototype),o.Panel=function(t,i,n){e.Panel.call(this,t,i,n)};var a=e.Panel.prototype;return o.Panel.prototype={constructor:o.Panel,bgA:null,bgB:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"],clear:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)},buildVisualComponents:function(){this.firstRun&&a.buildVisualComponents.call(this),this.clear();var t=this.act.abc.primary;if(t){t.imgName&&t.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(t.nch,t.ncw,[t],!1),this.bgA=i.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bgB=i.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bgA.setContent(t),this.bgA.accessibleText=this.ps.getMsg("source"),this.bgB.accessibleText=this.ps.getMsg("target"),this.bgA.setVisible(!0),this.bgB.setVisible(!0);var e=this.bgA.getBackgroundActiveBox(),n=this.bgB.getBackgroundActiveBox();e&&n&&n.exchangeContent(e)}},initActivity:function(){a.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB&&(this.shuffle([this.bgA],!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)},updateContent:function(t){if(a.updateContent.call(this,t),this.bgA&&this.bgB&&this.$canvas){var e=this.$canvas.get(-1),i=e.getContext("2d");t||(t=new s.Rectangle(0,0,e.width,e.height)),i.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bgA.update(i,t),this.bgB.update(i,t)}return this},setDimension:function(t){return this.bgA&&this.bgB&&!this.getBounds().equals(t)?n.layoutDouble(t,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):t},setBounds:function(e){this.$canvas&&this.$canvas.remove(),a.setBounds.call(this,e),(this.bgA||this.bgB)&&(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.bc=new r(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update())},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&(a.buildAccessibleComponents.call(this),this.bgA&&this.bgA.buildAccessibleElements(this.$canvas,this.$div,"mousedown"),this.bgB&&(this.bgB.setCellAttr("accessibleAlwaysActive",!0),this.bgB.buildAccessibleElements(this.$canvas,this.$div,"mousedown")))},processEvent:function(t){if(this.bc&&this.playing){var e,i,n=null;if("touchend"===t.type)n=this.bc.active?this.bc.dest.clone():new s.Point;else{var r=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;n=new s.Point(r-this.$div.offset().left,o-this.$div.offset().top)}var a=!1;switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&n.distanceTo(this.bc.origin)<=3)break;a=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){if(this.ps.stopMedia(1),e=this.act.dragCells?this.bc.bx:this.bgA.findActiveBox(this.bc.origin),i=this.bgB.findActiveBox(n),this.bc.end(),e&&i&&i.isInactive()){var c=!1,l=e.getDescription()+" ("+e.idOrder+")",u="("+i.idOrder+")",h=this.act.abc.primary.getActiveBoxContent(i.idOrder);e.getContent().isEquivalent(h,!0)&&(c=!0,e.exchangeContent(i),e.setVisible(!1),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem)));var d=this.bgA.countInactiveCells();this.ps.reportNewAction(this.act,"PLACE",l,u,c,d),c&&d===this.bgA.getNumCells()?this.finishActivity(!0):this.playEvent(c?"actionOk":"actionError")}this.update(),this.bgA.$accessibleDiv&&this.bgA.$accessibleDiv.focus()}else{if(a)break;this.ps.stopMedia(1),!(e=this.bgA.findActiveBox(n))||e.isInactive()||this.act.useOrder&&e.idOrder!==this.currentItem||(this.act.dragCells?this.bc.begin(n,e):this.bc.begin(n),e.playMedia(this.ps)||this.playEvent("click"),this.bgB.$accessibleDiv&&this.bgB.$accessibleDiv.focus())}break;case"mousemove":case"touchmove":this.bc.moveTo(n)}t.preventDefault()}}},o.Panel.prototype=t.extend(Object.create(a),o.Panel.prototype),e.CLASSES["@puzzles.DoublePuzzle"]=o,o}(t("jquery"),t("../../Activity"),t("../../boxes/ActiveBoxGrid"),t("../../boxes/BoxBag"),t("../../boxes/BoxConnector"),t("../../AWT"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../boxes/BoxConnector":171,jquery:51}],142:[function(t,e,i){e.exports=function(t,e,i,n,r,s){var o=function(t){e.call(this,t)};o.prototype={constructor:o,getMinNumActions:function(){return this.abc.primary.getNumCells()},hasRandom:function(){return!0},shuffleAlways:function(){return!0},helpSolutionAllowed:function(){return!0}},o.prototype=t.extend(Object.create(e.prototype),o.prototype),o.Panel=function(t,i,n){e.Panel.call(this,t,i,n)};var a=e.Panel.prototype;return o.Panel.prototype={constructor:o.Panel,bg:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"],clear:function(){this.bg&&(this.bg.end(),this.bg=null)},buildVisualComponents:function(){this.firstRun&&a.buildVisualComponents.call(this),this.clear();var t=this.act.abc.primary;t&&(t.imgName&&t.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(t.nch,t.ncw,[t],!1),this.bg=i.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bg.setContent(t),this.bg.setVisible(!0))},initActivity:function(){a.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg&&(this.shuffle([this.bg],!0,!0),this.useOrder&&(this.currentItem=this.bg.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)},updateContent:function(t){if(a.updateContent.call(this,t),this.bg&&this.$canvas){var e=this.$canvas.get(-1),i=e.getContext("2d");t||(t=new s.Rectangle(0,0,e.width,e.height)),i.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(i,t)}return this},setDimension:function(t){return!this.bg||this.getBounds().equals(t)?t:n.layoutSingle(t,this.bg,this.act.margin)},setBounds:function(e){this.$canvas&&this.$canvas.remove(),a.setBounds.call(this,e),this.bg&&(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.bc=new r(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update())},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(a.buildAccessibleComponents.call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div,"mousedown"))},processEvent:function(t){if(this.bc&&this.playing){var e,i,n=null;if("touchend"===t.type)n=this.bc.active?this.bc.dest.clone():new s.Point;else{var r=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;n=new s.Point(r-this.$div.offset().left,o-this.$div.offset().top)}var a=!1;switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&n.distanceTo(this.bc.origin)<=3)break;a=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){if(this.ps.stopMedia(1),e=this.act.dragCells?this.bc.bx:this.bg.findActiveBox(this.bc.origin),this.bc.end(),i=this.bg.findActiveBox(n),e&&i){var c=!1,l=e.getDescription()+" ("+e.idOrder+")",u="("+i.idLoc+")";c=e.idOrder===i.idLoc,e.exchangeLocation(i);var h=this.bg.countCellsAtEquivalentPlace(!0);this.ps.reportNewAction(this.act,"PLACE",l,u,c,h),c&&h===this.bg.getNumCells()?this.finishActivity(!0):this.playEvent(c?"actionOk":"actionError")}this.update()}else{if(a)break;this.ps.stopMedia(1),(e=this.bg.findActiveBox(n))&&(this.act.dragCells?this.bc.begin(n,e):this.bc.begin(n),e.playMedia(this.ps)||this.playEvent("click"))}break;case"mousemove":case"touchmove":this.bc.moveTo(n)}t.preventDefault()}}},o.Panel.prototype=t.extend(Object.create(a),o.Panel.prototype),e.CLASSES["@puzzles.ExchangePuzzle"]=o,o}(t("jquery"),t("../../Activity"),t("../../boxes/ActiveBoxGrid"),t("../../boxes/BoxBag"),t("../../boxes/BoxConnector"),t("../../AWT"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../boxes/BoxConnector":171,jquery:51}],143:[function(t,e,i){e.exports=function(t,e,i,n,r,s,o){var a=function(t){e.call(this,t)};a.prototype={constructor:a,getMinNumActions:function(){return this.abc.primary.getNumCells()},hasRandom:function(){return!0},shuffleAlways:function(){return!0},helpSolutionAllowed:function(){return!0}},a.prototype=t.extend(Object.create(e.prototype),a.prototype),a.Panel=function(t,i,n){e.Panel.call(this,t,i,n)};var c=e.Panel.prototype;return a.Panel.prototype={constructor:a.Panel,bg:null,parkBg:null,hiddenBox:null,hiddenBoxIndex:-1,events:["click"],clear:function(){this.bg&&(this.bg.end(),this.bg=null),this.parkBg&&(this.parkBg.end(),this.parkBg=null)},buildVisualComponents:function(){this.firstRun&&c.buildVisualComponents.call(this),this.clear();var t=this.act.abc.primary;t&&(t.imgName&&t.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(t.nch,t.ncw,[t],!1),this.bg=i.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bg.setContent(t),this.bg.setVisible(!0),this.hiddenBoxIndex=Math.floor(Math.random()*this.bg.getNumCells()),this.hiddenBox=this.bg.getActiveBox(this.hiddenBoxIndex),this.hiddenBox.setVisible(!1),this.parkBg=new i(null,this,t.bb,this.act.margin,this.act.margin,this.hiddenBox.dim.width,this.hiddenBox.dim.height,new o(1,1)),this.parkBg.setContent(t,null,this.hiddenBoxIndex,0,1),this.parkBg.setBorder(this.bg.hasBorder()),this.parkBg.setVisible(!0))},initActivity:function(){if(c.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg){this.act.shuffles%2!=1&&this.act.shuffles++;for(var t=0;t<this.act.shuffles;t++){var e=this.bg.getCoord(this.hiddenBox),i=0===Math.floor(2*Math.random())?1:-1;0===Math.floor(2*Math.random())?(e.x+=i,(e.x<0||e.x>=this.bg.nCols)&&(e.x-=2*i)):(e.y+=i,(e.y<0||e.y>=this.bg.nRows)&&(e.y-=2*i));var n=this.bg.getActiveBoxWithIdLoc(e.y*this.bg.nCols+e.x);null!==n&&this.hiddenBox.exchangeLocation(n)}this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0}},updateContent:function(t){if(c.updateContent.call(this,t),this.bg&&this.parkBg&&this.$canvas){var e=this.$canvas.get(-1),i=e.getContext("2d");t||(t=new s.Rectangle(0,0,e.width,e.height)),i.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(i,t),this.parkBg.update(i,t)}return this},setDimension:function(t){return this.bg&&this.parkBg&&!this.getBounds().equals(t)?n.layoutDouble(t,this.bg,this.parkBg,this.act.boxGridPos,this.act.margin):t},setBounds:function(e){this.$canvas&&this.$canvas.remove(),c.setBounds.call(this,e),this.bg&&this.parkBg&&(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.invalidate().update())},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(c.buildAccessibleComponents.call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div))},processEvent:function(t){if(this.playing){var e,i=new s.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top);switch(t.type){case"click":if(this.ps.stopMedia(1),e=this.bg.findActiveBox(i))if(e.isVisible()){var n=this.bg.getCoordDist(e,this.hiddenBox);if(Math.abs(n.x)+Math.abs(n.y)===1){var r=e.playMedia(this.ps),o=e.getDescription()+"("+e.idOrder+")",a="("+this.hiddenBox.idLoc+")";e.exchangeLocation(this.hiddenBox);var c=e.idOrder===e.idLoc,l=this.bg.countCellsAtEquivalentPlace(!0);this.ps.reportNewAction(this.act,"SELECT",o,a,c,l),c&&l===this.bg.getNumCells()?(this.hiddenBox.setVisible(!0),this.parkBg.setVisible(!1),this.finishActivity(!0)):r||this.playEvent("click")}this.update()}else this.playEvent("actionError")}t.preventDefault()}}},a.Panel.prototype=t.extend(Object.create(c),a.Panel.prototype),e.CLASSES["@puzzles.HolePuzzle"]=a,a}(t("jquery"),t("../../Activity"),t("../../boxes/ActiveBoxGrid"),t("../../boxes/BoxBag"),t("../../boxes/BoxConnector"),t("../../AWT"),t("../../shapers/Rectangular"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../boxes/BoxConnector":171,"../../shapers/Rectangular":194,jquery:51}],144:[function(t,e,i){e.exports=function(t,e,i){var n=function(t){i.call(this,t)};n.prototype={constructor:n},n.prototype=t.extend(Object.create(i.prototype),n.prototype),n.Panel=function(t,e,n){i.Panel.call(this,t,e,n)};var r=i.Panel.prototype;return n.Panel.prototype={constructor:n.Panel,$createTargetElement:function(t,e){return null},startActivity:function(){r.startActivity.call(this),this.$div.find(".JClicTextDocument").attr("contenteditable","true").attr("spellcheck","false")},evaluatePanel:function(){var t=this.$div.find(".JClicTextDocument").text().trim(),e=this.act.document.getRawText(),i=this.act.ev.checkText(t,e);return this.ps.reportNewAction(this.act,"WRITE",t,e,i,this.targets.length),i?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)},finishActivity:function(t){return this.$div.find(".JClicTextDocument").attr("contenteditable","false"),r.finishActivity.call(this,t)}},n.Panel.prototype=t.extend(Object.create(r),n.Panel.prototype),e.CLASSES["@text.Complete"]=n,n}(t("jquery"),t("../../Activity"),t("./TextActivityBase"))},{"../../Activity":128,"./TextActivityBase":149,jquery:51}],145:[function(t,e,i){e.exports=function(t,e){var i=function(t){this.className=t,window.Intl&&window.Intl.Collator?this.collator=new window.Intl.Collator:this.collator={compare:function(t,e){return this.checkCase?t===e:t.toUpperCase()===e.toUpperCase()}}};return i.getEvaluator=function(t){var n=null;if(t){var r=t.attr("class"),s=i.CLASSES[r];s?(n=new s(r)).setProperties(t):e.log("error",'Unknown evaluator class: "%s"',r)}return n},i.prototype={constructor:i,className:null,initiated:!1,collator:null,checkCase:!1,setProperties:function(i){var n=this;return t.each(i.get(0).attributes,function(){var t=this.name,i=this.value;switch(t){case"class":n.className=i;break;case"checkCase":case"checkAccents":case"checkPunctuation":case"checkDoubleSpaces":case"detail":n[t]=e.getBoolean(i);break;case"checkSteps":case"checkScope":n[t]=Number(i)}}),this},init:function(t){this.initiated=!0},checkText:function(t,e){if(e instanceof Array){for(var i=0;i<e.length;i++)if(this._checkText(t,e[i]))return!0}else if(e)return this._checkText(t,e);return!1},_checkText:function(t,e){return!1},evalText:function(t,e){return e instanceof Array||(e=[e]),this._evalText(t,e)},_evalText:function(t,e){return[]},isOk:function(t){for(var e=0;e<t.length;e++)if(0!==t[e])return!1;return!0}},i.BasicEvaluator=function(t){i.call(this,t)},i.BasicEvaluator.prototype={constructor:i.BasicEvaluator,checkAccents:!0,checkPunctuation:!0,checkDoubleSpaces:!1,PUNCTUATION:".,;:",init:function(t){i.prototype.init.call(this,[t]),window.Intl&&window.Intl.Collator&&(this.collator=new window.Intl.Collator(t,{sensitivity:this.checkAccents?this.checkCase?"case":"accent":"base",ignorePunctuation:!this.checkPunctuation}))},_checkText:function(t,e){return 0===this.collator.compare(this.getClearedText(t),this.getClearedText(e))},_evalText:function(t,e){for(var i=[],n=this._checkText(t,e[0]),r=0;r<t.length;r++)i[r]=n?0:1;return i},getClearedText:function(t,e){var i;if(!e)for(e=[],i=0;i<t.length;i++)e[i]=!1;if(this.checkPunctuation&&this.checkDoubleSpaces)return t;var n="",r=!1;for(i=0;i<t.length;i++){var s=t.charAt(i);this.PUNCTUATION.indexOf(s)>=0&&!this.checkPunctuation?(r?e[i]=!0:n+=" ",r=!0):" "===s?(this.checkDoubleSpaces||!r?n+=s:e[i]=!0,r=!0):(r=!1,n+=s)}return n}},i.BasicEvaluator.prototype=t.extend(Object.create(i.prototype),i.BasicEvaluator.prototype),i.ComplexEvaluator=function(t){i.BasicEvaluator.call(this,t)},i.ComplexEvaluator.prototype={constructor:i.ComplexEvaluator,detail:!0,checkSteps:3,checkScope:6,_evalText:function(t,e){var n,r;if(!this.detail)return i.BasicEvaluator.prototype._evalText.call(this,t,e);var s=[];for(n=0;n<t.length;n++)s[n]=!1;var o=this.getClearedText(t,s),a=-1,c=-1,l=[],u=[];for(n=0;n<e.length;n++){u[n]=[];for(var h=0;h<t.length;h++)u[n][h]=0;var d=this.compareSegment(o,o.length,e[n],e[n].length,u[n],!1);l[n]=this.countFlagsOk(u[n]),d&&(c=n,a=l[n])}if(-1===c)for(n=0;n<e.length;n++)l[n]>a&&(a=l[n],c=n);var f=[];for(n=0,r=0;n<t.length;n++)s[n]?f[n]=0:f[n]=u[c][r++];return f},countFlagsOk:function(t){for(var e=0,i=0;i<t.length;i++)0===t[i]&&e++;return e},compareSegment:function(t,e,i,n,r,s){var o=0,a=0,c=0,l=!0,u=!0,h="",d="";if(0===e||0===n||null===t||null===i)return!1;for(;o<e;o++,a++)if(h=t.charAt(o),c=o,d=a>=0&&a<n?i.charAt(a):0,0===this.collator.compare(h,d))r[o]=0,l=!0;else if(u=!1,r[o]=1,!s&&l&&0!==d&&this.checkSteps>0&&this.checkScope>0){var f,p,g,m,v,y,b=2*this.checkSteps+1,w=[],x=0;for(f=0;f<b;f++)if(w[f]=0,!((x=a+Math.floor((f+1)/2)*(0!=(1&f)?1:-1))>=n||(p=x<0?o-x:o)>=e)){m=(m=e-p)>this.checkScope?this.checkScope:m,v=(v=n-(g=x<0?0:x))>this.checkScope?this.checkScope:v;for(var A=[],C=0;C<t.length-p;C++)A[C]=0;var S=this.compareSegment(t.substring(p),m,i.substring(g),v,A,!0);if(w[f]=this.countFlagsOk(A),S)break}if(f===b){for(y=this.checkSteps,f=0;f<b;f++)w[f]>w[y]&&(y=f);x=a+Math.floor((y+1)/2)*(0!=(1&y)?1:-1)}else w[f];a=x,l=!1}return a!==n&&(u=!1,r[c]=1),u}},i.ComplexEvaluator.prototype=t.extend(Object.create(i.BasicEvaluator.prototype),i.ComplexEvaluator.prototype),i.CLASSES={"@BasicEvaluator":i.BasicEvaluator,"@ComplexEvaluator":i.ComplexEvaluator},i}(t("jquery"),t("../../Utils"))},{"../../Utils":134,jquery:51}],146:[function(t,e,i){e.exports=function(t,e,i,n){var r=function(t){n.call(this,t)};r.prototype={constructor:r,autoJump:!1,forceOkToAdvance:!1,needsKeyboard:function(){return!0}},r.prototype=t.extend(Object.create(n.prototype),r.prototype),r.Panel=function(t,e,i){n.Panel.call(this,t,e,i)};var s=n.Panel.prototype;return r.Panel.prototype={constructor:r.Panel,locked:!0,$createTargetElement:function(i,n){var r="target"+("000"+(this.targets.length-1)).slice(-3),s=this;if(n.addClass("JClicTextTarget"),i.isList&&i.options&&i.options.length>0){n=t("<select/>",{id:r,name:r}),""!==i.options[0].trim()&&t("<option selected/>",{value:"",text:""}).appendTo(n);for(var o=0;o<i.options.length;o++)t("<option/>",{value:i.options[o],text:i.options[o]}).appendTo(n);i.$comboList=n.bind("focus change",function(t){t.textTarget=i,s.processEvent(t)})}else i.currentText=i.iniText?i.iniText:e.fillString(i.iniChar,i.numIniChars),i.$span=n.text(i.currentText).attr({contenteditable:"true",id:r,autocomplete:"off",spellcheck:"false"}).bind("focus input blur",function(t){t.textTarget=i,s.processEvent(t)});return n},evaluatePanel:function(){for(var t=0,e=this.targets.length,i=0;i<e;i++){var n=this.targets[i],r=this.act.ev.evalText(n.readCurrentText(),n.answers),s=this.act.ev.isOk(r);n.targetStatus=s?"SOLVED":"WITH_ERROR",s&&t++,this.markTarget(n,r),this.ps.reportNewAction(this.act,"WRITE",n.currentText,n.getAnswers(),s,t)}return t===e?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)},checkTarget:function(t,i,n){var r=this.act.ev.evalText(t.currentText,t.answers),s=this.act.ev.isOk(r);if(t.targetStatus=s?"SOLVED":"WITH_ERROR",i)return s;this.markTarget(t,r);var o=this.countSolvedTargets(!1,!1);if(t.currentText.length>0&&this.ps.reportNewAction(this.act,"WRITE",t.currentText,t.getAnswers(),s,o),s&&o===this.targets.length)return this.finishActivity(!0),s;if(t.currentText.length>0&&this.playEvent(s?"actionOk":"actionError"),n&&0!==n){var a=t.num+n;a>=this.targets.length?a=0:a<0&&(a=this.targets.length-1),(t=this.targets[a]).$span?(t.$span.focus(),e.setSelectionRange(t.$span.get(-1),0,0)):t.$comboList&&t.$comboList.focus()}return s},countSolvedTargets:function(t,e){for(var i=0,n=0;n<this.targets.length;n++){var r=this.targets[n];t&&(r.readCurrentText(),this.checkTarget(r,!e)),"SOLVED"===r.targetStatus&&i++}return i},markTarget:function(e,i){var n=0;if(e.$comboList||this.act.ev.isOk(i))e.checkColors();else if(e.$span){for(var r=e.currentText,s=[],o=-1,a=-1;n<i.length&&n<r.length;n++)i[n]!==o&&(s[++a]="",o=i[n]),s[a]+=r.charAt(n);for(n<r.length&&(s[a]+=r.substr(n)),e.$span.empty(),o=i[0],n=0;n<s.length;n++)t("<span/>").text(s[n]).css(e.doc.style[0===o?"target":"targetError"].css).appendTo(e.$span),o^=1}e.flagModified=!1},activityReady:function(){s.activityReady.call(this),t(".JClicTextTarget").css("white-space","normal"),this.targets.length>0&&this.targets[0].$span&&this.targets[0].$span.focus()},finishActivity:function(t){for(var e=0;e<this.targets.length;e++){var i=this.targets[e];i.$span?i.$span.removeAttr("contenteditable").blur():i.$comboList&&i.$comboList.attr("disabled","true").blur()}return s.finishActivity.call(this,t)},processEvent:function(t){if(!s.processEvent.call(this,t))return!1;var i=t.textTarget,n=null,r=0;switch(t.type){case"focus":i&&(i.$span&&i.$span.children().length>0?(n=i.$span,r=Math.min(i.currentText.length,e.getCaretCharacterOffsetWithin(n.get(-1))),n.empty(),n.text(i.currentText),e.setSelectionRange(n.get(-1),r,r),i.flagModified=!0):i.$comboList&&i.$comboList.css(i.doc.style.target.css));break;case"blur":i.flagModified&&!this.$checkButton&&this.checkTarget(i,!1,1);break;case"input":if(i&&i.$span){var o=(n=i.$span).html();if(o.indexOf("<br>")>=0)return o=o.replace(/<br>/g,""),n.html(o),i.currentText=n.text(),!this.$checkButton&&this.checkTarget(i,!1,1);if((o=n.text())!==i.currentText){i.flagModified=!0;var a=o.length-i.currentText.length;if(a>0){if(o.indexOf(i.iniChar)>=0){r=e.getCaretCharacterOffsetWithin(n.get(-1));for(var c=0;c<a;c++){var l=o.indexOf(i.iniChar);if(l<0)break;o=o.substr(0,l)+o.substr(l+1),l<r&&r--}n.text(o),e.setSelectionRange(n.get(-1),r,r)}o.length>i.maxLenResp&&(r=e.getCaretCharacterOffsetWithin(n.get(-1)),o=o.substr(0,i.maxLenResp),r=Math.min(r,o.length),n.text(o),e.setSelectionRange(n.get(-1),r,r))}else""===o&&(o=i.iniChar,n.text(o),e.setSelectionRange(n.get(-1),0,0));i.currentText=o}}break;case"change":if(i&&i.$comboList)return i.currentText=i.$comboList.val(),i.flagModified=!0,!this.$checkButton&&this.checkTarget(i,!1,1)}return!0}},r.Panel.prototype=t.extend(Object.create(s),r.Panel.prototype),i.CLASSES["@text.FillInBlanks"]=r,r}(t("jquery"),t("../../Utils"),t("../../Activity"),t("./TextActivityBase"))},{"../../Activity":128,"../../Utils":134,"./TextActivityBase":149,jquery:51}],147:[function(t,e,i){e.exports=function(t,e,i){var n=function(t){i.call(this,t)};n.prototype={constructor:n},n.prototype=t.extend(Object.create(i.prototype),n.prototype),n.Panel=function(t,e,n){i.Panel.call(this,t,e,n)};var r=i.Panel.prototype;return n.Panel.prototype={constructor:n.Panel,targetsMarked:!1,$createTargetElement:function(t,e){r.$createTargetElement.call(this,t,e);var i="target"+("000"+(this.targets.length-1)).slice(-3),n=this;return e.bind("click",function(e){e.textTarget=t,e.idLabel=i,n.processEvent(e)}),e},initActivity:function(){r.initActivity.call(this),this.$div.find(".JClicTextDocument > p").css("cursor","pointer"),this.playing=!0},countSolvedTargets:function(){for(var t=0,e=0;e<this.targets.length;e++)"SOLVED"===this.targets[e].targetStatus&&t++;return t},evaluatePanel:function(){for(var t=0,e=this.targets.length,i=0;i<e;i++){var n=this.targets[i],r="SOLVED"===n.targetStatus;r&&t++,n.checkColors(),this.ps.reportNewAction(this.act,"SELECT",n.text,n.pos,r,t)}return t===e?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)},finishActivity:function(t){return this.$div.find(".JClicTextDocument > p").css("cursor","pointer"),r.finishActivity.call(this,t)},lastTimeStamp:0,processEvent:function(t){if(!r.processEvent.call(this,t)||t.timeStamp===this.lastTimeStamp)return!1;t.timeStamp&&(this.lastTimeStamp=t.timeStamp);var e=t.textTarget;switch(t.type){case"click":var i,n,s=!1;if(e?("SOLVED"===e.targetStatus?e.targetStatus="HIDDEN":(e.targetStatus="SOLVED",s=!0),i=e.text,n=e.pos,e.checkColors()):(i="unknown",n=0),!this.$checkButton){var o=this.countSolvedTargets();this.ps.reportNewAction(this.act,"SELECT",i,n,s,o),s&&o===this.targets.length?this.finishActivity(!0):this.playEvent(s?"actionOk":"actionError")}t.preventDefault()}return!0}},n.Panel.prototype=t.extend(Object.create(r),n.Panel.prototype),e.CLASSES["@text.Identify"]=n,n}(t("jquery"),t("../../Activity"),t("./TextActivityBase"))},{"../../Activity":128,"./TextActivityBase":149,jquery:51}],148:[function(t,e,i){e.exports=function(t,e,i,n,r){var s=function(t){i.call(this,t)};s.prototype={constructor:s,amongParagraphs:!1,bc:null,hasRandom:function(){return!0},shuffleAlways:function(){return!0},helpSolutionAllowed:function(){return!0}},s.prototype=t.extend(Object.create(i.prototype),s.prototype),s.Panel=function(t,e,n){i.Panel.call(this,t,e,n)};var o=i.Panel.prototype;return s.Panel.prototype={constructor:s.Panel,currentTarget:null,bc:null,events:["click","mousemove"],buildVisualComponents:function(){this.act.document.style.target.css.cursor="pointer",o.buildVisualComponents.call(this)},setBounds:function(e){this.$canvas&&this.$canvas.remove(),o.setBounds.call(this,e),this.act.dragCells||(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0,"pointer-events":"none"}),this.$div.append(this.$canvas),this.bc=new n(this,this.$canvas.get(-1).getContext("2d")),this.bc.compositeOp=this.bc.DEFAULT_COMPOSITE_OP,this.invalidate().update())},$createTargetElement:function(t,e){o.$createTargetElement.call(this,t,e);var i="target"+("000"+(this.targets.length-1)).slice(-3),n=this;return e.addClass("JClicTextTarget").bind("click",function(e){e.textTarget=t,e.idLabel=i,n.processEvent(e)}),e},swapTargets:function(e,i){var n=e.$span,r=i.$span,s=t("<span/>");s.insertAfter(r),r.detach(),r.insertAfter(n),n.detach(),n.insertAfter(s),s.remove();var o=e.pos,a=e.$p;e.pos=i.pos,e.$p=i.$p,i.pos=o,i.$p=a},initActivity:function(){o.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents()},startActivity:function(){if(o.startActivity.call(this),!this.showingPrevScreen){if("orderWords"!==this.act.type||this.act.amongParagraphs)this.shuffleTargets(this.targets,this.act.shuffles);else{for(var t=[],e=null,i=[],n=0;n<this.targets.length;n++){var r=this.targets[n];null!==e&&e.$p!==r.$p&&(t.push(i),i=[]),i.push(r),e=r}i.length>0&&t.push(i);for(var s=0;s<t.length;s++)this.shuffleTargets(t[s],this.act.shuffles)}this.playing=!0}this.setBounds(this)},shuffleTargets:function(t,e){var i=t.length;if(i>1)for(var n=100,r=0;r<e;r++){var s=Math.floor(Math.random()*i),o=Math.floor(Math.random()*i);s!==o?this.swapTargets(t[s],t[o]):--n&&r++}},setCurrentTarget:function(t){var e=this.act.document.getFullStyle("target").css;this.currentTarget&&this.currentTarget.$span&&this.currentTarget.$span.css(e),t&&t.$span&&t.$span.css({color:e["background-color"],"background-color":e.color}),this.currentTarget=t},countSolvedTargets:function(){for(var t=0,e=this.targets.length,i=0;i<e;i++){var n=this.targets[i];n.num===n.pos&&t++}return t},evaluatePanel:function(){this.bc&&this.bc.active&&this.bc.end(),this.setCurrentTarget(null);for(var t=0,e=this.targets.length,i=0;i<e;i++){var n=this.targets[i],r=n.num===n.pos;n.targetStatus=r?"SOLVED":"WITH_ERROR",r&&t++,n.checkColors(),this.ps.reportNewAction(this.act,"PLACE",n.text,n.pos,r,t)}return t===e?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)},finishActivity:function(e){return t(".JClicTextTarget").css("cursor","pointer"),o.finishActivity.call(this,e)},processEvent:function(t){if(!o.processEvent.call(this,t))return!1;var e=t.textTarget,i=null;if(this.bc&&this.playing&&!this.showingPrevScreen){if("touchend"===t.type)i=this.bc.active?this.bc.dest.clone():new r.Point;else{var n=t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,s=t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;i=new r.Point(n-this.$div.offset().left,s-this.$div.offset().top)}switch(t.type){case"click":if(e&&e!==this.currentTarget)if(this.currentTarget){if(this.bc&&this.bc.active&&this.bc.end(),this.swapTargets(e,this.currentTarget),this.setCurrentTarget(null),!this.$checkButton){var a=this.countSolvedTargets(),c=e.pos===e.num;this.ps.reportNewAction(this.act,"PLACE",e.text,e.pos,c,a),c&&a===this.targets.length?this.finishActivity(!0):this.playEvent(c?"actionOk":"actionError")}}else this.setCurrentTarget(e),this.bc.begin(i),this.playEvent("click");break;case"mousemove":this.bc.moveTo(i)}return t.preventDefault(),!0}}},s.Panel.prototype=t.extend(Object.create(o),s.Panel.prototype),e.CLASSES["@text.Order"]=s,s}(t("jquery"),t("../../Activity"),t("./TextActivityBase"),t("../../boxes/BoxConnector"),t("../../AWT"))},{"../../AWT":127,"../../Activity":128,"../../boxes/BoxConnector":171,"./TextActivityBase":149,jquery:51}],149:[function(t,e,i){e.exports=function(t,e,i,n,r){var s=function(t){e.call(this,t)};s.prototype={constructor:s,ev:null,checkButtonText:null,prevScreen:!1,prevScreenText:null,prevScreenStyle:null,prevScreenMaxTime:-1,getMinNumActions:function(){return this.document?this.document.numTargets:0}},s.prototype=t.extend(Object.create(e.prototype),s.prototype),s.Panel=function(t,i,n){e.Panel.call(this,t,i,n),this.boxes=[],this.popups=[],this.targets=[]};var o=e.Panel.prototype;return s.Panel.prototype={constructor:s.Panel,boxes:null,popups:null,targets:null,targetsMarked:!0,$checkButton:null,prevScreenTimer:null,buildVisualComponents:function(){o.buildVisualComponents.call(this)},setDocContent:function(e,i){var r=this;e.empty().css(i.style.default.css).css({display:"flex","flex-direction":"column"});var s=t("<div/>").css({"flex-grow":1,overflow:"auto"}),o=t("<div/>",{class:"JClicTextDocument"}).css({padding:4}).css(i.style.default.css),a=null;return t.each(i.p,function(){var e=t("<p/>").css({margin:0}),s=!0;if(this.style?(a=i.style[this.style].css,e.css(a)):a=null,this.Alignment){var c=Number(this.Alignment);e.css({"text-align":1===c?"center":2===c?"right":"left"})}t.each(this.elements,function(){var o=t("<span/>");switch(this.objectType){case"text":this.attr?(o.html(this.text),this.attr.style&&o.css(i.style[this.attr.style].css),this.attr.css&&o.css(this.attr.css),e.append(o)):e.append(this.text);break;case"cell":var c=n.createCell(o.css({position:"relative"}),this);r.boxes.push(c),o.css({display:"inline-block","vertical-align":"middle"}),this.mediaContent&&o.on("click",function(t){return t.preventDefault(),r.ps.stopMedia(1),c.playMedia(r.ps),!1}),e.append(o);break;case"target":if(r.showingPrevScreen){o.text(this.text),e.append(o);break}var l=this;o=r.$createTargetElement(l,o),l.num=r.targets.length,l.pos=l.num,r.targets.push(l),o&&(o.css(i.style.default.css),a&&o.css(a),r.targetsMarked?l.attr?(l.attr.style||(l.attr.style="target"),o.css(i.style[l.attr.style].css),l.attr.css&&o.css(l.attr.css)):i.style.target&&o.css(i.style.target.css):l.targetStatus="HIDDEN",e.append(o)),l.$p=e}s=!1}),s&&e.html("&nbsp;"),o.append(e)}),e.append(s.append(o)),this.act.checkButtonText&&!this.showingPrevScreen&&(this.$checkButton=t("<button/>",{class:"StockBtn"}).html(this.act.checkButtonText).css({width:"100%","flex-shrink":0}).on("click",function(){r.evaluatePanel()}),e.append(this.$checkButton)),this.act.ev&&this.act.ev.init(this.act.project.settings.locales),e},$createTargetElement:function(t,e){return e.text(t.text),t.$span=e,e},initActivity:function(){this.act.prevScreen?this.preInitActivity():this.startActivity()},startActivity:function(){o.initActivity.call(this),this.setAndPlayMsg("initial","start"),this.setDocContent(this.$div,this.act.document),this.playing=!0},preInitActivity:function(){if(this.act.prevScreen){var e=this,i=function(){return e.showingPrevScreen=!1,e.$div.unbind("click"),e.prevScreenTimer&&(clearTimeout(e.prevScreenTimer),e.prevScreenTimer=null),e.startActivity(),!0};if(this.showingPrevScreen=!0,this.$div.empty(),this.act.prevScreenText){this.act.prevScreenStyle||(this.act.prevScreenStyle=new r),this.$div.css(this.act.prevScreenStyle.getCSS()).css("overflow","auto");var n=t("<div/>",{class:"JClicTextDocument"}).css({padding:4}).css(this.act.prevScreenStyle.getCSS()).append(this.act.prevScreenText);this.$div.append(n)}else this.setDocContent(this.$div,this.act.document);this.enableCounters(!0,!1,!1),this.ps.setCounterValue("time",0),this.ps.setMsg(this.act.messages.previous),this.act.prevScreenMaxTime>0&&(this.ps.setCountDown("time",this.act.prevScreenMaxTime),this.prevScreenTimer=setTimeout(i,1e3*this.act.prevScreenMaxTime)),this.$div.on("click",i),this.ps.playMsg()}},evaluatePanel:function(){return this.finishActivity(!0),!0},finishActivity:function(t){this.$checkButton&&this.$checkButton.prop("disabled",!0),o.finishActivity.call(this,t)},processEvent:function(t){return this.playing}},s.Panel.prototype=t.extend(Object.create(o),s.Panel.prototype),s}(t("jquery"),t("../../Activity"),t("../../AWT"),t("../../boxes/ActiveBox"),t("../../boxes/BoxBase"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBox":165,"../../boxes/BoxBase":170,jquery:51}],150:[function(t,e,i){e.exports=function(t,e,i,n,r,s){var o=function(){this.style={default:t.extend(!0,{},o.DEFAULT_DOC_STYLE)},this.p=[],this.boxesContent=new s,this.popupsContent=new s};return o.prototype={constructor:o,tabSpc:12,lastBoxId:0,tmb:null,numTargets:0,targetType:"TT_FREE",boxesContent:null,popupsContent:null,style:null,p:null,setProperties:function(i,r){var s=this;return i.children("style").each(function(){var e=s.readDocAttributes(t(this));s.style[e.name]="default"===e.name?t.extend(!0,s.style.default,e):e}),i.find("section > p").each(function(){var i={elements:[]};t.each(this.attributes,function(){var t=this.name,e=this.value;switch(this.name){case"style":i[t]=e;break;case"bidiLevel":case"Alignment":i[t]=Number(e)}}),t(this).children().each(function(){var a,c=t(this);switch(this.nodeName){case"cell":a=(new n).setProperties(c,r);break;case"text":a={text:this.textContent.replace(/\t/g,"&#9;")};var l=s.readDocAttributes(c);t.isEmptyObject(l)||(a.attr=l);break;case"target":(a=new o.TextTarget(s,this.textContent.replace(/\t/g,"&#9;"))).setProperties(c,r),s.numTargets++;break;default:e.log("error",'Unknown object in activity document: "%s"',this.nodeName)}a&&(a.objectType=this.nodeName,i.elements.push(a))}),s.p.push(i)}),this},readDocAttributes:function(i){var n={},r={},s=this;return t.each(i.get(0).attributes,function(){var i=this.name,o=this.value;switch(i){case"background":o=e.checkColor(o,"white"),n[i]=o,r["background-color"]=o;break;case"foreground":o=e.checkColor(o,"black"),n[i]=o,r.color=o;break;case"family":r["font-family"]=o;case"name":case"style":n[i]=o;break;case"base":n[i]=o,s.style[o]&&(n=t.extend(!0,{},s.style[o],n),s.style[o].css&&(r=t.extend({},s.style[o].css,r)));break;case"bold":o=e.getBoolean(o),n[i]=o,r["font-weight"]=o?"bold":"normal";break;case"italic":o=e.getBoolean(o),n[i]=o,r["font-style"]=o?"italic":"normal";break;case"target":n[i]=e.getBoolean(o);break;case"size":n[i]=Number(o),r["font-size"]=o+"px";break;case"tabWidth":s.tabSpc=o,r["tab-size"]=s.tabSpc,r["white-space"]="pre-wrap";break;default:e.log("warn",'Unknown text attribute: "%s" = "%s"',i,o),n[i]=o}}),t.isEmptyObject(r)||(n.css=r),n},getRawText:function(){var e=t("<div/>");return t.each(this.p,function(){var i=t("<p/>"),n=!0;t.each(this.elements,function(){switch(this.objectType){case"text":case"target":i.append(this.text)}n=!1}),n&&i.html("&nbsp;"),e.append(i)}),e.text().trim()},getFullStyle:function(e){var i=t.extend(!0,{},this.style.default);return t.extend(!0,i,this.style[e]?this.style[e]:{})}},o.DEFAULT_DOC_STYLE={background:"white",foreground:"black",family:"Arial",size:17,css:{"font-family":"Arial,Helvetica,sans-serif","font-size":"17px","background-color":"white",color:"black"}},o.TextTarget=function(t,e){this.doc=t,this.text=e,this.numIniChars=e.length,this.answers=[e],this.maxLenResp=this.numIniChars},o.TextTarget.prototype={constructor:o.TextTarget,doc:null,text:null,attr:null,isList:!1,numIniChars:1,iniChar:"_",maxLenResp:0,answers:null,options:null,iniText:null,infoMode:"no_info",popupContent:null,popupDelay:0,popupMaxTime:0,onlyPlay:!1,$comboList:null,$span:null,$p:null,currentText:"",num:0,pos:0,targetStatus:"NOT_EDITED",flagModified:!1,parentPane:null,reset:function(t){this.targetStatus=t||"NOT_EDITED",this.flagModified=!1},setProperties:function(i,s){var a=this,c=!0;i.children().each(function(){var i=t(this);switch(this.nodeName){case"answer":c&&(c=!1,a.answers=[]),null===a.answers&&(a.answers=[]),a.answers.push(this.textContent);break;case"optionList":i.children("option").each(function(){a.isList=!0,null===a.options&&(a.options=[]),a.options.push(this.textContent)});break;case"response":a.iniChar=e.getVal(i.attr("fill"),a.iniChar).charAt(0),a.numIniChars=e.getNumber(i.attr("length"),a.numIniChars),a.maxLenResp=e.getNumber(i.attr("maxLength"),a.maxLenResp),a.iniText=e.getVal(i.attr("show"),a.iniText);break;case"info":a.infoMode=e.getVal(i.attr("mode"),"always"),a.popupDelay=e.getNumber(i.attr("delay"),a.popupDelay),a.popupMaxTime=e.getNumber(i.attr("maxTime"),a.popupMaxTime),i.children("media").each(function(){a.onlyPlay=!0,a.popupContent=new n,a.popupContent.mediaContent=(new r).setProperties(t(this))}),a.popupContent||i.children("cell").each(function(){a.popupContent=(new n).setProperties(t(this,s))});break;case"text":a.text=this.textContent.replace(/\t/g,"&#9;");var l=o.prototype.readDocAttributes(t(this));t.isEmptyObject(l)||(a.attr=l)}})},getAnswers:function(){return this.answers?this.answers.join("|"):""},checkColors:function(){var t=this.$comboList||this.$span;if(t){var e=this.doc.style["WITH_ERROR"===this.targetStatus?"targetError":"HIDDEN"===this.targetStatus?"default":"target"];e&&e.css&&t.css(e.css)}},readCurrentText:function(){return this.$span?this.currentText=this.$span.text():this.$comboList&&(this.currentText=this.$comboList.val()),this.currentText}},o}(t("jquery"),t("../../Utils"),t("../../AWT"),t("../../boxes/ActiveBoxContent"),t("../../media/MediaContent"),t("../../boxes/ActiveBagContent"))},{"../../AWT":127,"../../Utils":134,"../../boxes/ActiveBagContent":164,"../../boxes/ActiveBoxContent":167,"../../media/MediaContent":180,jquery:51}],151:[function(t,e,i){e.exports=function(t,e,i,n,r,s,o){var a=function(t){e.call(this,t)};a.prototype={constructor:a,nonAssignedCells:0,useIdAss:!0,setProperties:function(t){e.prototype.setProperties.call(this,t),this.abc.primary.avoidAllIdsNull(this.abc.answers.getNumCells())},getMinNumActions:function(){return this.invAss?this.abc.answers.getNumCells():this.abc.primary.getNumCells()-this.nonAssignedCells},hasRandom:function(){return!0},needsKeyboard:function(){return!0},helpSolutionAllowed:function(){return!0}},a.prototype=t.extend(Object.create(e.prototype),a.prototype),a.Panel=function(t,i,n){e.Panel.call(this,t,i,n)};var c=e.Panel.prototype;return a.Panel.prototype={constructor:a.Panel,$textField:null,invAssCheck:null,bgA:null,bgB:null,currentCell:-1,events:["click"],clear:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)},buildVisualComponents:function(){var e,n;this.firstRun&&c.buildVisualComponents.call(this),this.clear();var r=this.act.abc.primary,s=this.act.abc.answers,a=this.act.abc.solvedPrimary;if(r&&s){if(this.act.invAss)for(this.invAssCheck=[],e=s.getNumCells(),n=0;n<e;n++)this.invAssCheck[n]=!1;if(r.imgName&&(r.setImgContent(this.act.project.mediaBag,null,!1),!r.animatedGifFile||r.shaper.rectangularShapes||this.act.scramble.primary||(this.$animatedBg=t("<span/>").css({"background-image":"url("+r.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),a&&a.imgName&&a.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var l=[r,s];a&&l.push(a),this.act.acp.generateContent(r.nch,r.ncw,l,!1)}this.bgA=i.createEmptyGrid(null,this,this.act.margin,this.act.margin,r);var u=s.w;"AUB"!==this.act.boxGridPos&&"BUA"!==this.act.boxGridPos||(u=r.getTotalWidth()),this.bgB=new i(null,this,s.bb,this.act.margin,this.act.margin,u,s.h,new o(1,1)),this.$form=t("<form/>",{id:"form1",action:"#"});var h=this;for(this.$form.submit(function(t){t.preventDefault(),h.playing&&h.setCurrentCell(h.currentCell)}),this.$textField=t("<input/>",{type:"text",size:200}).css(s.bb.getCSS()).css({position:"absolute",top:0,left:0,border:0,padding:0,margin:0,"text-align":"center"}),this.$div.append(this.$form.append(this.$textField)),this.bgA.setContent(r,a||null),this.bgA.setDefaultIdAss(),this.$animatedBg&&this.bgA.setCellAttr("tmpTrans",!0),this.act.nonAssignedCells=0,e=this.bgA.getNumCells(),n=0;n<e;n++){var d=this.bgA.getActiveBox(n);-1===d.idAss&&(this.act.nonAssignedCells++,d.switchToAlt(this.ps))}this.bgA.setVisible(!0),this.bgB.setVisible(!1)}},initActivity:function(){c.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB&&(this.act.scramble.primary&&this.shuffle([this.bgA],!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)},activityReady:function(){c.activityReady.call(this),this.setCurrentCell(0)},updateContent:function(t){if(c.updateContent.call(this,t),this.bgA&&this.$canvas){var e=this.$canvas.get(-1),i=e.getContext("2d");t||(t=new r.Rectangle(0,0,e.width,e.height)),i.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bgA.update(i,t)}return this},setDimension:function(t){return this.bgA&&this.bgB&&!this.getBounds().equals(t)?n.layoutDouble(t,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):t},setBounds:function(e){if(this.$canvas&&this.$canvas.remove(),c.setBounds.call(this,e),this.bgA||this.bgB){var i=e.clone();if("AUB"===this.act.boxGridPos?i.height-=this.bgB.pos.y+this.act.margin/2:"AB"===this.act.boxGridPos&&(i.width-=this.bgB.pos.x+this.act.margin/2),this.$canvas=t('<canvas width="'+i.dim.width+'" height="'+i.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.bgA&&this.$animatedBg){var n=this.bgA.getBounds();this.$animatedBg.css({left:n.pos.x,top:n.pos.y,width:n.dim.width+"px",height:n.dim.height+"px","background-size":n.dim.width+"px "+n.dim.height+"px"}),this.$canvas.insertAfter(this.$animatedBg)}else this.$div.prepend(this.$canvas);this.$textField&&this.$textField.css({top:this.bgB.pos.y,left:this.bgB.pos.x,width:this.bgB.dim.width,height:this.bgB.dim.height,zIndex:9}),this.invalidate().update()}},checkInvAss:function(){var t;if(!this.act.invAss||!this.invAssCheck)return!1;for(t=0;t<this.invAssCheck.length&&this.invAssCheck[t];t++);return t===this.invAssCheck.length},setCurrentCell:function(t){var e=null,i=!1;if(this.playing){if(-1!==this.currentCell){var n=!1;if(e=this.bgA?this.bgA.getActiveBoxWithIdLoc(this.currentCell):null){var r=e.getDescription();e.setMarked(!1);var o=e.idAss,a=o>=0?this.act.abc.answers.getActiveBoxContent(o).text:"",c=this.$textField.val().trim();if(s.compareMultipleOptions(c,a,!1)){n=!0,e.idAss=-1;var l=a.indexOf("|");l>=0&&this.$textField.val(a.substring(0,l)),this.act.abc.solvedPrimary?(e.switchToAlt(this.ps),i=e.playMedia(this.ps)):e.clear(),this.act.invAss&&o>=0&&o<this.invAssCheck.length&&(this.invAssCheck[o]=!0),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem))}var u=this.bgA.countCellsWithIdAss(-1);if(c.length>0&&this.ps.reportNewAction(this.act,"WRITE",r,c,n,u),n&&(this.checkInvAss()||u===this.bgA.getNumCells()))return this.finishActivity(!0),void this.$textField.prop("disabled",!0);!i&&c.length>0&&this.playEvent(n?"actionOk":"actionError")}}if(e=this.act.useOrder?this.bgA?this.bgA.getBox(this.currentItem):null:this.bgA?this.bgA.getActiveBoxWithIdLoc(t):null,this.bgA&&(!e||-1===e.idAss)){for(var h=0;h<this.bgA.getNumCells()&&-1===(e=this.bgA.getActiveBoxWithIdLoc(h)).idAss;h++);if(e&&-1===e.idAss)return this.finishActivity(!1),void this.$textField.prop("disabled",!0)}e&&this.bgA&&this.bgA.getNumCells()>1&&e.setMarked(!0),e&&(this.currentCell=e.idLoc),this.$textField.val(""),this.$textField.focus(),this.invalidate().update(),e&&e.playMedia(this.ps)}},processEvent:function(t){if(this.playing)switch(t.type){case"click":t.preventDefault(),this.ps.stopMedia(1);var e=new r.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top);if(this.bgB.contains(e)){this.$textField.focus();break}var i=this.bgA?this.bgA.findActiveBox(e):null;i&&(i.getContent()&&null===i.getContent().mediaContent&&this.playEvent("CLICK"),this.setCurrentCell(i.idLoc));break;case"edit":return t.preventDefault(),this.setCurrentCell(this.currentCell),!1}}},a.Panel.prototype=t.extend(Object.create(c),a.Panel.prototype),e.CLASSES["@text.WrittenAnswer"]=a,a}(t("jquery"),t("../../Activity"),t("../../boxes/ActiveBoxGrid"),t("../../boxes/BoxBag"),t("../../AWT"),t("../../Utils"),t("../../shapers/Rectangular"))},{"../../AWT":127,"../../Activity":128,"../../Utils":134,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../shapers/Rectangular":194,jquery:51}],152:[function(t,e,i){e.exports=function(t,e,i,n,r,s,o,a,c){var l=c.settings,u=function(t){e.call(this,t)};u.prototype={constructor:u,upperCase:!0,checkCase:!0,wildTransparent:!1,getMinNumActions:function(){return this.tgc.getNumChars()-this.tgc.countWildChars()},needsKeyboard:function(){return!0}},u.prototype=t.extend(Object.create(e.prototype),u.prototype),u.Panel=function(t,i,n){e.Panel.call(this,t,i,n)};var h=e.Panel.prototype;return u.Panel.prototype={constructor:u.Panel,LABEL_WIDTH:40,grid:null,bb:null,numLetters:0,advance:"NO_ADVANCE",hClue:null,vClue:null,hClueBtn:null,vClueBtn:null,events:["click","keydown","keypress"],clear:function(){this.grid&&(this.grid.end(),this.grid=null),this.bb&&(this.bb.end(),this.bb=null)},createBoxBag:function(e){var i=new n(null,this,null),r=new s(i,this,this.icoBB);r.setBounds(0,0,this.LABEL_WIDTH,this.act.abc[e].h);var c=this,l=t("<button/>",{class:"StockBtn"}).css({width:this.LABEL_WIDTH,height:this.act.abc[e].h,"background-image":"url("+("acrossClues"===e?this.hIcon:this.vIcon)+")","background-repeat":"no-repeat","background-position":"center","border-radius":6,"z-index":10}).click(function(){c.advance="acrossClues"===e?"ADVANCE_RIGHT"===c.advance?"NO_ADVANCE":"ADVANCE_RIGHT":"ADVANCE_DOWN"===c.advance?"NO_ADVANCE":"ADVANCE_DOWN",c.setBtnStatus()}).on("keypress",function(t){" "===String.fromCharCode(t.charCode||t.keyCode)&&t.stopPropagation()}).appendTo(this.$div);r.setHostedComponent(l),i.addBox(r);var u=new o(i,null,null,e,new a.Rectangle(this.LABEL_WIDTH+this.act.margin,0,this.act.abc[e].w,this.act.abc[e].h));return i.addBox(u),i.setBoxBase(this.act.abc[e].bb),"acrossClues"===e?(this.hClue=u,this.hClueBtn=r):(this.vClue=u,this.vClueBtn=r),i},buildVisualComponents:function(){this.firstRun&&h.buildVisualComponents.call(this),this.clear();var t=this.act.tgc,e=this.act.abc.acrossClues;e.imgName&&e.setImgContent(this.act.project.mediaBag,null,!1);var i=this.act.abc.downClues;if(i.imgName&&i.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(0,0,this.act.abc,!1),t){this.grid=r.createEmptyGrid(null,this,this.act.margin,this.act.margin,t,this.act.wildTransparent),this.bb=new n(null,this,null);var s=this.createBoxBag("acrossClues"),o=this.createBoxBag("downClues");"AUB"===this.act.boxGridPos||"BUA"===this.act.boxGridPos?o.moveTo(new a.Point(s.dim.width+this.act.margin,0)):o.moveTo(new a.Point(0,s.dim.height+this.act.margin)),this.bb.addBox(s),this.bb.addBox(o),this.grid.setVisible(!0),this.bb.setVisible(!0)}},initActivity:function(){h.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.grid&&(this.grid.setChars(this.act.tgc.text),this.numLetters=this.act.getMinNumActions(),this.grid.setCellAttributes(!0,!0),this.grid.setCursorEnabled(!0),this.setCursorAt(0,0),this.advance="ADVANCE_RIGHT",this.setBtnStatus(),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0,this.$div.attr("tabindex",0),this.$div.focus())},getCurrentScore:function(){return this.grid?this.grid.countCoincidences(this.act.checkCase):0},updateContent:function(t){if(h.updateContent.call(this,t),this.grid&&this.$canvas){var e=this.$canvas.get(-1),i=e.getContext("2d");t||(t=new a.Rectangle(0,0,e.width,e.height)),i.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.grid.update(i,t),this.bb.update(i,t)}return this},setDimension:function(t){return this.grid&&this.bb&&!this.getBounds().equals(t)?n.layoutDouble(t,this.grid,this.bb,this.act.boxGridPos,this.act.margin):t},setBounds:function(e){this.$canvas&&(this.$canvas.remove(),this.$canvas=null),h.setBounds.call(this,e),this.grid&&(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.invalidate().update())},processEvent:function(t){if(this.playing)switch(t.type){case"click":var e=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,i=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY,n=new a.Point(e-this.$div.offset().left,i-this.$div.offset().top);if(this.ps.stopMedia(1),this.grid.contains(n)){var r=this.grid.getLogicalCoords(n);if(null!==r&&(this.setCursorAt(r.x,r.y),l.TOUCH_DEVICE)){var s="ADVANCE_DOWN"===this.advance,o=window.prompt((s?"Vertical":"Horizontal")+" word:","");this.writeChars(o)}}else if(this.hClue.contains(n))this.hClue.playMedia(this.ps);else{if(!this.vClue.contains(n))break;this.vClue.playMedia(this.ps)}this.update();break;case"keypress":var c=t.charCode||t.keyCode,u=this.grid.getCursor();if(c&&u){t.preventDefault();var h=String.fromCharCode(c);this.writeChars(h)}break;case"keydown":var d=0,f=0;switch(t.keyCode){case l.VK.RIGHT:d=1;break;case l.VK.LEFT:d=-1;break;case l.VK.DOWN:f=1;break;case l.VK.UP:f=-1}(d||f)&&(t.preventDefault(),this.moveCursor(d,f),this.update())}},moveCursor:function(t,e){this.grid&&(this.grid.moveCursor(t,e,!0),this.cursorPosChanged())},setCursorAt:function(t,e){this.grid.setCursorAt(t,e,!0),this.cursorPosChanged()},cursorPosChanged:function(){var t=this.grid.getCursor();if(null!==t&&null!==this.bb){var e=this.grid.getItemFor(t.x,t.y);null!==e&&(this.hClue.setContent(this.act.abc.acrossClues.getActiveBoxContentWith(t.y,e.x)),this.vClue.setContent(this.act.abc.downClues.getActiveBoxContentWith(t.x,e.y)))}},writeChars:function(t){if(t&&t.length>0)for(var e=0;e<t.length;e++){var i=this.grid.getCursor(),n=t.charAt(e);this.act.upperCase&&(n=n.toLocaleUpperCase()),this.grid.setCharAt(i.x,i.y,n);var r=this.grid.isCellOk(i.x,i.y,this.act.checkCase),s=this.getCurrentScore();this.ps.reportNewAction(this.act,"WRITE",n,"X:"+i.x+" Y:"+i.y,r,s),s===this.numLetters?(this.grid.setCursorEnabled(!1),this.grid.stopCursorBlink(),this.finishActivity(!0)):(this.playEvent("click"),"ADVANCE_DOWN"===this.advance?this.moveCursor(0,1):"ADVANCE_RIGHT"===this.advance&&this.moveCursor(1,0))}this.update()},setBtnStatus:function(){this.hClueBtn&&this.hClueBtn.setInactive("ADVANCE_RIGHT"!==this.advance),this.vClueBtn&&this.vClueBtn.setInactive("ADVANCE_DOWN"!==this.advance)},hIcon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjM2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNNiAxMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTEyIDBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0tNiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnoiPjwvcGF0aD48L3N2Zz4K",vIcon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjM2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNMTIgOGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTItMiAuOS0yIDIgLjkgMiAyIDJ6bTAgMmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTAgNmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+Cg==",icoSize:{w:36,h:36},icoBB:(new i).set("backColor","#4285F4").set("inactiveColor","#70A2F6").set("dontFill",!0)},u.Panel.prototype=t.extend(Object.create(h),u.Panel.prototype),e.CLASSES["@textGrid.CrossWord"]=u,u}(t("jquery"),t("../../Activity"),t("../../boxes/BoxBase"),t("../../boxes/BoxBag"),t("../../boxes/TextGrid"),t("../../boxes/AbstractBox"),t("../../boxes/ActiveBox"),t("../../AWT"),t("../../Utils"))},{"../../AWT":127,"../../Activity":128,"../../Utils":134,"../../boxes/AbstractBox":163,"../../boxes/ActiveBox":165,"../../boxes/BoxBag":169,"../../boxes/BoxBase":170,"../../boxes/TextGrid":172,jquery:51}],153:[function(t,e,i){e.exports=function(t,e,i,n,r,s,o){var a=function(t){e.call(this,t)};a.prototype={constructor:a,clues:null,clueItems:null,scramble:{primary:!1,secondary:!1},getMinNumActions:function(){return this.clues.length},helpSolutionAllowed:function(){return!0},hasRandom:function(){return!0}},a.prototype=t.extend(Object.create(e.prototype),a.prototype),a.Panel=function(t,i,n){e.Panel.call(this,t,i,n),this.resolvedClues=[]};var c=e.Panel.prototype;return a.Panel.prototype={constructor:a.Panel,grid:null,bgAlt:null,resolvedClues:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"],clear:function(){this.grid&&(this.grid.end(),this.grid=null),this.bgAlt&&(this.bgAlt.end(),this.bgAlt=null)},buildVisualComponents:function(){this.firstRun&&c.buildVisualComponents.call(this),this.clear();var e=this.act.tgc,n=this.act.abc.secondary;if(n&&(n.imgName&&(n.setImgContent(this.act.project.mediaBag,null,!1),!n.animatedGifFile||n.shaper.rectangularShapes||this.act.scramble.secondary||(this.$animatedBg=t("<span/>").css({"background-image":"url("+n.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),null!==this.act.acp)){var r=[n];this.act.acp.generateContent(0,0,r,!1)}e&&(this.grid=o.createEmptyGrid(null,this,this.act.margin,this.act.margin,e,!1),n&&(this.bgAlt=i.createEmptyGrid(null,this,this.act.margin,this.act.margin,n),this.$animatedBg&&this.bgAlt.backgroundBox&&(this.bgAlt.backgroundBox.tmpTrans=!0)),this.grid.setVisible(!0))},initActivity:function(){if(c.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.grid){this.grid.setChars(this.act.tgc.text),this.grid.randomize(),this.grid.setAllCellsAttribute(o.prototype.flags.INVERTED,!1);for(var t=0;t<this.act.clueItems.length;t++)this.resolvedClues[t]=!1;if(this.bgAlt){if(this.bgAlt.setContent(this.act.abc.secondary),this.$animatedBg&&this.bgAlt.clearAllBoxes(),this.act.scramble.secondary){var e=[this.bgAlt];this.shuffle(e,!0,!0)}this.bgAlt.setVisible(null!==this.$animatedBg)}this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0}},updateContent:function(t){if(c.updateContent.call(this,t),this.grid&&this.$canvas){var e=this.$canvas.get(-1),i=e.getContext("2d");t||(t=new s.Rectangle(0,0,e.width,e.height)),i.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.grid.update(i,t),this.bgAlt&&this.bgAlt.update(i,t)}return this},setDimension:function(t){return!this.grid||this.getBounds().equals(t)?t:this.bgAlt?n.layoutDouble(t,this.grid,this.bgAlt,this.act.boxGridPos,this.act.margin):n.layoutSingle(t,this.grid,this.act.margin)},setBounds:function(e){if(this.$canvas&&this.$canvas.remove(),c.setBounds.call(this,e),this.grid){if(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg&&this.bgAlt){var i=this.bgAlt.getBounds();this.$animatedBg.css({left:i.pos.x,top:i.pos.y,width:i.dim.width+"px",height:i.dim.height+"px","background-size":i.dim.width+"px "+i.dim.height+"px"})}this.$div.append(this.$canvas),this.bc=new r(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update()}},getCurrentScore:function(){var t=0;if(this.act.clues)for(var e=0;e<this.act.clues.length;e++)this.resolvedClues[e]&&t++;return t},processEvent:function(t){if(this.bc&&this.playing){var e=null;if("touchend"===t.type)e=this.bc.active?this.bc.dest.clone():new s.Point;else{var i=t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,n=t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;e=new s.Point(i-this.$div.offset().left,n-this.$div.offset().top)}var r=!1,a=!1;switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&e.distanceTo(this.bc.origin)<=3)break;r=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){this.ps.stopMedia(1);var c=this.grid.getLogicalCoords(this.bc.origin),l=this.grid.getLogicalCoords(this.bc.dest);this.bc.end();var u=this.grid.getStringBetween(c.x,c.y,l.x,l.y);if(null!==u&&u.length>0){for(var h=!1,d=0;d<this.act.clues.length;d++)if(u===this.act.clues[d]){h=!0;break}var f=this.resolvedClues[d];if(h&&!f&&(this.resolvedClues[d]=!0,this.grid.setAttributeBetween(c.x,c.y,l.x,l.y,o.prototype.flags.INVERTED,!0),null!==this.bgAlt)){var p=this.act.clueItems[d];if(p>=0&&p<this.bgAlt.getNumCells()){var g=this.bgAlt.getActiveBox(this.act.clueItems[d]);g&&(g.setVisible(null===this.$animatedBg),a=g.playMedia(this.ps))}}if(f)h||a||this.playEvent("actionError");else{var m=this.getCurrentScore();this.ps.reportNewAction(this.act,"ACTION_SELECT",u,null,h,m),m===this.act.clues.length?this.finishActivity(!0):a||this.playEvent(h?"actionOK":"actionError"),this.invalidate()}}else this.playEvent("actionError");this.update()}else{if(r)break;this.ps.stopMedia(1),this.grid.contains(e)&&(this.playEvent("click"),this.bc.begin(e))}break;case"mousemove":case"touchmove":this.bc.moveTo(e)}t.preventDefault()}}},a.Panel.prototype=t.extend(Object.create(c),a.Panel.prototype),e.CLASSES["@textGrid.WordSearch"]=a,a}(t("jquery"),t("../../Activity"),t("../../boxes/ActiveBoxGrid"),t("../../boxes/BoxBag"),t("../../boxes/BoxConnector"),t("../../AWT"),t("../../boxes/TextGrid"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../boxes/BoxConnector":171,"../../boxes/TextGrid":172,jquery:51}],154:[function(t,e,i){e.exports=function(t){var e=function(t){this.project=t};return e.prototype={constructor:e,project:null,setProperties:function(t){return this.className=(t.attr("class")||"").replace(/^edu\.xtec\.jclic\.automation\./,"@"),this},init:function(){},generateContent:function(t,i,n,r){var s=new e.ActiveBagContentKit(t,i,n,r);return this.process(s)},process:function(t){return!1}},e.ActiveBagContentKit=function(t,e,i,n){this.nRows=t,this.nCols=e,this.content=i,this.useIds=n},e.CLASSES={"@tagreplace.TagReplace":e},e.getProvider=function(i,n){var r=null;if(i&&n){var s=(i.attr("class")||"").replace(/^edu\.xtec\.jclic\.automation\./,"@"),o=e.CLASSES[s];o?(r=new o(n)).setProperties(i):t.log("error","Unknown AutoContentProvider class: %s",s)}return r},e}(t("../Utils"))},{"../Utils":134}],155:[function(t,e,i){e.exports=function(t,e,i){var n=function(t){e.call(this,t),this.opA=new n.Operator,this.opB=new n.Operator};return n.prototype={constructor:n,NMAXLOOPS:60,NOSORT:0,SORTASC:1,SORTDESC:2,SUM:1,REST:2,MULT:4,DIV:8,NOPERACIONS:4,OPSTR:["+","-",String.fromCharCode(215),":"],ABX:1,AXC:2,XBC:4,AXBC:8,CAXB:16,NTIPUSEX:5,INDIF:0,AGB:1,BGA:2,RES:-12345,MAX_STR_LEN:100,S:String.fromCharCode(160),opA:null,opB:null,use_add:!0,use_subst:!1,use_mult:!1,use_div:!1,exp_abx:!0,exp_axc:!1,exp_xbc:!1,exp_axbc:!1,exp_caxb:!1,resultLimInf:0,resultLimSup:9999,resultCarry:!1,resultNoDup:!1,resultOrder:"NOSORT",opCond:"INDIF",setProperties:function(e){var n=this;return e.children().each(function(){var e=t(this),r="";switch(this.nodeName){case"operand":switch(e.attr("id")){case"A":n.opA.setProperties(e);break;case"B":n.opB.setProperties(e)}break;case"operations":n.use_add=i.getBoolean(e.attr("plus")),n.use_subst=i.getBoolean(e.attr("minus")),n.use_mult=i.getBoolean(e.attr("multiply")),n.use_div=i.getBoolean(e.attr("divide"));break;case"unknown":n.exp_abx=i.getBoolean(e.attr("result")),n.exp_xbc=i.getBoolean(e.attr("first")),n.exp_axc=i.getBoolean(e.attr("last")),n.exp_axbc=i.getBoolean(e.attr("operand")),n.exp_caxb=i.getBoolean(e.attr("inverse"));break;case"result":r=e.attr("from"),n.resultLimInf=i.getNumber("x"===r?0:r,n.resultLimInf),r=e.attr("to"),n.resultLimSup=i.getNumber("x"===r?0:r,n.resultLimSup),n.resultCarry=i.getBoolean(e.attr("notCarry"),n.resultCarry),n.resultNoDup=!i.getBoolean(e.attr("duplicates"),!n.resultNoDup);var s=e.attr("order");n.resultOrder="ascending"===s?"SORTASC":"descending"===s?"SORTDESC":"NOSORT",s=e.attr("condition"),n.opCond="firstBig"===s?"AGB":"lastBig"===s?"BGA":"INDIF"}}),this},genNum:function(t,e,i,r){var s,o,a,c,l,u,h,d=!1;return t.c=e.numDec,o=0===t.c?1:1===t.c?10:100,c=e.limSup,r!==n.prototype.RES&&r<c&&(c=r),l=e.limInf,i!==n.prototype.RES&&i>l&&(l=i),d=!1,e.fromList>0&&(t.vf=e.lst[Math.floor(Math.random()*e.fromList)],d=!0),d||(s=Math.floor(100*Math.random()),e.wZero&&s<=10?(t.vf=0,d=!0):e.wOne&&s>10&&s<=20?(t.vf=1,d=!0):e.wMinusOne&&s>20&&s<=30&&(t.vf=-1,d=!0)),d||(l>c&&(u=l,l=c,c=u),(a=Math.floor(c-l+1))<0&&(a=1),h=(Math.floor(Math.random()*a)+l)*o,o>1&&(h+=Math.floor(Math.random()*o)),t.vf=h/o),!0},genOp:function(t){var e,i,r,s,o,a,c,l,u,h,d,f=[];switch(r=this.resultLimInf,s=this.resultLimSup,i=0,this.use_add&&(f[i++]="SUM"),this.use_subst&&(f[i++]="REST"),this.use_mult&&(f[i++]="MULT"),this.use_div&&(f[i++]="DIV"),f[Math.floor(Math.random()*i)]){case"SUM":for(e=0;e<this.NMAXLOOPS;e++){switch(this.genNum(t.numA,this.opA,this.RES,s),o=t.numA.vf<r?r-Math.floor(t.numA.vf):this.RES,a=s-Math.floor(t.numA.vf),this.opCond){case"AGB":(a===this.RES||a>t.numA.vf)&&(a=Math.floor(t.numA.vf));break;case"BGA":(o===this.RES||o<t.numA.vf)&&(o=Math.floor(t.numA.vf))}if(this.genNum(t.numB,this.opB,o,a),t.numR.vf=t.numA.vf+t.numB.vf,t.numR.vf>=r&&t.numR.vf<=s)break}if(t.numR.c=t.numA.c>t.numB.c?t.numA.c:t.numB.c,t.op=0,this.resultCarry&&t.numA.vf>0&&t.numB.vf>0){for(c=2===t.numR.c?100:1===t.numR.c?10:1,h=n.DecFormat(Math.floor(t.numA.vf*c+.5),0,10).split(""),d=n.DecFormat(Math.floor(t.numB.vf*c+.5),0,10).split(""),e=0;e<10&&("0"===h[e]&&"0"===d[e]);e++);for(;e<10;e++)if(l=parseInt(h[e]),u=parseInt(d[e]),!(l+u<10)){for(;l+u>9;)l>u?l=l>0?Math.floor(Math.random()*l):0:u=u>0?Math.floor(Math.random()*u):0;h[e]=l.toFixed(0),d[e]=u.toFixed(0)}t.numA.vf=parseInt(h.join(""))/c,t.numB.vf=parseInt(d.join(""))/c,t.numR.vf=Math.floor(t.numA.vf+t.numB.vf+.5)/c}break;case"REST":for(e=0;e<this.NMAXLOOPS;e++){switch(this.genNum(t.numA,this.opA,r,this.RES),o=t.numA.vf>s?Math.floor(t.numA.vf-s):this.RES,a=Math.floor(t.numA.vf-r),this.opCond){case"AGB":(a===this.RES||a>t.numA.vf)&&(a=Math.floor(t.numA.vf));break;case"BGA":(o===this.RES||o<t.numA.vf)&&(o=Math.floor(t.numA.vf))}if(this.genNum(t.numB,this.opB,o,a),t.numR.vf=t.numA.vf-t.numB.vf,t.numR.vf>=r&&t.numR.vf<=s)break}if(t.numR.c=t.numA.c>t.numB.c?t.numA.c:t.numB.c,t.op=1,this.resultCarry&&t.numA.vf>0&&t.numB.vf>0&&t.numA.vf>=t.numB.vf){for(c=2===t.numR.c?100:1===t.numR.c?10:1,h=n.DecFormat(Math.floor(t.numA.vf*c+.5),0,10).split(""),d=n.DecFormat(Math.floor(t.numB.vf*c+.5),0,10).split(""),e=0;e<10&&"0"===d[e];e++);for(;e<10;e++)(l=parseInt(h[e]))>=(u=parseInt(d[e]))||(u=l>0?Math.floor(Math.random()*l):0,d[e]=u.toFixed(0));t.numA.vf=parseInt(h.join(""))/c,t.numB.vf=parseInt(d.join(""))/c,t.numR.vf=Math.floor(t.numA.vf-t.numB.vf+.5)/c}break;case"MULT":for(e=0;e<this.NMAXLOOPS;e++){switch(this.genNum(t.numA,this.opA,this.RES,this.RES),o=this.opB.limInf,a=this.opB.limSup,this.opCond){case"AGB":a>t.numA.vf&&(a=Math.floor(t.numA.vf));break;case"BGA":o<t.numA.vf&&(o=Math.floor(t.numA.vf))}if(this.genNum(t.numB,this.opB,o,a),t.numR.vf=t.numA.vf*t.numB.vf,t.numR.vf>=r&&t.numR.vf<=s)break}t.numR.c=t.numA.c+t.numB.c,t.op=2;break;case"DIV":for(e=0;e<this.NMAXLOOPS;e++){switch(this.genNum(t.numA,this.opA,this.RES,this.RES),o=this.opB.limInf,a=this.opB.limSup,this.opCond){case"AGB":a>t.numA.vf&&(a=Math.floor(t.numA.vf));break;case"BGA":o<t.numA.vf&&(o=Math.floor(t.numA.vf))}if(this.genNum(t.numB,this.opB,o,a),0!==t.numB.vf&&Math.abs(t.numA.vf)>=Math.abs(t.numB.vf)&&(t.numR.vf=t.numA.vf/t.numB.vf)>=r&&t.numR.vf<=s)break}0===t.numB.vf&&(t.numB.vf=1),t.numR.vf=t.numA.vf/t.numB.vf,e=t.numA.c-t.numB.c,c=Math.pow(10,e),t.numA.vf*=c,t.numR.vf*=c,t.numR.vf=Math.floor(t.numR.vf),t.numA.vf=t.numR.vf*t.numB.vf,t.numA.vf/=c,t.numR.vf/=c,t.numR.c=e>0?e:0,t.op=3;break;default:return!1}return!0},process:function(t){var e,i,r,s,o,a,c=t.nRows,l=t.nCols,u=t.content,h=t.useIds,d=[],f=this.S,p=[],g=this.exp_caxb,m="",v="",y="",b="",w=[],x=[],A=[],C=l,S=c,k=c*l,E=null;if(c<=0||l<=0||null===u||u.length<1||null===u[0])return!1;if(k<2)return!1;if(o=0,this.exp_abx&&(p[o++]="ABX"),this.exp_axc&&(p[o++]="AXC"),this.exp_xbc&&(p[o++]="XBC"),this.exp_axbc&&(p[o++]="AXBC"),0===o)return!1;for(e=0;e<k;e++){for(s=new n.Operacio,i=0;i<this.NMAXLOOPS&&(this.genOp(s),this.resultNoDup);i++){for(r=0;r<e&&s.numR.vf!==d[r].numR.vf;r++);if(r===e)break}d[e]=s}if(0!==this.resultOrder)for(e=k-1;e>0;e--)for(i=0;i<e;i++)("SORTASC"===this.resultOrder&&d[i].numR.vf>d[i+1].numR.vf||"SORTDESC"===this.resultOrder&&d[i].numR.vf<d[i+1].numR.vf)&&(s=d[i],d[i]=d[i+1],d[i+1]=s);for(e=0;e<k;e++)switch(a=p[Math.floor(Math.random()*o)],m=n.DecFormat(d[e].numA.vf,d[0].numA.c),v=n.DecFormat(d[e].numB.vf,d[0].numB.c),y=n.DecFormat(d[e].numR.vf,d[0].numR.c),b=this.OPSTR[d[e].op],A[e]=g?y+f+"="+f+m+f+b+f+v:m+f+b+f+v+f+"="+f+y,a){case"AXC":x[e]=v,w[e]=g?y+f+"="+f+m+f+b+f+"?":m+f+b+f+"?"+f+"="+f+y;break;case"XBC":x[e]=m,w[e]=g?y+f+"="+f+"?"+f+b+f+v:"?"+f+b+f+v+f+"="+f+y;break;case"AXBC":x[e]=b,w[e]=g?y+f+"="+f+m+f+"?"+f+v:m+f+"?"+f+v+f+"="+f+y;break;default:x[e]=y,w[e]=g?"?"+f+"="+f+m+f+b+f+v:m+f+b+f+v+f+"="}if(h){E=[];var T=[];for(r=0,e=0;e<k;e++){for(i=0;i<r&&x[e]!==T[i];i++);i===r?(T[r]=x[e],E[e]=r,r++):E[e]=i}for(x=[],e=0;e<r;e++)x[e]=T[e];if(S*C!==r){switch(r){case 6:S=3,C=2;break;case 8:S=4,C=2;break;case 9:S=3,C=3;break;case 10:S=5,C=2;break;case 12:S=4,C=3;break;case 14:S=7,C=2;break;case 15:S=5,C=5;break;case 16:S=4,C=4;break;case 18:S=3,C=6;break;case 20:S=5,C=4;break;default:S=r,C=1}}}return u[0].setTextContent(w,l,c),null!==E&&u[0].setIds(E),u.length>1&&null!==u[1]&&(u[1].setTextContent(x,C,S),u[1].getShaper().reset(C,S)),u.length>2&&null!==u[2]&&u[2].setTextContent(A,l,c),!0}},n.DecFormat=function(t,e,i){var n=t.toFixed(e);if(i){var r=n.indexOf(".");for(r<0&&(r=n.length);r<i;r++)n="0"+n}return n},n.Operator=function(){this.limInf=this.LIM0,this.limSup=this.LIM10,this.lst=[]},n.Operator.prototype={constructor:n.Operator,MAX_VALUE:1e8,WZERO:1,WONE:2,WMINUSONE:4,NLIMITS:26,LIMITS:[0,-9999,-1e3,-999,-100,-99,-50,-25,-20,-10,-9,-5,-1,0,1,5,9,10,20,25,50,99,100,999,1e3,9999],DEFAULT_LIMIT:13,LIM0:13,LIM10:17,LIMI25:7,LIMS25:19,NOLIM:25,limInf:0,limSup:10,numDec:0,wZero:!1,wOne:!1,wMinusOne:!1,fromList:0,lst:[],setProperties:function(e){var n=this;return t.each(e.get(0).attributes,function(){var r=this.name,s=this.value;switch(r){case"decimals":n.numDec=Number(s);break;case"values":for(var o=s.split(" "),a=0;a<o.length;a++)n.lst[a]=Number(o[a]);n.fromList=n.lst.length;break;case"from":n.limInf=Number("x"===s?0:s);break;case"to":n.limSup=Number("x"===s?0:s)}e.children().each(function(){var e=t(this);switch(this.nodeName){case"include":n.wZero=i.getBoolean(e.attr("zero")),n.wOne=i.getBoolean(e.attr("one")),n.wMinusOne=i.getBoolean(e.attr("minusOne"))}})}),this}},n.Num=function(){this.vf=0,this.c=0},n.Num.prototype.format=function(){return n.DecFormat(this.vf,this.c)},n.Operacio=function(){this.numA=new n.Num,this.numB=new n.Num,this.numR=new n.Num,this.op=0},n.prototype=t.extend(Object.create(e.prototype),n.prototype),e.CLASSES["@arith.Arith"]=n,n}(t("jquery"),t("../AutoContentProvider"),t("../../Utils"))},{"../../Utils":134,"../AutoContentProvider":154,jquery:51}],156:[function(t,e,i){e.exports=function(t,e,i,n,r){var s=function(t){this.project=t,this.elements=[]};return s.prototype={constructor:s,elements:null,project:null,currentAct:-1,setProperties:function(e){var n=this.elements;return e.children("item").each(function(e,r){var s=(new i).setProperties(t(r));n.push(s)}),this},getElementIndex:function(t){return null===t?-1:this.elements.indexOf(t)},getElement:function(t,e){var i=null;return t>=0&&t<this.elements.length&&(i=this.elements[t],e&&(this.currentAct=t)),i},getElementByTag:function(t,e){var i=null,n=-1;return null!==t&&(t=r.nSlash(t),this.elements.some(function(e,r){return e.tag===t&&(i=e,n=r),-1!==n}),-1!==n&&e&&(this.currentAct=n)),i},getCurrentAct:function(){return this.getElement(this.currentAct,!1)},hasNextAct:function(t){var e=!1,i=this.getCurrentAct();if(null!==i)if(null===i.fwdJump)e=!0;else switch(i.fwdJump.action){case"STOP":break;case"RETURN":e=t;break;default:e=!0}return e},hasPrevAct:function(t){var e=!1,i=this.getCurrentAct();if(null!==i)if(null===i.backJump)e=!0;else switch(i.backJump.action){case"STOP":break;case"RETURN":e=t;break;default:e=!0}return e},getNavButtonsFlag:function(){var t="none",e=this.getCurrentAct();return null!==e&&(t=e.navButtons),t},getJump:function(t,i){var n=this.getCurrentAct(),r=null;if(null!==n){var s=t?n.backJump:n.fwdJump;if(null===s){var o=this.currentAct+(t?-1:1);(o>=this.elements.length||o<0)&&(o=0),r=new e("JUMP",o)}else{var a=-1,c=-1;if(null!==i){var l=i.getCurrentSequenceInfo();null!==l&&(a=Math.round(l.tScore),c=Math.round(l.tTime/1e3))}r=s.resolveJump(a,c)}}return r},getSequenceForElement:function(t){var e=null;if(t>=0&&t<this.elements.length)for(var i=t;null===e&&i>=0;i--)e=this.getElement(i,!1).tag;return e},getElementByActivityName:function(t){var e=null;if(null!==t)for(var i=0;null===e&&i<this.elements.length;i++){var n=this.getElement(i,!1);n.activityName.toLowerCase()===t.toLowerCase()&&(e=n)}return e},checkCurrentActivity:function(t){var e=this.getCurrentAct();if(null===e||e.activityName.toUpperCase()!==t.toUpperCase()){for(var r=0;r<this.elements.length;r++)if(this.getElement(r,!1).activityName.toUpperCase()===t.toUpperCase())return this.currentAct=r,!1;return e=new i,e.activityName=t,e.fwdJump=new n("STOP"),e.backJump=new n("STOP"),this.elements.push(e),this.currentAct=this.elements.length-1,!1}return!0}},s}(t("jquery"),t("./JumpInfo"),t("./ActivitySequenceElement"),t("./ActivitySequenceJump"),t("../Utils"))},{"../Utils":134,"./ActivitySequenceElement":157,"./ActivitySequenceJump":158,"./JumpInfo":160,jquery:51}],157:[function(t,e,i){e.exports=function(t,e,i){var n=function(){};return n.prototype={constructor:n,tag:null,description:null,activityName:"",fwdJump:null,backJump:null,navButtons:"both",delay:0,setProperties:function(n){var r=this;return t.each(n.get(0).attributes,function(){var t=this.name,e=this.value;switch(t){case"id":r.tag=i.nSlash(e);break;case"name":r.activityName=e;break;case"description":case"navButtons":r[t]=e;break;case"delay":r[t]=Number(e)}}),n.children("jump").each(function(){var i=(new e).setProperties(t(this));"forward"===i.id?r.fwdJump=i:"back"===i.id&&(r.backJump=i)}),this}},n}(t("jquery"),t("./ActivitySequenceJump"),t("../Utils"))},{"../Utils":134,"./ActivitySequenceJump":158,jquery:51}],158:[function(t,e,i){e.exports=function(t,e,i){var n=function(t,i){e.call(this,t,i)};return n.prototype={constructor:n,upperJump:null,lowerJump:null,setProperties:function(n){e.prototype.setProperties.call(this,n);var r=this;return n.children("jump").each(function(){var e=(new i).setProperties(t(this));"upper"===e.id?r.upperJump=e:"lower"===e.id&&(r.lowerJump=e)}),this},resolveJump:function(t,e){var i=this;return t>=0&&e>=0&&(null!==this.upperJump&&t>this.upperJump.threshold&&(this.upperJump.time<=0||e<this.upperJump.time)?i=this.upperJump:null!==this.lowerJump&&(t<this.lowerJump.threshold||this.lowerJump.time>0&&e>this.lowerJump.time)&&(i=this.lowerJump)),i}},n.prototype=t.extend(Object.create(e.prototype),n.prototype),n}(t("jquery"),t("./JumpInfo"),t("./ConditionalJumpInfo"))},{"./ConditionalJumpInfo":159,"./JumpInfo":160,jquery:51}],159:[function(t,e,i){e.exports=function(t,e){var i=function(t,i,n,r){e.call(this,t,i),this.threshold="number"==typeof n?n:-1,this.time="number"==typeof n?r:-1};return i.prototype={constructor:i,threshold:-1,time:-1,setProperties:function(t){return e.prototype.setProperties.call(this,t),void 0!==t.attr("threshold")&&(this.threshold=t.attr("threshold")),void 0!==t.attr("time")&&(this.time=t.attr("time")),this}},i.prototype=t.extend(Object.create(e.prototype),i.prototype),i}(t("jquery"),t("./JumpInfo"))},{"./JumpInfo":160,jquery:51}],160:[function(t,e,i){e.exports=function(t){var e=function(t,e){switch(this.action=t,typeof e){case"string":this.sequence=e;break;case"number":this.actNum=e}};return e.prototype={constructor:e,id:null,action:void 0,actNum:-1,sequence:void 0,projectPath:void 0,setProperties:function(e){return this.id=e.attr("id"),this.action=e.attr("action")||"JUMP",this.sequence=t.nSlash(e.attr("tag")),this.projectPath=t.nSlash(e.attr("project")),this}},e}(t("../Utils"))},{"../Utils":134}],161:[function(t,e,i){e.exports=function(t,e,i,n){var r=function(t){this.project=t,this.elements={}};return r.prototype={constructor:r,elements:null,project:null,setProperties:function(i){var n=this;return i.children("media").each(function(){var i=new e(n.project.basePath,null,n.project.zip);i.setProperties(t(this)),n.elements[i.name]=i}),this},getElement:function(t,e){t=n.nSlash(t);var i=this.elements[t];return e&&!i&&(i=this.getElementByFileName(t,e)),i},getElementByFileName:function(t,i){var r=null;if(t){t=n.nSlash(t);for(var s in this.elements)if(this.elements[s].fileName===t){r=this.elements[s];break}!r&&i&&((r=new e(this.project.basePath,null,this.project.zip)).name=t,r.fileName=t,r.ext=t.toLowerCase().split("#")[0].split(".").pop(),r.type=r.getFileType(r.ext),this.elements[r.name]=r)}return r},getElementsOfType:function(e){var i=[];return t.each(this.elements,function(t,n){n.type===e&&i.push("font"===e?n.fontName:t)}),i},buildAll:function(e,i,n){var r=0;return t.each(this.elements,function(t,s){e&&s.type!==e||(s.build(i,n),r++)}),r},countWaitingElements:function(){var e=0,i=!0;return t.each(this.elements,function(t,r){!r.data||r.ready||r.checkReady()||r.checkTimeout()?e++:(n.log("debug","... waiting for: %s",t),i=!1)}),i?-1:e},getSkinElement:function(t,e){return i.getSkin(t,e)}},r}(t("jquery"),t("./MediaBagElement"),t("../skins/Skin"),t("../Utils"))},{"../Utils":134,"../skins/Skin":205,"./MediaBagElement":162,jquery:51}],162:[function(t,e,i){e.exports=function(t,e,i){var n=function(t,i,n){t&&(this.basePath=t),i&&(this.fileName=e.nSlash(i),this.name=e.nSlash(i),this.ext=this.fileName.toLowerCase().split(".").pop(),this.type=this.getFileType(this.ext),"gif"===this.ext&&this.checkAnimatedGif()),n&&(this.zip=n),this.timeout=Date.now()+e.settings.LOAD_TIMEOUT};return n.prototype={constructor:n,name:"",fileName:"",fontName:"",basePath:"",zip:null,data:null,ready:!1,_whenReady:null,ext:"",type:null,timeout:0,animated:!1,_fullPath:null,setProperties:function(t){if(this.name=e.nSlash(t.attr("name")),this.fileName=e.nSlash(t.attr("file")),this.ext=this.fileName.toLowerCase().split(".").pop(),this.type=this.getFileType(this.ext),"gif"===this.ext){var i=t.attr("animated");void 0===i?this.checkAnimatedGif():this.animated="true"===i}return"font"===this.type&&(this.fontName=this.name===this.fileName&&this.name.lastIndexOf(".")>0?this.name.substring(0,this.name.lastIndexOf(".")):this.name),this},checkAnimatedGif:function(){var t=this,i=new XMLHttpRequest;i.responseType="arraybuffer",i.addEventListener("load",function(){var n,r,s=new Uint8Array(i.response),o=s.length,a=0;if(71!==s[0]||73!==s[1]||70!==s[2]||56!==s[3])return void(t.animated=!1);for(n=0,r=o-3;n<r&&a<2;++n)if(0===s[n]&&33===s[n+1]&&249===s[n+2]){var c=n+4+s[n+3];if(c+1<o&&0===s[c]&&(44===s[c+1]||33===s[c+1])&&++a>1){t.animated=!0,e.log("debug","Animated GIF detected: %s",t.fileName);break}}}),this.getFullPathPromise().then(function(t){i.open("GET",t,!0),i.send()})},isEmpty:function(){return null===this.data},getFileType:function(t){var i=null;for(var n in e.settings.FILE_TYPES)e.settings.FILE_TYPES[n].indexOf(t)>=0&&(i=n);return i},build:function(n,r){var s=this;return n&&(this._whenReady||(this._whenReady=[]),this._whenReady.push(n)),s.data?s.ready&&s._onReady():s.getFullPathPromise().then(function(n){switch(s.type){case"font":var o="ttf"===s.ext?"truetype":"otf"===s.ext?"embedded-opentype":s.ext,a='@font-face{font-family:"'+s.fontName+'";src:url('+n+') format("'+o+'");}';e.appendStyleAtHead(a,r),s.data=new i.Font(s.name),s.ready=!0;break;case"image":s.data=new Image,t(s.data).on("load",function(){s._onReady.call(s)}),s.data.src=n;break;case"audio":case"video":s.data=document.createElement(s.type),t(s.data).on("canplay",function(){s._onReady.call(s)}),s.data.src=n,s.data.pause();break;case"anim":s.data=t('<object type"application/x-shockwave-flash" width="300" height="200" data="'+n+'"/>').get(-1),s.ready=!0;break;case"xml":s.data="",s.ready=!0;break;default:e.log("trace","Media currently not supported: %s",s.name),s.ready=!0}s.ready&&s._onReady()}),this},checkReady:function(){if(this.data&&!this.ready)switch(this.type){case"image":this.ready=!0===this.data.complete;break;case"audio":case"video":case"anim":this.ready=this.data.readyState>=1;break;default:this.ready=!0}return this.ready},checkTimeout:function(){var t=Date.now()>this.timeout;return t&&e.log("warn","Timeout while loading: %s",this.name),t},_onReady:function(){if(this.ready=!0,this._whenReady){for(var t=0;t<this._whenReady.length;t++)this._whenReady[t].apply(this);this._whenReady=null}},getFullPath:function(){return this._fullPath},getFullPathPromise:function(){var t=this;return new e.Promise(function(i,n){e.getPathPromise(t.basePath,t.fileName,t.zip).then(function(e){t._fullPath=e,i(e)}).catch(n)})}},n}(t("jquery"),t("../Utils"),t("../AWT"))},{"../AWT":127,"../Utils":134,jquery:51}],163:[function(t,e,i){e.exports=function(t,e,i){var n=function(t,i,n){e.Rectangle.call(this),this.container=i,this.parent=t,this.boxBase=n,this.shape=this,this.specialShape=!1,this.visible=!0};return n.prototype={constructor:n,parent:null,container:null,boxBase:null,border:!1,shape:null,specialShape:!1,visible:!0,temporaryHidden:!1,tmpTrans:!1,inactive:!1,inverted:!1,alternative:!1,marked:!1,focused:!1,accessibleText:"",role:"cell",$accessibleElement:null,accessibleAlwaysActive:!1,$hostedComponent:null,setParent:function(t){this.parent=t},getParent:function(){return this.parent},end:function(){},setContainer:function(t){this.container=t,this.$hostedComponent&&this.container&&this.container.$div&&(this.$hostedComponent.detach(),this.container.$div.append(this.$hostedComponent))},getContainerX:function(){return this.container},getContainerResolve:function(){for(var t=this;null===t.container&&null!==t.parent;)t=t.parent;return t.container},invalidate:function(t){var e=this.getContainerResolve();e&&e.invalidate(t)},setBoxBase:function(t){this.boxBase=t,this.invalidate()},getBoxBaseResolve:function(){for(var t=this;!t.boxBase&&t.parent;)t=t.parent;return t.boxBase||i.prototype.defaultBoxBase},setShape:function(t){this.shape=t,this.specialShape=!0,this.invalidate(),e.Rectangle.prototype.setBounds.call(this,t.getBounds()),this.invalidate()},getShape:function(){return this.shape},contains:function(t){return this.shape===this?e.Rectangle.prototype.contains.call(this,t):this.shape.contains(t)},setBounds:function(t,i,n,r){if("number"==typeof t&&(t=new e.Rectangle(t,i,n,r)),!this.equals(t)){var s=!this.dim.equals(t.dim);return this.specialShape?(s&&(this.shape.scaleBy(new e.Dimension(t.dim.width/this.dim.width,t.dim.height/this.dim.height)),this.setShape(this.shape)),this.pos.equals(t.pos)||this.shape.moveTo(t.pos),this.setShape(this.shape)):e.Rectangle.prototype.setBounds.call(this,t),this.$hostedComponent&&this.setHostedComponentBounds(s),this}},moveTo:function(t,i){"number"==typeof t&&(t=new e.Point(t,i)),this.setBounds(new e.Rectangle(this).moveTo(t))},moveBy:function(t,i){this.setBounds(new e.Rectangle(this).moveBy(t,i))},setSize:function(t,i){this.setBounds(new e.Rectangle(this.pos,new e.Dimension(t,i)))},hasBorder:function(){return this.border},setBorder:function(t){t||this.invalidate(),this.border=t,t&&this.invalidate()},isVisible:function(){return this.visible},setVisible:function(t){this.visible=t,this.setHostedComponentVisible(),this.invalidate()},setHostedComponentVisible:function(){this.$hostedComponent&&this.$hostedComponent.css("visibility",this.visible?"visible":"hidden")},isTemporaryHidden:function(){return this.temporaryHidden},setTemporaryHidden:function(t){this.temporaryHidden=t},isInactive:function(){return this.inactive},setInactive:function(t){if(this.inactive=t,this.$hostedComponent)this.setHostedComponentColors(),this.setHostedComponentVisible();else{if(this.$accessibleElement){var e=this.isInactive()&&!this.accessibleAlwaysActive;this.$accessibleElement.prop({disabled:e,tabindex:e?-1:0})}this.invalidate()}},isInverted:function(){return this.inverted},setInverted:function(t){this.inverted=t,this.$hostedComponent?this.setHostedComponentColors():this.invalidate()},isMarked:function(){return this.marked},setMarked:function(t){t||this.invalidate(),this.marked=t,this.$hostedComponent?(this.setHostedComponentColors(),this.setHostedComponentBorder()):t&&this.invalidate()},isFocused:function(){return this.focused},setFocused:function(t){t||this.invalidate(),this.focused=t,t&&this.invalidate(),this.$hostedComponent&&this.$hostedComponent.css("z-index",this.focused?20:2)},isAlternative:function(){return this.alternative},setAlternative:function(t){this.alternative=t,this.invalidate()},update:function(t,e){if(this.isEmpty()||!this.isVisible()||this.isTemporaryHidden())return!1;if(e&&!this.shape.intersects(e))return!1;var i=this.getBoxBaseResolve();return i.transparent||i.dontFill||this.tmpTrans||(i.bgGradient&&!i.bgGradient.hasTransparency()||(t.fillStyle=this.inactive?i.inactiveColor:this.inverted?i.textColor:i.backColor,this.shape.fill(t,e)),i.bgGradient&&(t.fillStyle=i.bgGradient.getGradient(t,this.shape.getBounds()),this.shape.fill(t,e)),t.fillStyle="black"),this.$hostedComponent||this.updateContent(t,e),this.drawBorder(t),!0},updateContent:function(t,e){},drawBorder:function(t){if(this.border||this.marked){var i=this.getBoxBaseResolve();t.strokeStyle=i.borderColor,i[this.marked?"markerStroke":"borderStroke"].setStroke(t),this.marked&&(t.globalCompositeOperation="xor"),this.shape.stroke(t),this.marked&&(t.globalCompositeOperation="source-over"),t.strokeStyle="black",e.Stroke.prototype.setStroke(t)}},getBorderBounds:function(){var t=new e.Rectangle(this.getBounds());if(this.border||this.marked){var i=this.getBoxBaseResolve()[this.marked?"markerStroke":"borderStroke"].lineWidth;t.moveBy(-i/2,-i/2),t.dim.width+=i,t.dim.height+=i}return t},setHostedComponent:function(t){this.$hostedComponent&&this.$hostedComponent.detach(),this.$hostedComponent=t,this.$hostedComponent&&(this.setContainer(this.container),this.setHostedComponentColors(),this.setHostedComponentBorder(),this.setHostedComponentBounds(!0),this.setHostedComponentVisible(),this.setFocused(this.focused))},getHostedComponent:function(){return this.$hostedComponent},setHostedComponentColors:function(){if(this.$hostedComponent){var t=this.getBoxBaseResolve().getCSS(null,this.inactive,this.inverted,this.alternative);this.$hostedComponent.data("background-image")&&t["background-image"]&&(t["background-image"]=this.$hostedComponent.data("background-image")+","+t["background-image"]),this.$hostedComponent.css(t)}},setHostedComponentBorder:function(){if(this.$hostedComponent&&(this.border||this.marked)){var t=this.getBoxBaseResolve();this.$hostedComponent.css({"border-width":t.get(this.marked?"markerStroke":"borderStroke").lineWidth+"px","border-style":"solid","border-color":t.get("borderColor")})}},setHostedComponentBounds:function(t){if(this.$hostedComponent){var e=this.getBounds(),i=this.border||this.marked?this.getBoxBaseResolve().get(this.marked?"markerStroke":"borderStroke").lineWidth:0;this.$hostedComponent.css({position:"absolute",width:e.dim.width-2*i+"px",height:e.dim.height-2*i+"px",top:e.pos.y+"px",left:e.pos.x+"px"})}}},n.prototype=t.extend(Object.create(e.Rectangle.prototype),n.prototype),n}(t("jquery"),t("../AWT"),t("./BoxBase"))},{"../AWT":127,"./BoxBase":170,jquery:51}],164:[function(t,e,i){e.exports=function(t,e,i,n,r,s){var o=function(t,e,i){t&&(this.id=t),this.activeBoxContentArray=[],this.ncw=Math.max(1,e),this.nch=Math.max(1,i)};return o.prototype={constructor:o,id:"primary",imgName:null,img:null,animatedGifFile:null,ncw:1,nch:1,w:s.settings.DEFAULT_GRID_ELEMENT_SIZE,h:s.settings.DEFAULT_GRID_ELEMENT_SIZE,border:!0,bb:null,shaper:null,backgroundContent:null,activeBoxContentArray:null,defaultIdValue:-1,setProperties:function(r,o){var a,c,l=this,u=!1;if(t.each(r.get(0).attributes,function(){var t=this.value;switch(this.name){case"id":l.id=t;break;case"image":l.imgName=s.nSlash(t);break;case"rows":l.nch=Number(t);break;case"columns":u=!0;case"cols":l.ncw=Number(t);break;case"cellWidth":l.w=Number(t);break;case"cellHeight":l.h=Number(t);break;case"border":l.border=s.getBoolean(t)}}),u&&(c=l.ncw,l.ncw=l.nch,l.nch=c),r.children().each(function(){var r=t(this);switch(this.nodeName){case"style":l.bb=new e(null).setProperties(r);break;case"shaper":var s=r.attr("class"),c=Math.max(1,r.attr("cols")),u=Math.max(1,r.attr("rows"));l.shaper=n.getShaper(s,c,u),l.shaper.setProperties(r);break;case"ids":var h=this.textContent.split(" ");for(a=0;a<h.length;a++)l.activeBoxContentArray[a]=new i(Number(h[a]));break;case"cell":var d=(new i).setProperties(r,o);l.activeBoxContentArray.push(d)}}),0===(c=this.activeBoxContentArray.length)&&l.shaper&&l.shaper.nCells>0&&(c=l.shaper.nCells,this.getActiveBoxContent(c-1)),c>0){var h=!0;for(a=0;a<c;a++){var d=this.getActiveBoxContent(a);if(-1!==d.id||-1!==d.item||!d.isEmpty()){h=!1;break}}if(h)for(a=0;a<c;a++)this.getActiveBoxContent(a).id=a}return l.bb&&t.each(l.activeBoxContentArray,function(t,e){e.bb&&(e.bb.parent=l.bb)}),this},prepareMedia:function(t){for(var e=0;e<this.activeBoxContentArray.length;e++)this.activeBoxContentArray[e].prepareMedia(t)},getTotalWidth:function(){return this.w*this.ncw},getTotalHeight:function(){return this.h*this.nch},getNumCells:function(){return this.activeBoxContentArray.length},isEmpty:function(){return 0===this.activeBoxContentArray.length},getShaper:function(){return null===this.shaper&&(this.shaper=n.getShaper("@Rectangular",this.ncw,this.nch)),this.shaper},getBoxBase:function(){return null===this.bb&&(this.bb=new e),this.bb},addActiveBoxContent:function(t){this.activeBoxContentArray.push(t),0!==this.ncw&&0!==this.nch||(this.ncw=1,this.nch=1)},getActiveBoxContent:function(t){if(t>=this.activeBoxContentArray.length)for(var e=this.activeBoxContentArray.length;e<=t;e++)this.activeBoxContentArray.push(new i);return this.activeBoxContentArray[t]},getActiveBoxContentWith:function(t,e){for(var i=null,n=0;n<this.activeBoxContentArray.length;n++){var r=this.activeBoxContentArray[n];if(r.id===t&&r.item===e){i=r;break}}return i},setImgContent:function(t,e,n){e&&this.setShaper(e),"@Holes"===this.shaper.className&&(this.shaper.hasRemainder=!0),this.ncw=this.shaper.nCols,this.nch=this.shaper.nRows;var s=t.elements[this.imgName];t&&this.imgName&&s&&s.ready?(this.img=s.data,s.animated&&(this.animatedGifFile=s.getFullPath()),this.w=this.img.width/this.ncw,this.h=this.img.height/this.nch,n&&(this.w=Math.round(this.w),this.h=Math.round(this.h))):(this.img=null,this.w=Math.max(this.w,10),this.h=Math.max(this.h,10));for(var o=new r.Rectangle(0,0,this.w*this.ncw,this.h*this.nch),a=0;a<this.shaper.nCells;a++)this.getActiveBoxContent(a).setImgContent(this.img,this.shaper.getShape(a,o),this.animatedGifFile);this.shaper.hasRemainder&&(this.backgroundContent=new i,this.backgroundContent.setImgContent(this.img,this.shaper.getRemainderShape(o)))},setTextContent:function(t,e,i){this.ncw=Math.max(1,e),this.nch=Math.max(1,i);for(var n=this.ncw*this.nch,r=0;r<n;r++)this.getActiveBoxContent(r).setTextContent(r>=t.length||null===t[r]?"":t[r])},setIds:function(t){for(var e=0;e<this.activeBoxContentArray.length;e++)e<t.length&&(this.getActiveBoxContent(e).id=t[e])},setCellsAttribute:function(t,e){for(var i=0;i<this.activeBoxContentArray.length;i++)this.getActiveBoxContent(i)[t]=e},avoidAllIdsNull:function(t){var e,i=!0,n=this.activeBoxContentArray.length;for(e=0;e<n;e++)if(-1!==this.getActiveBoxContent(e).id){i=!1;break}if(i)for(t=Math.max(1,t),e=0;e<n;e++)this.getActiveBoxContent(e).id=e%t}},o}(t("jquery"),t("./BoxBase"),t("./ActiveBoxContent"),t("../shapers/Shaper"),t("../AWT"),t("../Utils"))},{"../AWT":127,"../Utils":134,"../shapers/Shaper":195,"./ActiveBoxContent":167,"./BoxBase":170,jquery:51}],165:[function(t,e,i){e.exports=function(t,e,i,n,r,s){var o=function(t,i,n,r,s){e.call(this,t,i,n),this.clear(),"number"==typeof r&&(this.idLoc=r,this.idAss=0,this.idOrder=0),s&&this.setBounds(s)};return o.createCell=function(e,i){if(i&&i.dimension){var n=new o;n.container=new r.Container,n.container.$div=e,n.setContent(i);var s=t('<canvas width="'+i.dimension.width+'" height="'+i.dimension.height+'"/>'),a=new r.Rectangle(0,0,i.dimension.width,i.dimension.height);return n.setBounds(a),e.append(s),n.update(s.get(-1).getContext("2d"),a),n}},o.prototype={constructor:o,idOrder:-1,idLoc:-1,idAss:-1,content:null,altContent:null,hasHostedComponent:!1,hostedMediaPlayer:null,isBackground:!1,getCurrentContent:function(){return this.isAlternative()?this.altContent:this.content},getContent:function(){return this.content||this.setContent(new i),this.content},clear:function(){this.content=null,this.altContent=null,this.idOrder=-1,this.setInactive(!0),this.hasHostedComponent||this.setHostedComponent(null),this.setHostedMediaPlayer(null),this.$accessibleElement&&this.$accessibleElement.html(""),this.tmpTrans&&(this.tmpTrans=!1),this.invalidate()},isEquivalent:function(t,e){return null!==t&&null!==this.content&&this.content.isEquivalent(t.content,e)},isCurrentContentEquivalent:function(t,e){return null!==t&&null!==this.getCurrentContent()&&this.getCurrentContent().isEquivalent(t.getCurrentContent(),e)},exchangeLocation:function(t){var e=new r.Point(this.pos),i=this.idLoc;this.moveTo(t.pos),t.moveTo(e),this.idLoc=t.idLoc,t.idLoc=i},copyContent:function(t){this.idOrder=t.idOrder,this.idAss=t.idAss,this.content=t.content,this.altContent=t.altContent,this.content&&(this.content.bb&&this.setBoxBase(this.content.bb),null!==this.content.border&&t.hasBorder()!==this.content.border&&this.setBorder(this.content.border)),this.setInactive(t.isInactive()),this.setInverted(t.isInverted()),this.setAlternative(t.isAlternative()),this.setHostedComponent(t.getHostedComponent()),this.hasHostedComponent=t.hasHostedComponent,this.setHostedMediaPlayer(t.hostedMediaPlayer),this.hostedMediaPlayer&&this.hostedMediaPlayer.setVisualComponentVisible(!this.isInactive()&&this.isVisible()),this.$accessibleElement&&this.$accessibleElement.html(this.toString())},exchangeContent:function(t){var e=new o(this.getParent(),this.getContainerX(),this.boxBase);e.copyContent(this),this.copyContent(t),t.copyContent(e)},setTextContent:function(t){t||(t=""),this.content||(this.content=new i),this.content.rawText=t,this.content.text=t,this.content.mediaContent=null,this.content.img=null,this.setHostedComponent(null),this.setInactive(!1),this.checkHostedComponent(),this.setHostedMediaPlayer(null),this.$accessibleElement&&this.$accessibleElement.html(this.toString())},setDefaultIdAss:function(){this.idAss=null===this.content?-1:this.content.id},isAtPlace:function(){return this.idOrder===this.idLoc},setContent:function(e,i){if(e instanceof n){if(i<0&&(i=this.idOrder),i>=e.getNumCells())return;e.bb!==this.boxBase&&this.setBoxBase(e.bb),e=e.getActiveBoxContent(i)}if(this.setHostedComponent(null),this.setHostedMediaPlayer(null),this.content=e,e){if(e.animatedGifFile&&!this.specialShape){var r="url("+e.animatedGifFile+")",s=t("<span/>").css({"background-image":r,"background-position":"center","background-repeat":"no-repeat"});s.data("background-image",r),null!==e.imgClip&&s.css({"background-origin":"border-box","background-position":-e.imgClip.pos.x+"px "+-e.imgClip.pos.y+"px"}),this.setHostedComponent(s)}e.bb!==this.boxBase&&this.setBoxBase(e.bb),e.innerHtmlText&&this.setHostedComponent(t("<div/>").html(e.innerHtmlText)),e.hasOwnProperty("border")&&this.hasBorder()!==e.border&&this.setBorder(e.border),this.setInactive(!1),e.amp&&this.setHostedMediaPlayer(e.amp),this.checkHostedComponent(),this.checkAutoStartMedia()}else this.clear();this.invalidate(),this.$accessibleElement&&this.$accessibleElement.html(this.toString())},setAltContent:function(t,e){t instanceof n&&(e<0&&(e=this.idOrder),t=t.getActiveBoxContent(e)),this.altContent=t,this.checkHostedComponent(),this.isAlternative()&&this.hostedMediaPlayer&&this.setHostedMediaPlayer(null),this.$accessibleElement&&(this.$accessibleElement.html(this.toString()),this.$accessibleElement.prop("disabled",!0))},setCurrentContent:function(t){this.isAlternative()?this.setAltContent(t):this.setContent(t),this.invalidate()},switchToAlt:function(){return!(this.isAlternative()||!this.altContent||this.altContent.isEmpty())&&(this.setHostedComponent(null),this.setHostedMediaPlayer(null),this.setAlternative(!0),this.tmpTrans=!1,this.checkHostedComponent(),this.checkAutoStartMedia(),this.$accessibleElement&&this.$accessibleElement.html(this.toString()),!0)},checkHostedComponent:function(){if(!this.hasHostedComponent){var t=this.getCurrentContent(),e=this.getBoxBaseResolve();!this.isInactive()&&t&&t.htmlText&&t.innerHtmlText&&(e.getCSS()["text-align"]=t.txtAlign.h.replace("middle","center"))}},checkAutoStartMedia:function(){var t=this.getContent();t&&t.mediaContent&&t.mediaContent.autoStart&&t.amp&&t.amp.playNow(this)},updateContent:function(t,e){var i=this.getCurrentContent(),n=this.getBoxBaseResolve();if(this.isInactive()||!i||this.dim.width<2||this.dim.height<2)return!0;if(e&&!this.intersects(e))return!1;var o=null;if(i.img&&!this.tmpTrans)try{if(i.imgClip){var a=i.imgClip.getBounds(),c=i.img;if(!i.imgClip.isRect()){var l=document.createElement("canvas");l.width=a.pos.x+a.dim.width,l.height=a.pos.y+a.dim.height;var u=l.getContext("2d");i.imgClip.clip(u),u.drawImage(i.img,0,0),c=l}t.drawImage(c,Math.max(0,a.pos.x),Math.max(0,a.pos.y),Math.min(c.width,a.dim.width),Math.min(c.height,a.dim.height),this.pos.x,this.pos.y,this.dim.width,this.dim.height)}else{var h,d,f=!1;0===(h=i.img.naturalWidth)&&(h=this.dim.width),0===(d=i.img.naturalHeight)&&(d=this.dim.height);var p=1;s.settings.COMPRESS_IMAGES&&this.dim.width>0&&this.dim.height>0&&(h>this.dim.width||d>this.dim.height)&&(h*=p=Math.min(this.dim.width/h,this.dim.height/d),d*=p,f=!0);var g="left"===i.imgAlign.h?0:"right"===i.imgAlign.h?this.dim.width-h:(this.dim.width-h)/2,m="top"===i.imgAlign.v?0:"bottom"===i.imgAlign.v?this.dim.height-d:(this.dim.height-d)/2;f?t.drawImage(i.img,this.pos.x+g,this.pos.y+m,h,d):t.drawImage(i.img,this.pos.x+g,this.pos.y+m),i.avoidOverlapping&&i.text&&(o=new r.Rectangle(Math.max(0,g),Math.max(0,m),Math.min(this.dim.width,h),Math.min(this.dim.height,d)))}}catch(t){s.log("warn",'Unable to draw image "%s": %s',i.imgName,t.message)}if(i.text&&i.text.length>0){var v=this.pos.x,y=this.pos.y,b=this.dim.width,w=this.dim.height;if(o){for(var x=[0,o.pos.x,o.pos.x+o.dim.width,b],A=[0,o.pos.y,o.pos.y+o.dim.height,w],C=[new r.Rectangle(x[0],A[0],x[3],A[1]),new r.Rectangle(x[0],A[2],x[3],A[3]-A[2]),new r.Rectangle(x[0],A[0],x[1],A[3]),new r.Rectangle(x[2],A[0],x[3]-x[2],A[3])],S=C[0],k=S.dim.width*S.dim.height,E=1;E<C.length;E++){var T=C[E].dim.width*C[E].dim.height;if(T>k-1){if(Math.abs(T-k)<=1){var _=!1;switch(E){case 1:_="bottom"===i.txtAlign.v;break;case 2:_="left"===i.txtAlign.h;break;case 3:_="right"===i.txtAlign.h}if(!_)continue}k=T,S=C[E]}}v+=S.pos.x,y+=S.pos.y,b=S.dim.width,w=S.dim.height}var B=Math.max(5,b-2*n.textMargin),P=Math.max(5,w-2*n.textMargin),I=n.prepareText(t,i.text,B,P);t.font=n.font.cssFont(),t.textBaseline="hanging";for(var R=n.font.getHeight(),M=R*I.length,O=y+n.textMargin+("top"===i.txtAlign.v?0:"bottom"===i.txtAlign.v?P-M:(P-M)/2),N=0;N<I.length;N++,O+=R){var j=v+n.textMargin+("left"===i.txtAlign.h?0:"right"===i.txtAlign.h?B-I[N].size.width:(B-I[N].size.width)/2);if(n.shadow){var D=Math.max(1,n.font.size/10);t.fillStyle=n.shadowColor,t.fillText(I[N].text,j+D,O+D)}t.fillStyle=this.isInverted()?n.backColor:this.isAlternative()?n.alternativeColor:n.textColor,t.fillText(I[N].text,j,O)}}return!0},getDescription:function(){return this.content?this.content.getDescription():""},toString:function(){return("cell"!==this.role?s.getMsg(this.role):"")+(this.getCurrentContent()||"-").toString()},playMedia:function(t){var e=this.getCurrentContent();return!(!e||!e.mediaContent)&&(s.log("debug","Playing: %s",e.mediaContent.toString()),t.playMedia(e.mediaContent,this),!0)},setHostedMediaPlayer:function(t){var e=this.hostedMediaPlayer;this.hostedMediaPlayer=t,e&&e!==t&&e.linkTo(null),t&&t.linkTo(this)},setBounds:function(t,i,n,s){"number"==typeof t&&(t=new r.Rectangle(t,i,n,s)),this.equals(t)||(e.prototype.setBounds.call(this,t),this.hostedMediaPlayer&&this.hostedMediaPlayer.checkVisualComponentBounds(this))},setHostedComponentBounds:function(t){if(this.$hostedComponent){e.prototype.setHostedComponentBounds.call(this,t);var i=this.getCurrentContent();if(t&&i&&i.animatedGifFile&&i.img){var n=i.img,r=Math.max(n.naturalWidth,this.dim.width),s=Math.max(n.naturalHeight,this.dim.height),o=1,a="";if(i.imgClip){var c=i.imgClip.getBounds();(this.dim.width<c.dim.width||this.dim.height<c.dim.height)&&(a=r*(o=Math.min(this.dim.width/c.dim.width,this.dim.height/c.dim.height))+"px "+s*o+"px"),this.$hostedComponent.css({"background-position":-i.imgClip.pos.x*o+"px "+-i.imgClip.pos.y*o+"px","background-size":a})}else(this.dim.width<r||this.dim.height<s)&&(a=r*(o=Math.min(this.dim.width/r,this.dim.height/s))+"px "+s*o+"px"),this.$hostedComponent.css({"background-size":a})}}},buildAccessibleElement:function(e,i,n,r){if(s.settings.CANVAS_HITREGIONS&&(this.$accessibleElement&&this.$accessibleElement.remove(),e.width()>0&&e.height()>0)){var o=Math.round(1e5*Math.random()),a=this,c=this.isInactive()&&!this.accessibleAlwaysActive;this.$accessibleElement=t("<button/>",{tabindex:c?-1:0,id:"AE"+o,disabled:c}).html(this.toString()).click(function(n){if(n.originalEvent&&(0!==n.originalEvent.pageX||0!==n.originalEvent.pageY))return!0;s.log("debug","Click on accessible element: %s",a.toString());var o=t.Event(r||"click"),c=a.getBounds(),l=e.offset();return o.pageX=l.left+c.pos.x+c.dim.width/2,o.pageY=l.top+c.pos.y+c.dim.height/2,i.trigger(o),!1}),(n||e).append(this.$accessibleElement);var l=this.$accessibleElement.get(-1);try{var u=e.get(-1).getContext("2d");this.shape.preparePath(u),u.addHitRegion({id:"REG"+o,control:l}),s.settings.CANVAS_HITREGIONS_FOCUS&&u.drawFocusIfNeeded(l)}catch(t){s.log("error","Unable to build accessible element for canvas in: %s (%s)",this.toString(),t)}}return this.$accessibleElement}},o.prototype=t.extend(Object.create(e.prototype),o.prototype),o}(t("jquery"),t("./AbstractBox"),t("./ActiveBoxContent"),t("./ActiveBagContent"),t("../AWT"),t("../Utils"))},{"../AWT":127,"../Utils":134,"./AbstractBox":163,"./ActiveBagContent":164,"./ActiveBoxContent":167,jquery:51}],166:[function(t,e,i){e.exports=function(t,e,i,n){var r=function(t,i,n){e.call(this,t,i,n)};return r.prototype={constructor:r,$accessibleDiv:null,addActiveBox:function(t){return t.idLoc=this.cells.length,t.idOrder=t.idLoc,this.addBox(t)},getActiveBox:function(t){return this.getBox(t)},getBackgroundActiveBox:function(){return this.getBackgroundBox()},setContent:function(t,e,i,n,r){var s;i||(i=0),n||(n=0),r||(r=this.cells.length);for(var o=0;o<r;o++)(s=this.getActiveBox(n+o)).setContent(t,i+o),s.setAlternative(!1),e&&s.setAltContent(e,i+o);null!==t.backgroundContent&&null!==this.getBackgroundActiveBox()&&((s=this.getBackgroundActiveBox()).setContent(t.backgroundContent),t.bb!==s.boxBase&&s.setBoxBase(t.bb))},findActiveBox:function(t){return this.findBox(t)},clearAllBoxes:function(){for(var t=0;t<this.cells.length;t++)this.getActiveBox(t).clear()},clearAll:function(){this.clearAllBoxes(),null!==this.backgroundBox&&this.getBackgroundActiveBox().clear()},countCellsAtPlace:function(){for(var t=0,e=0;e<this.cells.length;e++)this.getActiveBox(e).isAtPlace()&&t++;return t},getActiveBoxWithIdLoc:function(t){for(var e,i=null,n=0;n<this.cells.length;n++)if((e=this.getActiveBox(n)).idLoc===t){i=e;break}return i},cellIsAtEquivalentPlace:function(t,e){return t.isAtPlace()||t.isEquivalent(this.getActiveBoxWithIdLoc(t.idOrder),e)},countCellsAtEquivalentPlace:function(t){for(var e=0,i=0;i<this.cells.length;i++)this.cellIsAtEquivalentPlace(this.getActiveBox(i),t)&&e++;return e},countCellsWithIdAss:function(t){for(var e=0,i=0;i<this.cells.length;i++)this.getActiveBox(i).idAss===t&&e++;return e},countInactiveCells:function(){for(var t=0,e=0;e<this.cells.length;e++)this.getActiveBox(e).isInactive()&&t++;return t},setDefaultIdAss:function(){for(var t=0;t<this.cells.length;t++)this.getActiveBox(t).setDefaultIdAss()},scrambleCells:function(t,e){var n=this.cells.length;if(n>=2){var r,s,o=[],a=[];for(r=0;r<n;r++)s=this.getActiveBox(r),o[r]=new i.Point(s.pos),a[r]=s.idLoc;var c,l=new i.Point;for(r=0;r<t;r++){var u=Math.floor(Math.random()*n),h=Math.floor(Math.random()*n);u!==h&&(l.moveTo(o[u]),o[u].moveTo(o[h]),o[h].moveTo(l),c=a[u],a[u]=a[h],a[h]=c)}var d=this.pos.x+this.dim.width,f=this.pos.y+this.dim.height;for(r=0;r<n;r++){s=this.getActiveBox(r);var p=o[r].x,g=o[r].y;e&&(p=Math.min(Math.max(p,this.pos.x),d-s.dim.width),g=Math.min(Math.max(g,this.pos.y),f-s.dim.height)),s.moveTo(new i.Point(p,g)),s.idLoc=a[r]}}},resetIds:function(){for(var t=0;t<this.cells.length;t++){var e=this.cells[t];e&&(e.idOrder=t,e.idAss=t,e.idLoc=t)}},getNextItem:function(t,e){e||(e=-12345);var i;for(i=t+1;i<this.cells.length;i++){var n=this.cells[i];if(!n)break;if(-12345!==e){if(e===n.idAss)break}else if(n.idAss>=0)break}return i},buildAccessibleElements:function(e,i,r){if(n.settings.CANVAS_HITREGIONS){this.$accessibleDiv=""!==this.accessibleText?t("<div/>",{"aria-label":this.accessibleText,tabindex:0}):null,e.append(this.$accessibleDiv);for(var s=0;s<this.cells.length;s++)this.cells[s].buildAccessibleElement(e,i,this.$accessibleDiv,r)}return this.$accessibleDiv}},r.prototype=t.extend(Object.create(e.prototype),r.prototype),r}(t("jquery"),t("./BoxBag"),t("../AWT"),t("../Utils"))},{"../AWT":127,"../Utils":134,"./BoxBag":169,jquery:51}],167:[function(t,e,i){e.exports=function(t,e,i,n,r){var s=function(t){void 0!==t&&(this.id=t),this.imgAlign={h:"middle",v:"middle"},this.txtAlign={h:"middle",v:"middle"}};return s.prototype={constructor:s,bb:null,dimension:null,border:null,text:null,imgName:null,imgClip:null,mediaContent:null,imgAlign:null,txtAlign:null,avoidOverlapping:!1,id:-1,item:-1,img:null,animatedGifFile:null,userData:null,rawText:null,htmlText:null,innerHtmlText:null,animated:!1,amp:null,mbe:null,setProperties:function(s,o){var a=this;return t.each(s.get(0).attributes,function(){var t=this.name,n=this.value;switch(this.name){case"id":case"item":a[t]=Number(n);break;case"width":case"height":null===a.dimension&&(a.dimension=new e.Dimension(0,0)),a.dimension[t]=Number(n);break;case"txtAlign":case"imgAlign":a[t]=a.readAlign(n);break;case"hAlign":a.txtAlign=a.readAlign(n+",center"),a.imgAlign=a.readAlign(n+",center");break;case"border":case"avoidOverlapping":a[t]=i.getBoolean(n);break;case"image":a.imgName=i.nSlash(n)}}),s.children().each(function(){var e=t(this);switch(this.nodeName){case"style":a.bb=new n(null).setProperties(e);break;case"media":a.mediaContent=(new r).setProperties(e);break;case"p":null===a.text?a.text="":a.text+="\n",a.text+=this.textContent}}),o&&this.realizeContent(o),this},readAlign:function(t){var e={h:"center",v:"center"};if(t){var i=t.split(",");e.h=i[0].replace("middle","center"),e.v=i[1].replace("middle","center")}return e},isEmpty:function(){return null===this.text&&null===this.img},isEquivalent:function(t,e){if(t===this)return!0;var i=!1;return null!==t&&(i=this.isEmpty()&&t.isEmpty()?this.id===t.id:(null===this.text?null===t.text:e?this.text===t.text:this.text.toLocaleLowerCase()===t.text.toLocaleLowerCase())&&(null===this.mediaContent?null===t.mediaContent:this.mediaContent.isEquivalent(t.mediaContent))&&this.img===t.img&&(null===this.imgClip?null===t.imgClip:this.imgClip.equals(t.imgClip))),i},setTextContent:function(t){null!==t?(this.rawText=t,this.text=t,this.checkHtmlText()):(this.rawText=null,this.text=null,this.htmlText=null,this.innerHtmlText=null)},checkHtmlText:function(){if(this.htmlText=null,this.innerHtmlText=null,i.startsWith(this.text,"<html>",!0)){this.htmlText=this.text.trim();var t=this.htmlText.toLocaleLowerCase();if(-1===t.indexOf("<body")){var e=t.indexOf("</html>");e>=0&&(this.innerHtmlText=this.htmlText.substr(6,e))}}},setImgContent:function(t,e,i){this.img=t,this.imgName=null,this.imgClip=e,i&&(this.animatedGifFile=i)},prepareMedia:function(t){!this.amp&&this.mediaContent&&"PLAY_VIDEO"===this.mediaContent.mediaType&&(this.amp=t.getActiveMediaPlayer(this.mediaContent),this.amp.realize())},realizeContent:function(t){var e=this;null!==this.imgName&&this.imgName.length>0&&(this.mbe=t.getElement(this.imgName,!0),this.mbe&&this.mbe.build(function(){e.img=e.mbe.data,e.animatedGifFile=e.mbe.animated?e.mbe.getFullPath():null})),null!==this.mediaContent&&(null!==this.imgName||null!==this.text&&0!==this.text.length||(this.img=this.mediaContent.getIcon(),this.animatedGifFile=null)),this.checkHtmlText(t)},getDescription:function(){var t="";return this.text&&this.text.length>0&&(t+=this.text),this.imgName&&(t+=(t.length>0?" ":"")+i.getMsg("image")+" "+this.imgName),this.imgClip&&(t+=(t.length>0?" ":"")+this.imgClip.toString()),this.mediaContent&&(t+=(t.length>0?" ":"")+this.mediaContent.getDescription()),t},toString:function(){var t="";return this.text&&this.text.length>0&&(t+=this.text),this.imgName&&(t+=(t.length>0?" ":"")+i.getMsg("image")+" "+this.imgName),this.imgClip&&(t+=(t.length>0?" ":"")+i.getMsg("image fragment")),t}},s.EMPTY_CONTENT=new s,s}(t("jquery"),t("../AWT"),t("../Utils"),t("./BoxBase"),t("../media/MediaContent"))},{"../AWT":127,"../Utils":134,"../media/MediaContent":180,"./BoxBase":170,jquery:51}],168:[function(t,e,i){e.exports=function(t,e,i,n,r){var s=function(t,r,s,o,a,c,l,u){e.call(this,t,r,s);var h,d,f;this.nCols=u.nCols,this.nRows=u.nRows;var p=new n.Rectangle(new n.Point(o,a),new n.Dimension(Math.round(c/this.nCols)*this.nCols,Math.round(l/this.nRows)*this.nRows));for(h=0;h<u.nCells;h++)d=u.getShape(h,p),f=new i(this,r,s,h,d.getBounds()),u.rectangularShapes||f.setShape(d),this.addActiveBox(f);u.hasRemainder&&(d=u.getRemainderShape(p),(f=new i(this,r,s,0,d.getBounds())).setShape(d),this.setBackgroundBox(f))};return s.createEmptyGrid=function(t,e,i,n,r,o,a){var c=null;return r&&(c=new s(t,e,a||r.bb,i,n,r.getTotalWidth(),r.getTotalHeight(),o||r.getShaper())).setBorder(r.border),c},s.prototype={constructor:s,nCols:1,nRows:1,getMinimumSize:function(){return new n.Dimension(r.settings.MIN_CELL_SIZE*this.nCols,r.settings.MIN_CELL_SIZE*this.nRows)},getScaledSize:function(t){return new n.Dimension(r.roundTo(t*this.preferredBounds.dim.width,this.nCols),r.roundTo(t*this.preferredBounds.dim.height,this.nRows))},getCoord:function(t){var e=Math.floor(t.idLoc/this.nCols),i=t.idLoc%this.nCols;return new n.Point(i,e)},getCoordDist:function(t,e){var i=this.getCoord(t),r=this.getCoord(e);return new n.Point(r.x-i.x,r.y-i.y)}},s.prototype=t.extend(Object.create(e.prototype),s.prototype),s}(t("jquery"),t("./ActiveBoxBag"),t("./ActiveBox"),t("../AWT"),t("../Utils"))},{"../AWT":127,"../Utils":134,"./ActiveBox":165,"./ActiveBoxBag":166,jquery:51}],169:[function(t,e,i){e.exports=function(t,e,i,n){var r=function(t,n,r){e.call(this,t,n,r),this.preferredBounds=new i.Rectangle,this.cells=[]};return r.prototype={constructor:r,cells:[],preferredBounds:new i.Rectangle,backgroundBox:null,getPreferredSize:function(){return this.preferredBounds.dim},getMinimumSize:function(){var t=this.getPreferredSize();return new i.Dimension(Math.max(n.settings.MIN_CELL_SIZE,t.width),Math.max(n.settings.MIN_CELL_SIZE,t.height))},getScaledSize:function(t){var e=this.getPreferredSize();return new i.Dimension(Math.round(t*e.width),Math.round(t*e.height))},addBox:function(t){this.cells.push(t),t.setParent(this),1===this.cells.length?i.Rectangle.prototype.setBounds.call(this,t):this.add(t),this.preferredBounds.setBounds(this.getBounds())},boxIndex:function(t){return null===t?-1:this.cells.indexOf(t)},getBox:function(t){return t<0||t>=this.cells.length?null:this.cells[t]},getBackgroundBox:function(){return this.backgroundBox},setBackgroundBox:function(t){this.backgroundBox=t,null!==t&&(t.setParent(this),t.isBackground=!0),i.Rectangle.prototype.add.call(this,t),this.preferredBounds.setBounds(this.getBounds())},recalcSize:function(){var t=null;this.backgroundBox&&(t=new i.Rectangle(this.backgroundBox.pos,this.backgroundBox.dim));for(var e=0;e<this.cells.length;e++)t?t.add(this.cells[e]):t=new i.Rectangle(this.cells[e].pos,this.cells[e].dim);t||(t=new i.Rectangle(this.pos.x,this.pos.y,0,0)),this.preferredBounds.setRect(t),this.x=t.pos.x,this.y=t.pos.y,this.dim.width=t.dim.width,this.dim.height=t.dim.height},getNumCells:function(){return this.cells.length},setCellAttr:function(t,e){for(var i=0;i<this.cells.length;i++)this.getBox(i)[t]=e;this.backgroundBox&&(this.backgroundBox[t]=e)},setBorder:function(t){for(var e=0;e<this.cells.length;e++)this.getBox(e).setBorder(t)},setVisible:function(t){for(var e=0;e<this.cells.length;e++)this.getBox(e).setVisible(t)},setAlternative:function(t){e.prototype.setAlternative.call(this,t);for(var i=0;i<this.cells.length;i++)this.getBox(i).setAlternative(t)},setBounds:function(t,n,r,s){if("number"==typeof t){var o=t;t=new i.Rectangle(o,n,r,s)}if(t.getSurface()>0&&!t.equals(this)){for(var a,c,l=t.dim.width/this.dim.width,u=t.dim.height/this.dim.height,h=t.pos.x-this.pos.x,d=t.pos.y-this.pos.y,f=0;f<this.cells.length;f++)c=this.getBox(f),a=new i.Point(c.pos.x-this.pos.x,c.pos.y-this.pos.y),c.setBounds(h+this.pos.x+l*a.x,d+this.pos.y+u*a.y,l*c.dim.width,u*c.dim.height);null!==this.backgroundBox&&(c=this.backgroundBox,a=new i.Point(c.pos.x-this.pos.x,c.pos.y-this.pos.y),c.setBounds(h+this.pos.x+l*a.x,d+this.pos.y+u*a.y,l*c.dim.width,u*c.dim.height))}e.prototype.setBounds.call(this,t)},update:function(t,e){if(this.isEmpty()||!this.isVisible()||this.isTemporaryHidden())return!1;if(e&&!this.intersects(e))return!1;null!==this.backgroundBox&&this.backgroundBox.update(t,e);for(var i,n=0;n<this.cells.length;n++)(i=this.getBox(n)).isMarked()||i.update(t,e);for(var r=0;r<this.cells.length;r++)(i=this.getBox(r)).isMarked()&&i.update(t,e);return!0},findBox:function(t){for(var e=null,i=this.cells.length-1;i>=0;i--){var n=this.getBox(i);if(n.isVisible()&&n.contains(t)){e=n;break}}return e},countInactiveCells:function(){for(var t=0,e=0;e<this.cells.length;e++)this.getBox(e).isInactive()&&t++;return t}},r.prototype=t.extend(Object.create(e.prototype),r.prototype),r.layoutSingle=function(t,e,i){if(!e)return t;var n=e.getPreferredSize(),r=e.getMinimumSize(),s=t;s.width-=2*i,s.height-=2*i,(r.width>s.width||r.height>s.height)&&(s=r);var o=1;return n.width>s.width&&(o=s.width/n.width),o*n.height>s.height&&(o=s.height/n.height),n=e.getScaledSize(o),e.setBounds(i,i,n.width,n.height),n.width+=2*i,n.height+=2*i,n},r.layoutDouble=function(t,e,n,r,s){var o=!1,a=1,c=1;switch(r){case"AB":case"BA":a=2,c=1,o=!0;break;case"AUB":case"BUA":a=1,c=2,o=!1}var l=e.getBounds(),u=n.getBounds(),h=e.getPreferredSize(),d=n.getPreferredSize(),f=new i.Dimension(o?h.width+d.width:Math.max(h.width,d.width),o?Math.max(h.height,d.height):h.height+d.height),p=e.getMinimumSize(),g=n.getMinimumSize(),m=new i.Dimension(o?p.width+g.width:Math.max(p.width,g.width),o?Math.max(p.height,g.height):p.height+g.height),v=t;v.width-=(1+a)*s,v.height-=(1+c)*s,(m.width>v.width||m.height>v.height)&&v.setDimension(m);var y=1;f.width>v.width&&(y=v.width/f.width),y*f.height>v.height&&(y=v.height/f.height),h=e.getScaledSize(y);var b,w,x,A;switch(b=(d=n.getScaledSize(y)).width>h.width?(d.width-h.width)/2:0,x=h.width>d.width?(h.width-d.width)/2:0,w=d.height>h.height?(d.height-h.height)/2:0,A=h.height>d.height?(h.height-d.height)/2:0,r){case"AB":e.setBounds(s,s+w,h.width,h.height),n.setBounds(2*s+h.width,s+A,d.width,d.height);break;case"BA":n.setBounds(s,s+A,d.width,d.height),e.setBounds(2*s+d.width,s+w,h.width,h.height);break;case"AUB":e.setBounds(s+b,s,h.width,h.height),n.setBounds(s+x,2*s+h.height,d.width,d.height);break;case"BUA":n.setBounds(s+x,s,d.width,d.height),e.setBounds(s+b,2*s+d.height,h.width,h.height);break;default:e.setBounds(Math.round(s+y*l.pos.x),Math.round(s+y*l.pos.y),h.width,h.height),n.setBounds(Math.round(s+y*u.pos.x),Math.round(s+y*u.pos.y),h.width,h.height)}var C=new i.Rectangle(e.getBounds());return C.add(n.getBounds()),f.width=C.dim.width+2*s,f.height=C.dim.height+2*s,f},r}(t("jquery"),t("./AbstractBox"),t("../AWT"),t("../Utils"))},{"../AWT":127,"../Utils":134,"./AbstractBox":163,jquery:51}],170:[function(t,e,i){e.exports=function(t,e,i){var n=e.settings.BoxBase,r=function(t){this.parent=t||null};return r.prototype={constructor:r,parent:null,default:n,font:new i.Font,dynFontSize:0,resetFontCounter:0,backColor:n.BACK_COLOR,bgGradient:null,textColor:n.TEXT_COLOR,shadowColor:n.SHADOW_COLOR,borderColor:n.BORDER_COLOR,inactiveColor:n.INACTIVE_COLOR,alternativeColor:n.ALTERNATIVE_COLOR,shadow:!1,transparent:!1,dontFill:!1,textMargin:n.AC_MARGIN,borderStroke:new i.Stroke(n.BORDER_STROKE_WIDTH),markerStroke:new i.Stroke(n.MARKER_STROKE_WIDTH),setProperties:function(n){var r=this;return t.each(n.get(0).attributes,function(){var t=this.name,n=this.value;switch(this.name){case"shadow":case"transparent":r[t]=e.getBoolean(n,!1);break;case"margin":r[t]=Number(n);break;case"borderStroke":r.borderStroke=new i.Stroke(Number(n));break;case"markerStroke":r.markerStroke=new i.Stroke(Number(n))}}),n.children().each(function(){var n=t(this);switch(this.nodeName){case"font":r.font=(new i.Font).setProperties(n);break;case"gradient":r.bgGradient=(new i.Gradient).setProperties(n);break;case"color":r.textColor=e.checkColor(n.attr("foreground"),r.textColor),r.backColor=e.checkColor(n.attr("background"),r.backColor),r.shadowColor=e.checkColor(n.attr("shadow"),r.shadowColor),r.inactiveColor=e.checkColor(n.attr("inactive"),r.inactiveColor),r.alternativeColor=e.checkColor(n.attr("alternative"),r.alternativeColor),r.borderColor=e.checkColor(n.attr("border"),r.borderColor)}}),this},get:function(t){return this.hasOwnProperty(t)||null===this.parent?this[t]:this.parent.get(t)},set:function(t,e){return this[t]=e,this},getOwn:function(t){return this.hasOwnProperty(t)?this[t]:null!==this.parent?this.parent.getOwn(t):("object"==typeof this[t]?this[t]=e.cloneObject(r.prototype[t]):this[t]=r.prototype[t],this[t])},getCSS:function(t,e,i,n){var r=this.get("font");(t=r.toCss(t)).color=i?this.get("backColor"):n?this.get("alternativeColor"):this.get("textColor");var s=this.get("transparent");t["background-color"]=s?"transparent":e?this.get("inactiveColor"):i?this.get("textColor"):this.get("backColor");var o=this.get("bgGradient");if(o&&!s&&(t["background-image"]=o.getCss()),1===this.shadow){var a=Math.max(1,Math.round(r.size/10)),c=this.get("shadowColor");t["text-shadow"]=a+"px "+a+"px 3px "+c}return t},prepareText:function(t,r,s,o){var a=[],c=this.get("font"),l=c.getHeight(),u=0,h=r.trim().split("\n");t.font=c.cssFont();for(var d=0;d<h.length;d++){var f=h[d].trim(),p=t.measureText(f).width;if(p>s){for(var g=0,m=0,v=0;v<f.length;v++)if(e.isSeparator(f[v])){var y=t.measureText(f.substr(0,v).trim()).width;if(y>s)break;g=v,m=y}if(g>0)h.splice(d+1,0,f.substr(g+1).trim()),f=h[d]=f.substr(0,g).trim(),p=m;else if(c.size>n.MIN_FONT_SIZE)return this.getOwn("font").zoom(-1),this.prepareText(t,r,s,o)}if(a.push({text:f,size:new i.Dimension(p,l)}),(u+=l)>o&&c.size>n.MIN_FONT_SIZE)return this.getOwn("font").zoom(-1),this.prepareText(t,r,s,o)}return a}},r.prototype.defaultBoxBase=new r,r}(t("jquery"),t("../Utils"),t("../AWT"))},{"../AWT":127,"../Utils":134,jquery:51}],171:[function(t,e,i){e.exports=function(t){var e=function(e,i){this.parent=e,this.ctx=i,this.dim=new t.Dimension(i.canvas.width,i.canvas.height),this.origin=new t.Point,this.dest=new t.Point,this.relativePos=new t.Point};return e.prototype={constructor:e,bgImg:null,bgRect:null,origin:null,dest:null,arrow:!1,active:!1,linePainted:!1,arrowLength:10,arrowAngle:Math.PI/6,lineColor:"black",xorColor:"white",compositeOp:"difference",DEFAULT_COMPOSITE_OP:"source-over",relativePos:null,bx:null,ctx:null,dim:null,parent:null,lineWidth:1.5,moveBy:function(e,i){this.moveTo(t.Point(this.dest.x+e,this.dest.y+i))},moveTo:function(e,i){if(this.active&&(i||!this.dest.equals(e))){this.bgRect&&(this.bgImg?this.ctx.putImageData(this.bgImg,0,0,this.bgRect.pos.x,this.bgRect.pos.y,this.bgRect.dim.width,this.bgRect.dim.height):this.parent&&this.parent.updateContent()),this.dest.moveTo(e);var n=new t.Point(this.origin.x-this.relativePos.x,this.origin.y-this.relativePos.y);this.bgRect=new t.Rectangle(n,this.bx?this.bx.dim:new t.Dimension);var r=new t.Point(e.x-this.relativePos.x,e.y-this.relativePos.y);this.bgRect.add(new t.Rectangle(r,this.bx?this.bx.dim:new t.Dimension)),this.bgRect.grow(10,10),null!==this.bx?(this.bx.moveTo(new t.Point(e.x-this.relativePos.x,e.y-this.relativePos.y)),this.bx.setTemporaryHidden(!1),this.bx.update(this.ctx,null),this.bx.setTemporaryHidden(!0)):(this.drawLine(),this.linePainted=!0)}},begin:function(t,e){this.active&&this.end(),this.origin.moveTo(t),this.dest.moveTo(t),this.linePainted=!1,this.active=!0,e&&(this.bx=e,this.relativePos.moveTo(t.x-e.pos.x,t.y-e.pos.y),this.bx.setFocused(!0),this.bx.setTemporaryHidden(!0),this.linePainted=!1,this.parent.invalidate().update());try{this.bgImg=this.ctx.getImageData(0,0,this.dim.width,this.dim.height)}catch(t){this.bgImg=null}this.bgRect=null,e&&this.moveTo(t,!0)},end:function(){this.active&&(this.active=!1,this.linePainted=!1,this.bgRect=null,this.bgImg=null,this.bx&&(this.bx.setFocused(!1),this.bx.moveTo(this.origin.x-this.relativePos.x,this.origin.y-this.relativePos.y),this.bx.setTemporaryHidden(!1),this.bx=null,this.relativePos.moveTo(0,0)),this.ctx.clearRect(0,0,this.dim.width,this.dim.height),this.parent.invalidate().update())},drawLine:function(){if("source-over"!==this.compositeOp?(this.ctx.strokeStyle=this.xorColor,this.ctx.globalCompositeOperation=this.compositeOp):this.ctx.strokeStyle=this.lineColor,this.ctx.lineWidth=this.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(this.origin.x,this.origin.y),this.ctx.lineTo(this.dest.x,this.dest.y),this.ctx.stroke(),this.arrow){var e=Math.atan2(this.origin.x-this.dest.x,this.dest.x-this.origin.x),i=new t.Point(this.dest.x-this.arrowLength*Math.cos(e+this.arrowAngle),this.dest.y+this.arrowLength*Math.sin(e+this.arrowAngle));this.ctx.beginPath(),this.ctx.moveTo(this.dest.x,this.dest.y),this.ctx.lineTo(i.x,i.y),this.ctx.stroke(),i.moveTo(this.dest.x-this.arrowLength*Math.cos(e-this.arrowAngle),this.dest.y+this.arrowLength*Math.sin(e-this.arrowAngle)),this.ctx.beginPath(),this.ctx.moveTo(this.dest.x,this.dest.y),this.ctx.lineTo(i.x,i.y),this.ctx.stroke()}"source-over"!==this.compositeOp&&(this.ctx.globalCompositeOperation="source-over")}},e}(t("../AWT"))},{"../AWT":127}],172:[function(t,e,i){e.exports=function(t,e,i,n,r){var s=function(t,i,r,s,o,a,c,l,u,h){n.call(this,t,i,r),this.pos.x=s,this.pos.y=o,this.nCols=Math.max(1,a),this.nRows=Math.max(1,c),this.cellWidth=Math.max(l,this.defaults.MIN_CELL_SIZE),this.cellHeight=Math.max(u,this.defaults.MIN_CELL_SIZE),this.dim.width=l*this.nCols,this.dim.height=u*this.nRows,this.setChars(" "),this.preferredBounds=new e.Rectangle(this.pos,this.dim),this.setBorder(h);var d=this;this.cursorTimer=new e.Timer(function(){d.blink(0)},500,!1),this.cursorEnabled=!1,this.useCursor=!1,this.wildTransparent=!1,this.cursor=new e.Point};return s.createEmptyGrid=function(t,e,i,n,r,o){var a=new s(t,e,r.bb,i,n,r.ncw,r.nch,r.w,r.h,r.border);return a.wild=r.wild,a.randomChars=r.randomChars,a.wildTransparent=o,a},s.prototype={constructor:s,nRows:1,nCols:1,chars:null,answers:null,attributes:null,cellWidth:20,cellHeight:20,preferredBounds:null,wild:r.prototype.wild,randomChars:r.prototype.randomChars,cursorEnabled:!1,useCursor:!1,cursor:null,cursorBlink:!1,cursorTimer:null,wildTransparent:!1,defaults:{MIN_CELL_SIZE:12,DEFAULT_CELL_SIZE:20,MIN_INTERNAL_MARGIN:2},flags:{NORMAL:0,INVERTED:1,HIDDEN:2,LOCKED:4,MARKED:8,TRANSPARENT:16},setChars:function(t){this.chars=[],this.answers=[],this.attributes=[];for(var e=0;e<this.nRows;e++){var i=e<t.length?t[e]:"";this.chars[e]=i.split(""),this.answers[e]=[],this.attributes[e]=[];for(var n=0;n<this.nCols;n++)n>=i.length&&(this.chars[e][n]=" "),this.answers[e][n]=this.chars[e][n],this.attributes[e][n]=this.flags.NORMAL}},randomize:function(){for(var t=0;t<this.nRows;t++)for(var e=0;e<this.nCols;e++)this.chars[t][e]===this.wild&&(this.chars[t][e]=this.randomChars.charAt(Math.floor(Math.random()*this.randomChars.length)))},setCellAttributes:function(t,e){var i=this.flags.LOCKED;this.wildTransparent?i|=this.flags.TRANSPARENT:i|=this.flags.INVERTED|this.flags.HIDDEN;for(var n=0;n<this.nRows;n++)for(var r=0;r<this.nCols;r++)t&&this.chars[n][r]===this.wild?this.attributes[n][r]=i:(this.attributes[n][r]=this.flags.NORMAL,e&&(this.chars[n][r]=" "))},setCellLocked:function(t,e,i){t>=0&&t<this.nCols&&e>=0&&e<this.nRows&&(this.attributes[e][t]=i?this.flags.LOCKED|(this.wildTransparent?this.flags.TRANSPARENT:this.flags.INVERTED|this.flags.HIDDEN):this.flags.NORMAL)},getItemFor:function(t,i){if(!this.isValidCell(t,i))return null;var n,r,s=new e.Point,o=!1,a=!1;for(n=0;n<t;n++)0!=(this.attributes[i][n]&this.flags.LOCKED)?o||(a&&s.x++,o=!0):(a=!0,o=!1);for(o=!1,a=!1,r=0;r<i;r++)0!=(this.attributes[r][t]&this.flags.LOCKED)?o||(a&&s.y++,o=!0):(a=!0,o=!1);return s},setCursorEnabled:function(t){this.cursorEnabled=t,!0===t?this.startCursorBlink():this.stopCursorBlink()},startCursorBlink:function(){this.useCursor&&this.cursorEnabled&&this.cursorTimer&&!this.cursorTimer.isRunning()&&(this.blink(1),this.cursorTimer.start())},stopCursorBlink:function(){this.cursorTimer&&this.cursorTimer.isRunning()&&(this.cursorTimer.stop(),this.blink(-1))},moveCursor:function(t,e,i){if(this.useCursor){var n=this.findNextCellWithAttr(this.cursor.x,this.cursor.y,i?this.flags.LOCKED:this.flags.NORMAL,t,e,!1);this.cursor.equals(n)||this.setCursorAt(n.x,n.y,i)}},findFreeCell:function(t,i,n){var r=null;if(t&&(0!==i||0!==n))for(var s=new e.Point(t);null===r&&(s.x+=i,s.y+=n,!(s.x<0||s.x>=this.nCols||s.y<0||s.y>=this.nRows));)this.getCellAttribute(s.x,s.y,this.flags.LOCKED)||(r=s);return r},findNextCellWithAttr:function(t,i,n,r,s,o){for(var a=new e.Point(t+r,i+s);;){if(a.x<0?(a.x=this.nCols-1,a.y>0?a.y--:a.y=this.nRows-1):a.x>=this.nCols&&(a.x=0,a.y<this.nRows-1?a.y++:a.y=0),a.y<0?(a.y=this.nRows-1,a.x>0?a.x--:a.x=this.nCols-1):a.y>=this.nRows&&(a.y=0,a.x<this.nCols-1?a.x++:a.x=0),a.x===t&&a.y===i||this.getCellAttribute(a.x,a.y,n)===o)break;a.x+=r,a.y+=s}return a},setCursorAt:function(t,e,i){this.stopCursorBlink(),this.isValidCell(t,e)&&(this.cursor.x=t,this.cursor.y=e,this.useCursor=!0,i&&this.getCellAttribute(t,e,this.flags.LOCKED)?this.moveCursor(1,0,i):this.cursorEnabled&&this.startCursorBlink())},setUseCursor:function(t){this.useCursor=t},getCursor:function(){return this.cursor},countCharsLike:function(t){var e,i,n=0;for(i=0;i<this.nRows;i++)for(e=0;e<this.nCols;e++)this.chars[i][e]===t&&n++;return n},getNumCells:function(){return this.nRows*this.nCols},countCoincidences:function(t){var e,i,n=0;if(this.answers)for(i=0;i<this.nRows;i++)for(e=0;e<this.nCols;e++)this.isCellOk(e,i,t)&&n++;return n},isCellOk:function(t,e,i){var n,r,s=!1;return this.isValidCell(t,e)&&(n=this.chars[e][t])!==this.wild&&(n===(r=this.answers[e][t])||!i&&n.toUpperCase()===r.toUpperCase())&&(s=!0),s},getLogicalCoords:function(t){if(!this.contains(t))return null;var i=Math.floor((t.x-this.pos.x)/this.cellWidth),n=Math.floor((t.y-this.pos.y)/this.cellHeight);return this.isValidCell(i,n)?new e.Point(i,n):null},isValidCell:function(t,e){return t<this.nCols&&e<this.nRows&&t>=0&&e>=0},setCharAt:function(t,e,i){this.isValidCell(t,e)&&(this.chars[e][t]=i,this.repaintCell(t,e))},getCharAt:function(t,e){return this.isValidCell(t,e)?this.chars[e][t]:" "},getStringBetween:function(t,e,i,n){var r,s,o,a,c="";if(this.isValidCell(t,e)&&this.isValidCell(i,n)&&(s=i-t,o=n-e,0===s||0===o||Math.abs(s)===Math.abs(o)))for((a=Math.max(Math.abs(s),Math.abs(o)))>0&&(s/=a,o/=a),r=0;r<=a;r++)c+=this.getCharAt(t+s*r,e+o*r);return c},setAttributeBetween:function(t,e,i,n,r,s){if(this.isValidCell(t,e)&&this.isValidCell(i,n)){var o=i-t,a=n-e;if(0===o||0===a||Math.abs(o)===Math.abs(a)){var c=Math.max(Math.abs(o),Math.abs(a));c>0&&(o/=c,a/=c);for(var l=0;l<=c;l++)this.setAttribute(t+o*l,e+a*l,r,s)}}},setAttribute:function(t,e,i,n){this.isValidCell(t,e)&&(this.attribute!==this.flags.MARKED||n||this.repaintCell(t,e),this.attributes[e][t]&=~i,this.attributes[e][t]|=n?i:0,(i!==this.flags.MARKED||n)&&this.repaintCell(t,e))},setAllCellsAttribute:function(t,e){for(var i=0;i<this.nRows;i++)for(var n=0;n<this.nCols;n++)this.setAttribute(n,i,t,e)},getCellAttribute:function(t,e,i){return!!this.isValidCell(t,e)&&0!=(this.attributes[e][t]&i)},getCellRect:function(t,i){return new e.Rectangle(this.pos.x+t*this.cellWidth,this.pos.y+i*this.cellHeight,this.cellWidth,this.cellHeight)},getCellBorderBounds:function(t,e){var i=this.getCellAttribute(t,e,this.flags.MARKED);if(!this.border&&!i)return this.getCellRect(t,e);var n=this.getBoxBaseResolve(),r=i?n.markerStroke:n.borderStroke;return this.getCellRect(t,e).grow(r.lineWidth,r.lineWidth)},repaintCell:function(t,e){this.container&&this.container.invalidate(this.getCellBorderBounds(t,e)).update()},getPreferredSize:function(){return this.preferredBounds.dim},getMinimumSize:function(){return new e.Dimension(this.defaults.MIN_CELL_SIZE*this.nCols,this.defaults.MIN_CELL_SIZE*this.nRows)},getScaledSize:function(t){return new e.Dimension(i.roundTo(t*this.preferredBounds.dim.width,this.nCols),i.roundTo(t*this.preferredBounds.dim.height,this.nRows))},setBounds:function(t,e,i,r){n.prototype.setBounds.call(this,t,e,i,r),this.cellWidth=this.dim.width/this.nCols,this.cellHeight=this.dim.height/this.nRows},updateContent:function(t,i){var n=this.getBoxBaseResolve();t.font=n.font.cssFont(),t.textBaseline="hanging",n.prepareText(t,"W",this.cellWidth-2*this.defaults.MIN_INTERNAL_MARGIN,this.cellHeight-2*this.defaults.MIN_INTERNAL_MARGIN);var r,s,o,a,c,l,u,h,d,f,p=[];for(f=(this.cellHeight-n.font.getHeight())/2,d=0;d<this.nRows;d++)for(h=0;h<this.nCols;h++)if(this.getCellBorderBounds(h,d).intersects(i)&&0==((r=this.attributes[d][h])&this.flags.TRANSPARENT)){if(o=0!=(r&this.flags.INVERTED),s=0!=(r&this.flags.MARKED),a=this.useCursor&&this.cursor.x===h&&this.cursor.y===d,c=this.getCellRect(h,d),t.fillStyle=a&&this.cursorBlink?n.inactiveColor:o?n.textColor:n.backColor,c.fill(t),t.strokeStyle="black",0==(r&this.flags.HIDDEN)&&(p[0]=this.chars[d][h],p[0])){if(l=c.pos.x+(this.cellWidth-t.measureText(p[0]).width)/2,u=c.pos.y+f,n.shadow){var g=Math.max(1,n.font.size/10);t.fillStyle=n.shadowColor,t.fillText(p[0],l+g,u+g)}t.fillStyle=o?n.backColor:this.isAlternative()?n.alternativeColor:n.textColor,t.fillText(p[0],l,u)}(this.border||s)&&(t.strokeStyle=n.borderColor,n[s?"markerStroke":"borderStroke"].setStroke(t),s&&(t.globalCompositeOperation="xor"),c.stroke(t),s&&(t.globalCompositeOperation="source-over")),t.strokeStyle="black",e.Stroke.prototype.setStroke(t)}return!0},blink:function(t){this.useCursor&&(this.cursorBlink=1===t||-1!==t&&!this.cursorBlink,this.repaintCell(this.cursor.x,this.cursor.y))},end:function(){this.cursorTimer&&(this.cursorTimer.stop(),this.cursorTimer=null)}},s.prototype=t.extend(Object.create(n.prototype),s.prototype),s}(t("jquery"),t("../AWT"),t("../Utils"),t("./AbstractBox"),t("./TextGridContent"))},{"../AWT":127,"../Utils":134,"./AbstractBox":163,"./TextGridContent":173,jquery:51}],173:[function(t,e,i){e.exports=function(t,e,i){var n=function(){this.bb=new i(null),this.text=[]};return n.prototype={constructor:n,ncw:1,nch:1,w:20,h:20,border:!1,bb:null,text:null,wild:"*",randomChars:e.settings.RANDOM_CHARS,setProperties:function(n){var r=this;t.each(n.get(0).attributes,function(){var t=this.name,i=this.value;switch(t){case"rows":r.ncw=Number(i);break;case"columns":r.nch=Number(i);break;case"cellWidth":r.w=Number(i);break;case"cellHeight":r.h=Number(i);break;case"border":r.border=e.getBoolean(i);break;case"wild":case"randomChars":r[t]=i}}),n.children("style:first").each(function(){r.bb=(new i).setProperties(t(this))}),n.find("text:first > row").each(function(){r.text.push(this.textContent)});for(var s=r.text.length;s<r.nch;s++)r.text[s]="";return this},countWildChars:function(){var t=0;if(this.text)for(var e=0;e<this.nch;e++)for(var i=0;i<this.ncw;i++)this.text[e].charAt(i)===this.wild&&t++;return t},getNumChars:function(){return this.ncw*this.nch},setCharAt:function(t,e,i){t>=0&&t<this.ncw&&e>=0&&e<this.nch&&(this.text[e]=this.text[e].substring(0,t)+i+this.text[e].substring(t+1))}},n}(t("jquery"),t("../Utils"),t("./BoxBase"))},{"../Utils":134,"./BoxBase":170,jquery:51}],174:[function(t,e,i){e.exports=function(t,e,i){var n={checkPreferredLanguage:function(t,e,i){var n=-1,r=[];i&&r.push(i),window.navigator.languages&&(r=r.concat(window.navigator.languages)),window.navigator.language&&r.push(window.navigator.language),r.push(e||"en");for(var s=0;s<r.length;s++){var o=-1;for(var a in t)if(0===r[s].indexOf(t[a])&&(o=a,r[s]===t[a])){n=a;break}if(n>=0||(n=o)>=0)break}return t[n>=0?n:0]},init:function(r){t.init({nsSeparator:!1,keySeparator:!1,fallbackLng:"en",lng:n.checkPreferredLanguage(e.languages,"en",r.options.lang),resources:{en:{translation:{}},ca:{translation:e.messages.ca},"ca_ES@valencia":{translation:e.messages["ca_ES@valencia"]},es:{translation:e.messages.es}}},function(t,n){t?i.log("error",'Error initializing "i18next": %s',t.message):(i.getMsg=r.getMsg=n,r.JClicVersion=e.version)})}};return n}(t("i18next"),t("./GlobalData"),t("./Utils"))},{"./GlobalData":130,"./Utils":134,i18next:45}],175:[function(t,e,i){e.exports=function(t,e){var i=function(){this.players=[]};return i.prototype={constructor:i,players:[],createActiveMediaPlayer:function(i,n,r){var s=null;switch(i.mediaType){case"RECORD_AUDIO":if(i.length<=0||i.length>=e.settings.MAX_RECORD_LENGTH)break;case"PLAY_RECORDED_AUDIO":if(i.recBuffer<0||i.recBuffer>=10)break;case"PLAY_AUDIO":case"PLAY_MIDI":case"PLAY_VIDEO":s=new t(i,n,r)}return null!==s&&this.players.push(s),s},getActiveMediaPlayer:function(t,e,i){for(var n=null,r=0;r<this.players.length&&((n=this.players[r]).mc!==t&&!n.mc.isEquivalent(t));r++)n=null;return null===n&&(n=this.createActiveMediaPlayer(t,e,i)),n},removeActiveMediaPlayer:function(t){var e,i=null;for(e=0;e<this.players.length&&(i=this.players[e]).mc!==t;e++)i=null;null!==i&&(i.clear(),this.players.splice(e,1))},realizeAll:function(){for(var t=0;t<this.players.length;t++)this.players[t].realize()},stopAll:function(t){void 0===t&&(t=-1);for(var e=0;e<this.players.length;e++){var i=this.players[e];(-1===t||null!==i.mc&&i.mc.level<=t)&&i.stop()}},removeAll:function(){for(var e=0;e<this.players.length;e++)this.players[e].clear();this.players.length=0,t.prototype.clearAllAudioBuffers()}},i}(t("./ActiveMediaPlayer"),t("../Utils"))},{"../Utils":134,"./ActiveMediaPlayer":176}],176:[function(t,e,i){e.exports=function(t,e){var i=function(t,n,r){switch(this.mc=t,this.ps=r,t.mediaType){case"RECORD_AUDIO":i.AUDIO_BUFFERS&&(this.clearAudioBuffer(t.recBuffer),i.AUDIO_BUFFERS[t.recBuffer]=new e(t.length));case"PLAY_RECORDED_AUDIO":this.useAudioBuffer=!0;break;case"PLAY_AUDIO":case"PLAY_VIDEO":var s=t.mediaFileName;this.mbe=n.getElement(s,!0)}};return i.REC_ENABLED="undefined"!=typeof MediaRecorder&&"undefined"!=typeof navigator,i.REC_ENABLED&&(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia),i.AUDIO_BUFFERS=i.REC_ENABLED?[]:null,i.prototype={constructor:i,mc:null,ps:null,bx:null,$visualComponent:null,useAudioBuffer:!1,mbe:null,realize:function(){if(this.mbe){var e=this;this.mbe.build(function(){this.data.pause&&this.data.pause(),"video"!==this.type&&"anim"!==this.type||!this.data||(e.$visualComponent=t(this.data),e.$visualComponent.css("z-index",20))})}},playNow:function(e){if(this.useAudioBuffer){if(i.AUDIO_BUFFERS){var n=i.AUDIO_BUFFERS[this.mc.recBuffer];n&&("RECORD_AUDIO"===this.mc.mediaType?n.record():n.play())}}else if(this.mbe){var r=this;this.mbe.build(function(){var e=!1,i=this.data,n=t(i);n.off(),r.mc.to>0&&n.on("timeupdate",function(){e&&i.currentTime>=r.mc.to/1e3&&(n.off("timeupdate"),i.pause())});var s=r.mc.from>0?r.mc.from/1e3:0;e=!0,i.pause(),i.currentTime=s,i.play()})}},play:function(t){this.stopAllAudioBuffers(),this.playNow(t)},stop:function(){this.useAudioBuffer?this.stopAudioBuffer(this.mc.recBuffer):this.mbe&&this.mbe.data&&!this.mbe.data.paused&&this.mbe.data.pause&&this.mbe.data.pause()},clear:function(){this.stop(),this.useAudioBuffer&&this.clearAudioBuffer(this.mc.recBuffer)},clearAudioBuffer:function(t){i.AUDIO_BUFFERS&&t>=0&&t<i.AUDIO_BUFFERS.length&&i.AUDIO_BUFFERS[t]&&(i.AUDIO_BUFFERS[t].clear(),i.AUDIO_BUFFERS[t]=null)},clearAllAudioBuffers:function(){if(i.AUDIO_BUFFERS)for(var t=0;t<i.AUDIO_BUFFERS.length;t++)this.clearAudioBuffer(t)},countActiveBuffers:function(){var t=0;if(i.AUDIO_BUFFERS)for(var e=0;e<i.AUDIO_BUFFERS.length;e++)i.AUDIO_BUFFERS[e]&&t++;return t},stopAllAudioBuffers:function(){if(i.AUDIO_BUFFERS)for(var t=0;t<i.AUDIO_BUFFERS.length;t++)i.AUDIO_BUFFERS[t]&&i.AUDIO_BUFFERS[t].stop()},stopAudioBuffer:function(t){i.AUDIO_BUFFERS&&t>=0&&t<i.AUDIO_BUFFERS.length&&i.AUDIO_BUFFERS[t]&&i.AUDIO_BUFFERS[t].stop()},checkVisualComponentBounds:function(t){},setVisualComponentVisible:function(t){},linkTo:function(t){this.bx=t,this.bx&&this.$visualComponent&&this.bx.setHostedComponent(this.$visualComponent)}},i}(t("jquery"),t("./AudioBuffer"))},{"./AudioBuffer":177,jquery:51}],177:[function(t,e,i){e.exports=function(t){var e=function(t){t&&(this.seconds=t),this.chunks=[]};return e.MAX_RECORD_LENGTH=20,e.prototype={constructor:e,seconds:e.MAX_RECORD_LENGTH,mediaRecorder:null,chunks:null,mediaPlayer:null,timeoutID:null,playWhenFinished:!1,play:function(){this.stop(),this.mediaPlayer?(this.mediaPlayer.currentTime=0,this.mediaPlayer.play()):this.playWhenFinished=!0},stop:function(){this.mediaRecorder&&"recording"===this.mediaRecorder.state?this.mediaRecorder.stop():this.mediaPlayer&&!this.mediaPlayer.paused&&this.mediaPlayer.pause()},record:function(){if(this.mediaRecorder&&"recording"===this.mediaRecorder.state)this.mediaRecorder.stop();else{this.stop();var e=this;this.mediaPlayer=null,navigator.getUserMedia({audio:!0},function(i){e.mediaRecorder=new MediaRecorder(i),e.mediaRecorder.ondataavailable=function(t){e.chunks.push(t.data)},e.mediaRecorder.onerror=function(i){t.log("error","Error recording audio: %s",i),e.mediaRecorder=null},e.mediaRecorder.onstart=function(){t.log("debug","Recording audio started")},e.mediaRecorder.onstop=function(){t.log("debug","Recording audio finished"),e.timeoutID&&(window.clearTimeout(e.timeoutID),e.timeoutID=null);var i={};e.chunks.length>0&&e.chunks[0].type&&(i.type=e.chunks[0].type);var n=new Blob(e.chunks,i);e.chunks=[],e.mediaPlayer=document.createElement("audio");var r=URL.createObjectURL(n);e.mediaPlayer.src=r,e.mediaPlayer.pause(),e.mediaRecorder=null,e.playWhenFinished&&(e.playWhenFinished=!1,e.mediaPlayer.play())},e.mediaRecorder.onwarning=function(e){t.log("warn","Warning recording audio: %s",e)},e.playWhenFinished=!1,e.mediaRecorder.start(),e.timeoutID=window.setTimeout(function(){e.mediaRecorder&&e.mediaRecorder.stop()},1e3*e.seconds)},function(e){t.log("error","Error recording audio: %s",e)})}},clear:function(){this.stop(),this.mediaPlayer=null}},e}(t("../Utils"))},{"../Utils":134}],178:[function(t,e,i){e.exports=function(t,e,i){var n=function(e){if(e){this.elements={};var i=this.elements;t.each(e.elements,function(t,e){i[t]=e})}};return n.prototype={constructor:n,eventSoundsParent:null,elements:{},enabled:i.DEFAULT,globalEnabled:!0,setProperties:function(i){var n=this.elements;return i.children().each(function(){var i=this.getAttribute("id");n[i]=new e(i),n[i].setProperties(t(this))}),this},realize:function(e,i){t.each(this.elements,function(t,n){n.realize(e,i)})},play:function(t){var e=this.elements[t];e&&e.play()},resources:{start:"data:audio/mp3;base64,//NAxAARGk5RdUEQANIEZEBAPGPyIAAYAKMY/6EaQn8hP+c/yEb//kITU7oc9Cf6nPnPoT/8nQhCKEEEnDizkAwM8ThYH1Bj/EAYEhyUGghyivv7fn0vtsLdYI0CiTQE+aaqfH3BW37/80LEFhl6nvZfj1ACplLtsfx19gOQfBp7iHeEWRj8WxiLLI6khikjEI9IvsePycfERCSpPJ9s95IbO1O/tRX70XQiOGX+n+hmeb+aMirKxN/IibInf//G3K9PVym7NoL/W2usCkcMT5T/80DEDBcivuJd0lADkXMLoGxcA7ENhPlAY8LMK280iLkhQq80ojkRQCwz/rEsTjjTlMPMu3RWZ2c3dmONON0NVDzDzDzP79Y9PFg9v//oqi4hHyp+7HGl2b///I8VcYAAls9qrCT1Mv/zQsQKFsrCvlzLRNa/FN/jd/HUrGLUa8tKonzDK8+t55alG5sbKYilBExD8Id1ugmp+eKIdSplGpaoxNZiznEU/J9KJmUsqBzPVjJ/+Aif//71QCdv+gE7f//6gICqPAAci1sbgH8/G//zQMQKFfF2qb9ZaAKU9PlY3uHFsAqAXfgZvyyhtTM2fC1zH/8+tFlslODFHjTHsClFqSTfprRCxdzMcppQ8yHsbbEkzpoLvZFBnWt1GBa/+8se/+SPdQe//FIIsAAAba7YbC65AQAf//NCxA0XMh6xv5OIAEIz0mVENAJ0DbwIQjpGYFNAvTSI1ePBuh+MwYk+xib0DA/K5YQadIk+o0Z0UyLmiv+h5bMD1Ro3/3/TSUggmu/+v/7KNL03CcLAh//5dpCqkltAAAqFFpldqAHI//NAxAwXGl7aXYxoABm/nTyF8EwhIPY/DSOKUIQ2WXUzAlFDQXzyRCXBUNUk33XoqQNhyeltWFUL6CKTImv7/vSZNZw0MP6v/v2oFQ5EUR7/1SVyb//E7FkIn9f9NXWQAg47vXRBbzv/80LEChbaYs5f2IAC9rPHK1z/yygqmvwSoaAGvNLr9jCagdVUGyxOpVqpp79lJPf9ZNEttWXTUvf/9azMUgOcZrZPMThF00d7//v///9SnpUlpJJJJJFeLhp3///yKi4QAHWdrdQE07P/80DEChTJvrI+Ro6Oalhjl3DYQyyMpMHHcIbTFNlqYvp6GKBJBYZ89G+PKyt/Q4oCbx9z9b//80CTA+F3zTlSqOz6G0PoVCIItC3/CnwN/xZAvcr/99VSIAEKz7+UABhWz01LyctXJv/zQsQRE5nOvl4WFHISWA9Ybn87+VaIKzA0kk7n33/KHo6qv1QKoNjMTHtX//ocaRCuGg2MP8jbueS9WIWU3NPcenOEv/CbcsVAKiIkATNv/9QAb60qFitrzbcZQ+ixX7169gCfAOpwHf/zQMQeE+Fasl4T0HJRrdobjyh8XBKr80WAqJQaiQPhY7vmJ4///ppkOhOaLMDbgVOwVdYt0SgqM/4hBQO+qglKQAFQM0aPnrrVvpRJLyCYt2amWVGBpcJrSl6ypI4hgoMQk5Di+Yv3//NCxCkP+IpANGYehC+92dkrPJ/1a+z+3/r/sL/6f+6G7BotKqkVeDWsJLMDPP8pf2a4///Jf+VgHuRkfn85h7MIeAY9RE3ZM3IRTyUaGvCJpep52lDPb0nCY5xRqRkEWzDKgw+8Ftdp//NAxEUS42YhgAhHHAG9ZCQjo0VONppYbQStB6qWUv5f591O8bze0/3y//62eUqnWzSn9vNsnOBzK8TN6urr6bcxGukbeqNZjuyIMO5FREnqzI6SVZVcahzgpCwMa561B4M8zjedy6v/80LEVBI7ViYoCEsdN5b7kv/+Rsub5P/X6yz0/JdhcZdZl+/hII/xFYdTSmc0ck3O0055fkc2R+ZgsyZsEagnMwRqkK1xle//6iZh/ITJmiF/yEKT4QyEKEP8hMQl/mNYxv+hn/lKZyn/80DEZxEbPiWICEc9StmmMZW0r1KXR/qYxnX0UpWMZAxQFqoapnCiQwqxihWDAQEBAQEKE6mZGZGTTMiMjTWZHa/aZkZlTRGXojIzL///////8yP85/5k1lspGrWRyNWCggYME4kGJf/zQsR9EkNiDAAARN1MNUkqTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/zQMSQDcslQAoAR1mqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",click:"data:audio/mp3;base64,//NAxAASsyJgIUEQAY///gX8///yfyHO/8hCEafoRp3nPQgAAEUAABBCEIT//QhCKQhNGyEIQhCNITU5//OQhCN7f/yEZQAAIynOc5CEIhGnABGY/4gAIQZ4h4h4d3Z2Z9Jba5XWhWP/80LEEBhJOxcfiUAC9BEda+oiKFQsViiMpvHFC98pLjySjUNeKoYxMpwIT21HmHlEhx83A9K5vDAuZUQxzq7nJPgEVWKQZ1Iu5oJH3UpGObWV/MfAgLC4Z/yhP/ULKnqHd/syOQenhOL/80DEChZpZs7rzBgAT3bBWub0T/xNtn9nY5bvQdCA0TvnpXNC7EJ3iRPtebJ//7xK4IAqIii2AKbfkBAJxATDLN7wiUGv6VANBNjqQwGCayGoaBAJaNC79/z5wP2IuJbfZsNFgBVo7P/zQsQLF0lGxvRJhlQVDyEmYldHXJGadquTRs6aYmq9VY1hqqt6xmqts2zGTvGNrl+u1IMBHREJREbkpaFQkFRoa2FYSDvBp6DwSf1lgFqfkQ0JcRCYlKxKg0eEw8sKqgaEogGBH3EZpv/zQMQJEyEudaoIBoAf+HV2UBjoOsP2/IwrkezQ1Y4e2wVxgxlVAqDQUSRUBRU6LrBY1lvxEdUBWBIOnZWOCrvlVnTsltWNOqPP4seUBcKgKpW44m3GkHLjaBS4ohHZdTGi6FXXVo6+//NCxBcNYAYyWAhEAJ3U+j3uXdl1z1Du30fCySCGablvUTrhwggLTomAAmrWsmWY9ym89ZcvlwX/zf+a95ZLwXOar/LNrJ60LUl25Hs58yKRWIjSbt9DCIs0UtF/TOlm2cyNTpKysuCB//NAxD0Rw1YliAhHPdmd9nYYQOsGCgAfmqIAXlnhbNZeUBQvyL/y6NlP/r1LLlEiSPL/7lE9SirM5zxZEwCseMDL330yrtl8/8jJs6mt5dTloYsvNSGbmTkYQhpVpRpCG1yr9YSfr1b/80LEURFLZiWQCEc8v/rLXPzys+Z9z8v+H9qyCMpGLn3bla9qtcxYZXk9cbOUjb8t0q2ytz79ImM1R0ht3QdWK11myihIpt8SZBRAlbWq3CDpDKWUte/VHgJDH6k+lsqSPbRj+pHWWrL/80DEZxKjYh2ICIfhxIKhMBeLPjgKlFRIKjCxIKjCukkFAKCSCxFtgTAQFIkisqIg2EngUVFg8FQCQUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsR3EnAF9kgARgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",actionOk:"data:audio/mp3;base64,//NAxAAT+gKmPUFoAI81KAANYQZECuQAASjAD820006kC+buYDgGEGEKIcsCYAUQYA6JeI2JmS5wcY5yXL6b1IJpp6kG////9X+h/oaaaadAvpvBA5/9QIDQQOQ+cbQllsQQAKTggvn/80LECxdCcupdjFACwA8cFoNFZuosRJUe3E48kEhWIRueePjSdR4T9XMQ4SwB/BZ1GQNAtHHOPzOFryImV2zlb//rZV/6MYp56IY00sPgvi5vp1NN///3Q4ZlSUVV6wAAHLn//b/+Bv3/80DEChbo7s5fmGgA8cDgPEdPslrmVdkwdsV66+p2vZktFECYbF0sxMc6XTyGfU7omIDWqTLdIdocopcSHkqkN/1OLnGEiTI5lQIHz6F//h8+Aw////SWn6Ai////RQCALJttttthGP/zQsQJFgLXBl+PUAJpUBpuDr/a/Bn7vbuBpTSaJu9C26HLGnV05pymMa+52rjwoQl9HX5xkseQEWn/zR+C+CGcTN1IQsr/O/6N///////zyotv//Ulb+WNu/4a/G/DAGASAsBQ86QpAv/zQMQNFyqWqFWaUACorGJ3w70JwQXdB1Iw8FBR6w8BkLlXmCwSQKbRFEDGyFEFw/LiWNeT8eOSG/++3///5oEpv5wrF/RmoYsz////+yuLZ55GT//yosfyqj5gugANMBv///+Bt0Bw//NCxAsWul7hv49QAIAcsuZ3XnIKHgXVwYS+wjbgGuEvA8WjfAsaQmNk2QkZh5517ceH7uZegsm5y///0VTDzzDz09dev/6IIMKcL8i/5CSjE3/oqRMBZpmk7R/RgAAbjwkkcZrZNKRG//NAxAwW4j6pudpoAwwbDspelxARGBQ5l21KTHGz7RkyVSuLZ5l3/S9SQ1CutfuvPzIvF4HUFzRXNkiXJVH+pv//mvMTVRJGyT6S29LRao2Wqj///UbLJxLHVPBVD9SWyADnc5p6REf/80LECxb6Uoxe3A7SY0MyGLYtINLEx4dXVEEvywRGZ7pcZEtrkjRpam6yOArCCRZNX/W3WOoGKq04z/0I/nt/UCYZf6GfovMahvTn21oZ7KnY4oNhuRFQuLsBID8cKC5qSQAC9j29EzH/80DECxNZYoT+xuAyRLbuBA8WRBNAN0Eq+mboAV7G62xjgCvi7cM0Ov1kOELDyoy/75RGdB8iaMZJ//S9SaPWe8oonsV4o5NO40K5FG2xNQZo78WcFOwcZjQQYvlIW6mGkh0f0ZiOBv/zQsQYE8jiVBDfVogDF7hUFzGQhTgpeTFkKEeXlL8syjVHZ03ZCDR2nSxR7Pq7np3LRaHB9adBZ07r018kdy3tjTX1KiSqekjtoMGlaAKNEYCZkOHzpZziA0FmwmEDZhMwfvxGWFAY3P/zQMQkE5DaRAjW1ohECprRK1TRrKRtJsNpyJrNfLvndF7g+gSnAyt351B5obyX8r/u//////rqgBmlYGs01hNdBQpEQyNoHhEMuUtgytPS01oLy0hu6NVNabzryYxwzfIqvKPaRFls//NCxDAQ+FYw8gjSKH7tHbMxfJlUtVpIB16SI0SEXBsf68/+/L//zfLll/nmj7F/1pcpZ/+Z3Ur5Eq5WpbM9MfPljxeb9Lamv/nXIuOSkVXJVRmzRxLpVUlMiBhOahamKCgmCgSwVXHX//NAxEgRU1YcAABGvSNI0Nzzp5SNpUj5aE3ZUqAvIkhEnnq1D3/yxFqrceAgEVIho8WKlhKVGBUJHjzvOh0JndVbtdYykkFQmdDoaDqCIaLKTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqr/80LEXRFYBf5ICEYAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",actionError:"data:audio/mp3;base64,//M4xAAUuVJUAUgYARcXFz4DgFAeKHAeChiIie7u+iaIibgYuAYGcTz3OIhf/Xd38v+J6J7u+gGBiw8P8PDw8PDHRw8/+O6GADo/h78BEQz8HAHh5+v+A4A6H/8AAEfIiZmZBXlicwVCsWj1//M4xAwYWvL/H4goAHY5EADTzSBEDUpfz/OhTMPGC+NAMWAgfAcAgHFSjhZD1PCRAUQFBjMUxMhGGuOVyndnXzvlH2dGLp+jbHsUykMTTFkX/+ror2841v+k//+MIOdv/GUVmvrpkGSqAYta//M4xAkXMsLmN89oAg/iwxc/bCcqY374+ZYv8ms1WUWQHQlTUFCJgbIjvMcd6K1m71G+ttB9Pt32bR6OptTZxtV0l/ov20P3b9/1/1f0dSCkh7FjKTdSRbQKiRLyBKFroXi7uP0CAvGOAWNk//M4xAsXwr7a/mPUwS+O1HXtgEWD0qvqiuk8xOG4QoqkAU5eFUIMYl8WHoK3Hcq2dx5p5fTjLvlFtLucF2SuaciHhslc4JhNnm5XU2pCS6c3n6+3/9GyFsk+xwWUQmSTumm7e5ggAEWsUBor//M4xAsXCrLXHntO7NUoPTkrtfAzt+Vmc1QDhdvOk4mMiMaxzG9AERpgbNKfJVp0/lfOvjfl9SWj5XpoXfIYVep7R0WTaUAGDj1IkMHy1Oyrfnfq2e37/22fJduLdKpFmVawABglJaFVG03L//M4xA0XurK+5HnLTJeQXpCP4L6DAO1L6jOnPOCx/wVBu4nAIHEgOCbXJbP5R/74hGiwND1iw7BYtTsqM6viJ1aoa14o/kdXwsdo2K6nxravl7al1/t+rUDz4J+IDtW7bbVAX+3gDwiUL8lI//M4xA0Xgq7qVnoO+zaBvGmHeGt1WGsEPh7RWPKQT82FEhiWLGeUlRHjRERFE6UUhhATy9J5Lcv+PM+axpVIkaHDqqvi+yUHdjW3sp2vTv+rav9F/Kt+Lm9QJFdnwrvt7SXHLLMAFKoGoNaO//M4xA4UurLyXkDFT5XYo5iQ9ckoWFh61037WowPpb5NVRWlrUmVVqxmNV/b6q+xuJVfY1VVXfDHvnL7TGOFMb6ifdZf0etaP//lZH6FbyuK5MUAYWLKUvoamjS5tZpdNnrWz2ASUXdsckcS//M4xBoUcVJ4IisMydfHkiAUZzmoyajzSOzOf1T9qlFq+ORkFFeC//HxXOxf/PKPG/CNxYO4+WKbl+Lv4VBQU6KKhP/K/+vK3+WXVv/9SobSZ1b/lb9SshjN9S/Upahjf/LMahjv6qx/DpAR//M4xCcS40IEABDN5DMaqqrVVVjWLGPjH7GpWZ/7dqr47Eq/7HQds4duAxGfzkjUTpoLSIv///qn///YxTAwQIGhyP/u7O/3P2eqNZ2k4so4sp2NFAYhnZ2couBNTEFNRTMuOTkuNVVVVVVV//M4xDoKqz1wDACNy1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",finishedOk:"data:audio/mp3;base64,//NAxAAQiXIEAUIQAPnfO/OdyAYGehP/U5Gqd+c/8785zoBi3QhCMpCVP+SpwM6AYGODH/8TvB+sPiMP5cMCcPygIAg7/lAff4IAgcBCD6ofD4diQbC0WaISi0SB3EAzA8WZgeALXg3/80LEGBoDGyZfglACgsRODRuWFcnMLm+eQEhRVQz5IePy5Icm/2Yn5GLY58hG3/J0JyAkq54WhVHosmkTmr//OYkIx+aejta5yObVf////fbcgJP/8oP//L/+w6tzSgKyRVuaO6jleQb/80DEDBdLJs4/2FABfMefV3NU1/Pu+MiMj5TGccdZM7mtR9poqDaj269WQ7clU5//OzTSgSRYFoL8eoeaaxhw+u9lq/9jn/NY7/3VPohqW+///////5ELQ+cqSm8F1QfSAHmkZP3Rz//zQsQJFgHCul9ZUACtuzlS2auXefrUxQUkTU+etjYpBz++SrehymLQlDIbPScu+uppsoFMTf/5uSiO7kpKKo1ONQ6/NbKkDv8iJj3OE/xEHRQl1Hv//4UPLBeWtoFTaaAttttstQEAgP/zQMQNF1PXDl+BUAJQhUAPuz0DJsKELcVBuf+NDz79ceCoSE/meeYSBfk6fQt91kZOYYxE3/+2YwtnyQxn////0JHMY+w/H5OSN/////zDGf5+p7///////kjSQxXTFGTyENw7gapG//NCxAoVUeLUAYKYABCegFrFga4BpxsoJJHKbdSSNc9rTRNTiRTtofSWUkUt1o19fWkoiIJAGaRYixFlM4yQ2FK7pDOlX6q0Ty0TFQNc910f521f//sEw5VqWAAa0xN/4IJysXXPUXWj//NAxBAYQc7CX9RQAD7L1moNjonkAxWFww4nWd9JCeciFDR6QsKgKiayKccZU7pWdi9jnzTd7C9HzWNZFE6VNY70udouzEPUInt/WdLG0YKntR5SDn/rBWjQpBIJjCnEADG403RAjmT/80LEChYx1rpfU2gCXkzXRRXSZBTHSfAUM4JVGmSJvr92ZalqJzOtY1C+n3qXd7ojHpJVph9KfTv2QF00S62UsnjyUkk+pbH0Uf+akuloBUN9eziVT/Kbf//1pSuJ/YIvIGDjaERizGT/80DEDRciBtzLgWgAnyaG0C1lwTMAJBpi0QiX27oskt/p2pJGx1aanoWQ9R1FMw1JVmtN1vSNE2ZKcL4kwhTIv+7hPkVpum9/54qQNoCB5od9Wc/WVZltv//9olVqRkBpkMgFbWp6pf/zQsQLFGGq0jfYOAJYZ33eO8O4ay/WUDUrPXKa0BSIWhEPEua1Jvfvd1CxL/0T7nGsppoSEjjaf6tN1ZTTR0SRqRO/+K/Ou/9CwVOnmrcSdMqBpY56yFdrrd+BUSsXF/De07+HriXkC//zQMQVEyIO7l9IOAINDw83zXmx47coMuc54Km6W6HL5VI1dHUoFS9CrJ/FZBL1apo8Bec67a3b/1JDQt4iEv/niXtWlQKNhcSXFrNXq9RoxmJPGjO8N0UWAZDR6hQZVGYs4HkcGtuz//NCxCMcqvMKX4VQAp6GEjERDVO0nICRTDDitdHYkPnkRhZTDzS5o/yvFTPc9GLCuTkX7OXt7fseehISK578TUFArC8lNQ06n//2Gg/Jy48bb9TWcmmH//93/Fyy29rQUkjgEwC74QXH//NAxAwTWb76X8xoAtGYil8Sf13FyrazOOzs66VgJUPYvJbKXWr+myS2SrPPf1KWiiiyOpLSWjRTZFlalf//omqn///Bl/gqd4NSP1sCtUboQAq2KfAZcuompqTyWlosplpidkw4Y4D/80LEGRRiJrZdUqAAgAJMBywG+KiSmxrWtlKfMj6SV386x0gTt/1OtvvS0CizI+umWkl/XUbP1ESayKkktX93dfzztT61SAEkgBQEjccjkciAYAa39zxcaPCYCFY9Q550fgIUwErGSDn/80DEIxwS+tZfhWgDSkw83gvvZTK1Iko2tI9rLpf1mZ+b1tMy4Nm06mXyUQY9ZLXyQUJTs9RmYhzjd0y+bppJEj+8v/+81fqQYzTN1ppIW/////+pA0UgaXaVuC5FVLzhMlMyKAyi3P/zQsQNF/I62AGBiABLhOwsg1FMBUmAa4LK0kU0GslRZGmpJb+3on0EzNJjN/Rt+6CJfdTUtj6KkvV+iRcjyBCdC2XzhNFUvstzFYtImJ1Ff9ZRIj59h0HQICe1It//pYprEApJJFaBDP/zQMQJFHJu5l/GaALvVEYd0Zlq2t/CXLznyPVFYKIeRsUnRSrZNn/r6CnqdQ5i8i3q1bKfpGtS0UV2JMeKP6knf2Nf0VaLGLbf//rR0WRKyF4MhrBplw9IE232uwC4QyFzCiYsW86d//NCxBIT0nLqXgpUxo9sRW7llTyJzaqvmIaPi3VgsG/mt9ykwfCQIU3OOY04ehw7/ppOC+OfQ45TbwRmsdOf9V//3NEgtEX//4aVAAFRFv32vuC0ePWVlkuksMhlhMTeSZcTTa6TL1tX//NAxB4T0m7aXgNUnlF5nDuaJdERvfmX6mCXNcKxO/V1USAU/9yGy3Aqp/1gZFJn/1f/82RAAwvUf/9n/4aVAAEIF91+vwCeBTp6TCmP9INghMQii720i+pAnlzzrUX1IHQtju2swb//80LEKRQCbtJeAJqGnOo/ai6SKYMAWbN+pyk9BZgJk//uSoi1brV+z//mZmmHNKZ13/4fAAEADstllgF/v972towZ0QXK8AA+PC5cN0PRTdbHW9k5M9zgqso/zibfk+1ZC/skJF/61jz/80DENROyfrpeA9qODemqMKr/rUHwRS1Nq9SKD//rZIcRZmT//kUEALSZ3D//6vAmzqOlAm8FwxbwFiX8VRMT/DEsPCqRbOw8Q1mIxxtBkkSi3qAOVm6F2/FRWYSyB/bF4bP/YoK6TP/zQsRBE7JuiRpulMRYCzO1V/Bgm+3///oVNQABURf9/bgBP/8U9MW42GQb/AyP4bURvzzGIYvAhJL0x3ooCTlFLZYWlmfqPt+PdVErEQz3RZKDyTFf60vWSP/2GMeX/qsr/+oxmB0RAP/zQMROEzJqxl4CWpcBmBvv9vwBTX/L98zdfopM4GlbpJtgUn1eHHhe8yxjmqcdp+upQEuTdtU3X9x6VTAMv2qIoiG/VYg/GN7/nhJgfH2Qf0qSKab/9STkueh1IDkmklAH5fflAZLq//NCxFwT8m7CXgPall7BM4igvw7JyAbmlbrY2Zmc95UkokD/dw4U/VNjZq2TcStZukKgZTDVrng8v/mRTZa8Yre35WIl+v9boo3/1pprJU2wFQAyBI5tJABr9/77Z/CdRCLoRWqEYrN6//NAxGgUEnKcfgPaq4nSU+eNbpg1JSTemhOK12Eir1L/WdGRPphACdmzWMj7GIgg/nV/2MkNzYiH1f+MUXviFwhf5ESNESoACMgKy22UAf/oZWmPclPEoiClH5cGwN0IZce9FABAWFr/80LEchQJ8p2+BhqSJMm0Y97b+IcHG7exHP1o1ozptGFJY96zeDFv2jvm5WapBNLZ6npCx39f9//xJxaUAGauYYNH0NxP49ytAzAugiwASDuCaDUpRXKKAro0F7oKjNigqK2bCimismz/80DEfRPCbrJeUYsW2bJs07zhUJE83J52vOGiuPNiokv/+//8tONhddJC82Fk8VX//+//+L/+X8vgX38/zyBLzXnwocMyMyN5mLPJsiIzhs/AZfSMyzTJX/zT7ykZlXbe+/dxn2i68f/zQsSJFBiqZBYAXknZ3GPTCDzzqqXjKRMJwaRC8G6IQU2nG4n4GGmXKsyZrv9S/Pz0LNbNUKz3/+L//YfmT5sn3CfNUKp/vzCv+a/PzXF+sMhBLEGQyJlrOq0Ao4kKJILAayo7MqEZp//zQMSUEvNmFAAIzcjp0sip/9jKz0mW6zFUj/RP6r+xkUjlR2Mj/dbbIrGRyodjWKh2MrGEVYys5TKUSGhweBQ8NIQysZWMrlRxEYLh0SRVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVV//NCxKMQi2IeUAhHXVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//NAxLwR22HQAAgKnVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",finishedError:"data:audio/mp3;base64,/+MgxAAT5BX8AUEoAP///mNkc/////1Oc/6noc/9f///85/0O///r/kI2jf+pCf/Of/6HP/znOc7znPkIQgfFzvIRjhwOChCEIQOB8Ph853yHOc/zvEA4AAAAABF/UgSPmQKhhYBw4f/4yLECxVpXpgBmYgAKgCEXoz6Bj24G4gxlPDKhgAUoFxwtiGufjWFsGbKgF+Fh4noT/8i5uaFcZgLm1i2k0Mbam8ZAiwbYX0nExHIEEx2FBBP9J3S5vA6wAAltAA+pUwHS9e7B4EtiwD/4yDEERexdr1fz2ABlQrFTFPgXqqjQRzMFqGEeDUkEbrrMjtB+lU/tcuj+umyBDN1q/2GlFesgKLdHTqWo7RktruiRwdRlfa8J/BPRN+XHtgb0Y/AzC/2cZdiQgBuTa69W4S8bMAAXP/jIsQNF0k6wVZ5xSYzp4BvjV+T2Udd8R2+On01SiRpX5PGv6QjYpD1nBt8VZ0skMc9QHq1CpqJlnhoqVPKPHZYGqnIypEyWPAo8SPz0OhX//QJmyvHu/o8qM/6CtXSAhKu34FZMGcPy//jIMQLFcmeyX5pRy5R0BZEoNVh/FruKTVBRcR5rUTQpGyFqJx7CzcOcPjqoGcWJjOrcdzfsGXZAsFs2WdUKwcLiEIhWFB7w0GpuTa0XaMGgcqzrQsz/+kNKkIAFLvgP/OonDe+4DCL/+MixA4XgpK9XsKG9sYelKU8J/UGwRrm0l9/tjMjWMAOthrqK45iONNBfxi+hbllz+raE/If6Y91Y8jnb49Kxn0WeTT6ihhKnGOj8LGIiWQHuOogUc/66H/hHf+ZgAISpdgBncq6Fj3n/+MgxAwWYfa9fnqHEiCLPLVweu/9CIz6wGZbXVpry1Kg57ZhtwxXKh82K2giB2guGug/OyF9W1JuQftstdzJ1LPcEKLR5hTreUz/iBxskEVBY+CqAyCgQoz+yuNqlTn/4AmceACjmEH/4yLEDROBjtGfTFACEdnXxxr0lwp2+ghopgB4IjWCiAiL1Fns+pLqPWoKx2ncfG0InzW1JerftHxMpxQ801HHziUMvQeK6+SzxEliW+qFqaEByyhgQELpGQIgqtQ3JzIWch4kp17kEgX/4yDEGxrBdpwBmcgA2HbmH2R4LIKeMtsKwjCc/PT00y9l+qMGDIckAycFqvMfuJz7iPxLEzFQo5sngfD9d/3Lh+njFJYublz8Q5Rf////T2+4Yc+Lz9NurVqf9g+AKTd3AE4qU1E2vP/jIsQLFHFG1N/MMAKBuH8oS/ikp9KqlSqkwegTJgTLjeYlyndKcQSsCSPJJQRk9HC1Mj+l42THqWrK1khp0NFfwKks86SKw6IipGbLX60JBY92Jgpy/gAfjbqATePy62LBPlndI3QLQ//jIMQVEzHK0D5ITaKR7RryvYmOsx1fbM6V2JJnbpavk1iJiS8JPqV6qgWaY6uxhvzoBzN51ktGpofVlW2syZxMO0b3qgp3fgAeIb4DIseOluSeSAlQn7hrzAjZSZuJ1hX4vsT7jPQ//+MixCMTSZ7MPlmQ9/X6VzdY3edjF975aHZclh+kp0dpLevY334aVbI8HpNcncwNu/n4iv+WjdUp78AD9ctNSZuODC31N8HTqGeWmtBbEAMsHqNC8I2hSomoRqXy9S0ceUx3G2Xy1HlX/+MgxDETia7EHnnS35XKZuzIM1elCplWUbSZUyasFtQGBXZtvjOkd7fyKgXdgAP2BBZD9S9RP5NG79jO2pTIwZr7J8G1gzEtzOp2ieBOgOaBuVOqMyrSjT9MjQyjbxO0deP52eZM5EX/4yLEPRPR9rgeeccSHPRatU3MJQt+RHNLSiTFR+5aqgXbiAQBNtgMw1oA6FmGT6BBFIiJwdNzPHg4GwWjwaEZMdZCYHjSgwh4y0x3apZUmcmPvrb6vn+zvD/t5itoX1ejvi2HXytG9Pf/4yDESRRRirQZT1gDn6MGwmcJJfWqPBUiBf4SQhy0VHhgDRhoxv1ZsAhtWpzFYcHZOFihgb4zFC60dOmrlmXJiSomyBZ2YpiZigYKoIYAIGkiMAiwM8MMgCyIACjNhTPqzAnwKNMoKP/jIsRSJSlqhAma0AChCECX2WopEOPhhoiCKtdUFCCgKJA0W01lY2TxupC5HD8td2jhciVYlirC37fwM/kcmq9jHKMSipK977GKSz039KNFCnN8BxNkyKQ7PaifSU06ZWbLXIRrxeNesv/jIMQZFAk6zD/MMAKWQS5DeCUx/Y3lI4WvyH8L5+c/sB9iWul3X4R9zz7SwOgUyMBtTkhABBIUn1CLs///////9YC1KgVL/IbU4pxAdm9RCY22Fl3QDjRdhcbGgh/GwR2i7lo1CmY0/+MixCMT0ZasGMPKX2VNy3/JfvZB7an/a3fEB8Ky4hh6gJUlR8Y0bs8ZsysdHzOS5lQSpSjDL8SjagVdQAPkgaNhAzDy0U7Ny7ewjcdcD9uihn7LI+uRtxwzNFzBvzo+Dh1KUoG4nLxM/+MgxC8TQaK0HnnHLvdpTPyNVqWq8ps87Xc4tp+84odaBg0EhAGhAEm9SAVb+0XZfMCMzNKdBLCfWT9Cl5ZjyQd6VlAraiTVvTti91RulyZBkwXuoV3YXmOkKVn5U0rzPNMp1ltR6t7/4yLEPRQ5lqwYw1ETceczuhocBflPuWRyT5NPfTibxXsKc3HAHohRMAuHFwWYsiboQoSDQaBHij2BTtI1iU2jto6ycFqsuHDPAswsJlcSaDHBypOCRwT6zM81yPX/lTY4KIGgWSGQ4+n/4yDESBLppsg+SYaW///sUgodAxFs3LEahGcMIGORNKMFqJMRseA8gjpVF3QapN5RoQOoQ0DWBwiRkkW4R+n8dpREBICTA00IFzMpEJUo25plEqklOrq6VWSDH6/u3crqCEL0P4bJIP/jIsRXE9ECWADD0lknZeEGlVUAgUCFiDzDzCj4WjRpT2WWWUGKhkz4qKC1QsK/ioqLN9ISFhURmfWKi3//////////QDIVFBIHgZFaTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqv/jIMRjEaCVZAp5hlCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"}},n.prototype.elements={start:new e("start",n.prototype.resources.start),click:new e("click",n.prototype.resources.click),actionOk:new e("actionOk",n.prototype.resources.actionOk),actionError:new e("actionError",n.prototype.resources.actionError),finishedOk:new e("finishedOk",n.prototype.resources.finishedOk),finishedError:new e("finishedError",n.prototype.resources.finishedError)},n}(t("jquery"),t("./EventSoundsElement"),t("../Utils"))},{"../Utils":134,"./EventSoundsElement":179,jquery:51}],179:[function(t,e,i){e.exports=function(t,e,i){var n=function(e,i){this.id=e,i&&(t.startsWith(i,"data:")?this.audio=new Audio(i):this.fileName=i)};return n.prototype={constructor:n,fileName:null,enabled:t.DEFAULT,player:null,audio:null,setProperties:function(e){return this.fileName=e.attr("file"),this.enabled=t.getTriState(e.attr("enabled")),this},realize:function(t,n){this.audio||null!==this.player||null===this.fileName||(this.player=new e(new i("PLAY_AUDIO",this.fileName),n,t),this.player.realize())},play:function(){this.audio?(this.audio.currentTime=0,this.audio.play()):this.player&&this.player.play()},stop:function(){this.audio?this.audio.pause():this.player&&this.player.stop()}},n}(t("../Utils"),t("./ActiveMediaPlayer"),t("./MediaContent"))},{"../Utils":134,"./ActiveMediaPlayer":176,"./MediaContent":180}],180:[function(t,e,i){e.exports=function(t,e,i){var n=function(t,e){this.mediaType=t,e&&(this.mediaFileName=e)};return n.prototype={constructor:n,mediaType:"UNKNOWN",level:1,mediaFileName:null,externalParam:null,from:-1,to:-1,length:3,recBuffer:0,stretch:!1,free:!1,absLocation:null,absLocationFrom:null,catchMouseEvents:!1,loop:!1,autoStart:!1,setProperties:function(n){var r=this;return t.each(n.get(0).attributes,function(){var t=this.name,n=this.value;switch(t){case"type":r.mediaType=n;break;case"file":r.mediaFileName=i.nSlash(n);break;case"params":r.externalParam=i.nSlash(n);break;case"pFrom":r.absLocationFrom=n;break;case"buffer":r.recBuffer=Number(n);break;case"level":case"from":case"to":case"length":r[t]=Number(n);break;case"px":case"py":null===r.absLocation&&(r.absLocation=new e.Point(0,0)),"px"===t?r.absLocation.x=Number(n):r.absLocation.y=Number(n);break;case"stretch":case"free":case"catchMouseEvents":case"loop":case"autostart":r[t]=i.getBoolean(n)}}),this},isEquivalent:function(t){return this.mediaType===t.mediaType&&(this.mediaFileName===t.mediaFileName||null!==this.mediaFileName&&null!==t.mediaFileName&&this.mediaFileName.toLocaleLowerCase()===t.mediaFileName.toLocaleLowerCase())&&this.from===t.from&&this.to===t.to&&this.recBuffer===t.recBuffer},getDescription:function(){var t="";return t+=this.mediaType,this.mediaFileName?(t+=" "+this.mediaFileName,this.from>=0&&(t+=" from:"+this.from),this.to>=0&&(t+=" to:"+this.to)):this.externalParam&&(t+=" "+this.externalParam),t},toString:function(){return this.mediaType+(this.mediaFileName?" "+this.mediaFileName:"")},getIcon:function(){var t=null;switch(this.mediaType){case"PLAY_AUDIO":case"PLAY_RECORDED_AUDIO":t="audio";break;case"RECORD_AUDIO":t="mic";break;case"PLAY_VIDEO":t="movie";break;case"PLAY_MIDI":t="music";break;case"URL":t="url";break;default:t="default"}return t?n.icoImg[t]:null}},n.icoData={default:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yOC44IDEyTDI4IDhIMTB2MzRoNFYyOGgxMS4ybC44IDRoMTRWMTJ6Ij48L3BhdGg+PC9zdmc+Cg==",audio:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0zIDl2Nmg0bDUgNVY0TDcgOUgzem0xMy41IDNjMC0xLjc3LTEuMDItMy4yOS0yLjUtNC4wM3Y4LjA1YzEuNDgtLjczIDIuNS0yLjI1IDIuNS00LjAyek0xNCAzLjIzdjIuMDZjMi44OS44NiA1IDMuNTQgNSA2Ljcxcy0yLjExIDUuODUtNSA2LjcxdjIuMDZjNC4wMS0uOTEgNy00LjQ5IDctOC43N3MtMi45OS03Ljg2LTctOC43N3oiPjwvcGF0aD48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIj48L3BhdGg+PC9zdmc+Cg==",movie:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xOCA0bDIgNGgtM2wtMi00aC0ybDIgNGgtM2wtMi00SDhsMiA0SDdMNSA0SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxOGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjRoLTR6Ij48L3BhdGg+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvc3ZnPgo=",mic:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xMiAxNGMxLjY2IDAgMi45OS0xLjM0IDIuOTktM0wxNSA1YzAtMS42Ni0xLjM0LTMtMy0zUzkgMy4zNCA5IDV2NmMwIDEuNjYgMS4zNCAzIDMgM3ptNS4zLTNjMCAzLTIuNTQgNS4xLTUuMyA1LjFTNi43IDE0IDYuNyAxMUg1YzAgMy40MSAyLjcyIDYuMjMgNiA2LjcyVjIxaDJ2LTMuMjhjMy4yOC0uNDggNi0zLjMgNi02LjcyaC0xLjd6Ij48L3BhdGg+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvc3ZnPgo=",music:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNMTIgM3YxMC41NWMtLjU5LS4zNC0xLjI3LS41NS0yLS41NS0yLjIxIDAtNCAxLjc5LTQgNHMxLjc5IDQgNCA0IDQtMS43OSA0LTRWN2g0VjNoLTZ6Ij48L3BhdGg+PC9zdmc+Cg==",url:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptLTEgMTcuOTNjLTMuOTUtLjQ5LTctMy44NS03LTcuOTMgMC0uNjIuMDgtMS4yMS4yMS0xLjc5TDkgMTV2MWMwIDEuMS45IDIgMiAydjEuOTN6bTYuOS0yLjU0Yy0uMjYtLjgxLTEtMS4zOS0xLjktMS4zOWgtMXYtM2MwLS41NS0uNDUtMS0xLTFIOHYtMmgyYy41NSAwIDEtLjQ1IDEtMVY3aDJjMS4xIDAgMi0uOSAyLTJ2LS40MWMyLjkzIDEuMTkgNSA0LjA2IDUgNy40MSAwIDIuMDgtLjggMy45Ny0yLjEgNS4zOXoiPjwvcGF0aD48L3N2Zz4K"},n.icoImg={},t.each(n.icoData,function(t,e){var i=new Image;i.src=e,n.icoImg[t]=i}),n}(t("jquery"),t("../AWT"),t("../Utils"))},{"../AWT":127,"../Utils":134,jquery:51}],181:[function(t,e,i){e.exports=function(t,e,i,n,r,s,o){var a=function(){this.settings=new e(this),this.activitySequence=new i(this),this._activities={},this.mediaBag=new n(this)};return a.prototype={constructor:a,name:"unknown",version:"0.1.3",type:null,code:null,settings:null,activitySequence:null,_activities:null,reportableActs:0,mediaBag:null,skin:null,basePath:"",path:null,zip:null,setProperties:function(e,i,n,r){i&&(this.path=i,i.file?this.basePath=i:this.basePath=s.getBasePath(i)),this.zip=n,this.name=e.attr("name"),this.version=e.attr("version"),this.type=e.attr("type"),this.code=e.attr("code"),this.settings.setProperties(e.children("settings")),this.activitySequence.setProperties(e.children("sequence")),this.mediaBag.setProperties(e.children("mediaBag")),this.reportableActs=0,this._activities={};var a=this,c=e.children("activities").children("activity"),l=this.mediaBag.getElementsOfType("font");return l.length>0&&(r.ownFonts=(r.ownFonts||[]).concat(l)),o.Font.checkTree(c,r),c.each(function(){a._activities[s.nSlash(t(this).attr("name"))]=t(this),"true"===t(this).children("settings").attr("report")&&a.reportableActs++}),this},getActivity:function(t){return r.getActivity(this._activities[s.nSlash(t)],this)},realize:function(t){null===this.skin&&null!==this.settings.skinFileName&&this.settings.skinFileName.length>0&&(this.skin=this.mediaBag.getSkinElement(this.settings.skinFileName,t)),this.settings.eventSounds.realize(t,this.mediaBag),this.mediaBag.buildAll("font",null,t)},end:function(){}},a}(t("jquery"),t("./ProjectSettings"),t("../bags/ActivitySequence"),t("../bags/MediaBag"),t("../Activity"),t("../Utils"),t("../AWT"))},{"../AWT":127,"../Activity":128,"../Utils":134,"../bags/ActivitySequence":156,"../bags/MediaBag":161,"./ProjectSettings":182,jquery:51}],182:[function(t,e,i){e.exports=function(t,e,i){var n=function(t){this.project=t,this.languages=[],this.locales=[]};return n.prototype={constructor:n,project:null,title:"Untitled",description:"",languages:null,locales:null,skinFileName:null,eventSounds:new e,setProperties:function(n){var r=this;if(n.children().each(function(){switch(this.nodeName){case"title":r.title=this.textContent;break;case"description":r.description=this.textContent;break;case"language":r.languages.push(this.textContent);break;case"eventSounds":r.eventSounds=new e,r.eventSounds.setProperties(t(this));break;case"skin":r.skinFileName=t(this).attr("file")}}),this.languages.length>0&&window.Intl&&window.Intl.getCanonicalLocales){this.locales=[];for(var s in this.languages){var o=/\(([a-z,A-Z,-]+)\)/.exec(this.languages[s]);if(o&&o.length>1)try{var a=window.Intl.getCanonicalLocales(o[1]);a&&(this.locales=this.locales.concat(a))}catch(t){i.log("error","Invalid language: %s",this.languages[s])}}}return this}},n}(t("jquery"),t("../media/EventSounds"),t("../Utils"))},{"../Utils":134,"../media/EventSounds":178,jquery:51}],183:[function(t,e,i){e.exports=function(t,e){var i=function(t,e,i,n){this.type=t,this.source=e||null,this.dest=i||null,this.ok=n||!1,this.time=(new Date).valueOf()};return i.prototype={constructor:i,type:"unknown",source:null,dest:null,time:0,isOk:!1,$getXML:function(){var e={ok:this.ok,time:this.time};return this.type&&(e.type=this.type),this.source&&(e.source=this.source),this.dest&&(e.dest=this.dest),t("<action/>",e)},setProperties:function(i){var n=this;t.each(i.get(0).attributes,function(){var t=this.name,i=this.value;switch(t){case"type":case"source":case"dest":n[t]=i;break;case"time":n[t]=Number(i);break;case"ok":n[t]=e.getBoolean(i,!1)}})}},i}(t("jquery"),t("../Utils"))},{"../Utils":134,jquery:51}],184:[function(t,e,i){e.exports=function(t,e,i){var n=function(t){this.name=t.name,this.code=t.code,this.actions=[],this.startTime=(new Date).valueOf(),this.minActions=t.getMinNumActions(),this.reportActions=t.reportActions};return n.prototype={constructor:n,name:"",code:"",startTime:0,totalTime:0,actions:[],solved:!1,lastAction:null,score:0,minActions:0,closed:!1,reportActions:!1,numActions:0,$getXML:function(){var e={start:this.startTime,time:this.totalTime,solved:this.solved,score:this.score,minActions:this.minActions,actions:this.numActions};this.name&&(e.name=this.name),this.code&&(e.code=this.code),this.closed||(e.closed=!1),this.reportActions&&(e.reportActions=!0);for(var i=t("<activity/>",e),n=0;n<this.actions.length;n++)i.append(this.actions[n].$getXML());return i},setProperties:function(n){var r=this;t.each(n.get(0).attributes,function(){var t=this.name,i=this.value;switch(t){case"name":case"code":r[t]=i;break;case"start":case"time":case"score":case"minActions":case"actions":r[t]=Number(i);break;case"solved":case"closed":case"reportActions":r[t]=e.getBoolean(i,!1)}}),n.children("action").each(function(){var e=new i;e.setProperties(t(this)),r.actions.push(e)})},$print:function(t){var i=e.$HTML,n=[];if(this.closed)n.push(i.td(this.name)),n.push(this.solved?i.td(t.getMsg("YES"),"ok"):i.td(t.getMsg("NO"),"no")),n.push(i.td(this.numActions)),n.push(i.td(e.getPercent(this.getPrecision()/100))),n.push(i.td(e.getHMStime(this.totalTime)));else{n.push(i.td(this.name,"incomplete"));for(var r=0;r<4;r++)n.push(i.td("-","incomplete"))}return n},newAction:function(t,e,n,r){this.closed||(this.lastAction=new i(t,e,n,r),this.actions.push(this.lastAction))},getActionReg:function(t){return t>=this.actions.length?null:this.actions[t]},closeActivity:function(){this.closed||(this.lastAction?this.totalTime=this.lastAction.time-this.startTime:this.totalTime=(new Date).valueOf()-this.startTime,this.closed=!0)},getPrecision:function(){var t=0;return this.closed&&this.minActions>0&&this.numActions>0&&(t=this.solved?this.numActions<this.minActions?100:Math.round(100*this.minActions/this.numActions):Math.round(this.score*this.score*100/(this.minActions*this.numActions))),t},endActivity:function(t,e,i){this.closed||(this.solved=i,this.numActions=e,this.score=t,this.closeActivity())}},n}(t("jquery"),t("../Utils"),t("./ActionReg"))},{"../Utils":134,"./ActionReg":183,jquery:51}],185:[function(t,e,i){e.exports=function(){var t={BLANK:"___blank___##",Decrypt:function(e){if(null===e||0===e.length)return null;var i=t.decodify(e);return i===t.BLANK?"":i},hexCharArrayToChar:function(t,e){for(var i=0,n=0;n<=3;n++){var r=Number.parseInt(t[e+n],16);if(isNaN(r))throw"Invalid expression!";i=16*i+r}return String.fromCharCode(i)},hexCharArrayToInt:function(t,e){for(var i=0,n=0;n<=1;n++){var r=Number.parseInt(t[e+n],16);if(isNaN(r))throw"Invalid expression!";i=16*i+r}return i},decodifyZerosField:function(t){for(var e="",i=Number.parseInt(t[0],32),n=0,r=0;0!==i;r++){for(;i>0;)e=e+t[3*r+1]+t[3*r+2],i--,n++;i=t.length>3*r+3?Number.parseInt(t[3*r+3],32):0}for(var s=3*r+1;s<t.length;s++)e+=t[s];return Number.parseInt(n,32)+e},decompressZeros:function(e){e=t.decodifyZerosField(e);for(var i=Number.parseInt(e[0],32),n=2*i+1,r=!1,s="",o=0;o<i&&!r;o++){for(var a=t.hexCharArrayToInt(e,1+2*o).toString(2);a.length<8;)a="0"+a;for(var c=0;c<=7&&!r;c++)"1"===a[c]?s+="0":n<e.length?s+=e[n++]:r=!0}return s},decodifyFromHex:function(e){for(var i="",n=0,r=0;n<e.length;r++)i+=t.hexCharArrayToChar(e,n),n+=4;return i},unchangeOrder:function(t){for(var e=0,i=t.length-1,n=[],r=0;r<t.length;r++)n[r]="";for(var s=0;s<t.length;s++)n[s]=s%2==0?t[e++]:t[i--];return n.join("")},codify:function(e){if(e.length>24)throw"Password is too large!";return t.changeOrder(t.compressZeros(t.codifyToHexWord(e)))},decodify:function(e){try{return t.decodifyFromHex(t.decompressZeros(t.unchangeOrder(e)))}catch(t){return""}}};return t}()},{}],186:[function(t,e,i){e.exports=function(t,e,i,n,r){var s=function(t){this.ps=t,this.sessions=[],this.started=new Date,this.initiated=!1,this.info=new s.Info(this)};return s.prototype={constructor:s,info:null,ps:null,SCORM:null,userId:null,sessionKey:null,sessionContext:null,groupCodeFilter:null,userCodeFilter:null,descriptionKey:"Results are not currently being saved",descriptionDetail:"",started:null,sessions:[],currentSession:null,initiated:!1,bUserBased:null,MAX_USERID_PROMPT_ATTEMPTS:3,getInfo:function(){return this.info.recalc()},getProperty:function(t,e){return e},getBooleanProperty:function(t,e){var i=this.getProperty(t,!0===e?"true":"false");return null===t?e:"true"===i},getGroups:function(){return r.Promise.reject("No groups defined!")},getUsers:function(t){return r.Promise.reject("No users defined in "+t)},getUserData:function(t){return r.Promise.reject("Unknown user!")},getGroupData:function(t){return r.Promise.reject("Unknown group!")},userBased:function(){return null===this.bUserBased&&(this.bUserBased=this.getBooleanProperty("USER_TABLES",!1)),this.bUserBased},promptForNewGroup:function(){return r.Promise.reject("Remote creation of groups not yet implemented!")},promptForNewUser:function(){return r.Promise.reject("Remote creation of users not yet implemented!")},promptGroupId:function(){var e=this;return new r.Promise(function(i,n){e.userBased()?e.getGroups().then(function(r){if(!r||r.length<1)n("No groups defined!");else{for(var s=0,o=t("<select/>").attr({size:Math.max(3,Math.min(15,r.length))}),a=0;a<r.length;a++)o.append(t("<option/>").attr({value:r[a].id}).text(r[a].name));o.change(function(){s=this.selectedIndex}),e.ps.skin.showDlg(!0,{main:[t("<h2/>",{class:"subtitle"}).html(e.ps.getMsg("Select group:")),o],bottom:[e.ps.skin.$okDlgBtn,e.ps.skin.$cancelDlgBtn]}).then(function(){i(r[s].id)}).catch(n)}}).catch(n):n("This system does not manage users!")})},promptUserId:function(e){var n=this;return new r.Promise(function(r,s){if(null===n.userId||e)if(n.userBased()){var o=t("<input/>",{type:"password",size:8,maxlength:64});if(n.getBooleanProperty("SHOW_USER_LIST",!0))n.promptGroupId().then(function(e){n.getUsers(e).then(function(a){if(!a||a.length<1)s("Group "+e+" has no users!");else{for(var c=-1,l=t("<select/>").attr({size:Math.max(3,Math.min(15,a.length))}),u=0;u<a.length;u++)l.append(t("<option/>").attr({value:a[u].id}).text(a[u].name));l.change(function(){c=this.selectedIndex}),n.ps.skin.showDlg(!0,{main:[t("<h2/>",{class:"subtitle"}).html(n.ps.getMsg("Select user:")),l,t("<h2/>",{class:"subtitle"}).html(n.ps.getMsg("Password:")).append(o)],bottom:[n.ps.skin.$okDlgBtn,n.ps.skin.$cancelDlgBtn]}).then(function(){c>=0?a[c].pwd&&i.Decrypt(a[c].pwd)!==o.val()?(window.alert(n.ps.getMsg("Incorrect password")),s("Incorrect password")):(n.userId=a[c].id,r(n.userId)):s("No user has been selected")}).catch(s)}}).catch(s)}).catch(s);else{var a=t("<input/>",{type:"text",size:8,maxlength:64});n.ps.skin.showDlg(!0,{main:[t("<div/>").css({"text-align":"right"}).append(t("<h2/>",{class:"subtitle"}).html(n.ps.getMsg("User:")).append(a)).append(t("<h2/>",{class:"subtitle"}).html(n.ps.getMsg("Password:")).append(o))],bottom:[n.ps.skin.$okDlgBtn,n.ps.skin.$cancelDlgBtn]}).then(function(){n.getUserData(a.val()).then(function(t){t.pwd&&i.Decrypt(t.pwd)!==o.val()?(window.alert(n.ps.getMsg("Incorrect password")),s("Incorrect password")):(n.userId=t.id,r(n.userId))}).catch(s)}).catch(s)}}else s("This system does not manage users!");else r(n.userId)})},$print:function(){this.info.recalc();var e=r.$HTML,i=[];i.push(t("<div/>",{class:"subTitle",id:this.ps.getUniqueId("ReportsLb")}).html(this.ps.getMsg("Current results")));var n=t("<table/>",{class:"JCGlobalResults"});if(n.append(e.doubleCell(this.ps.getMsg("Session started:"),this.started.toLocaleDateString()+" "+this.started.toLocaleTimeString()),e.doubleCell(this.ps.getMsg("Reports system:"),this.ps.getMsg(this.descriptionKey)+" "+this.descriptionDetail)),this.userId?n.append(e.doubleCell(this.ps.getMsg("User:"),this.userId)):this.SCORM&&n.append(e.doubleCell(this.ps.getMsg("User:"),this.SCORM.studentName+(""===this.SCORM.studentId?"":" ("+this.SCORM.studentId+")"))),this.info.numSequences>0){this.info.numSessions>1&&n.append(e.doubleCell(this.ps.getMsg("Projects:"),this.info.numSessions)),n.append(e.doubleCell(this.ps.getMsg("Sequences:"),this.info.numSequences),e.doubleCell(this.ps.getMsg("Activities done:"),this.info.nActivities),e.doubleCell(this.ps.getMsg("Activities played at least once:"),this.info.nActPlayed+"/"+this.info.reportableActs+" ("+r.getPercent(this.info.ratioPlayed)+")")),this.info.nActivities>0&&(n.append(e.doubleCell(this.ps.getMsg("Activities solved:"),this.info.nActSolved+" ("+r.getPercent(this.info.ratioSolved)+")")),this.info.nActScore>0&&n.append(e.doubleCell(this.ps.getMsg("Partial score:"),r.getPercent(this.info.partialScore)+" "+this.ps.getMsg("(out of played activities)")),e.doubleCell(this.ps.getMsg("Global score:"),r.getPercent(this.info.globalScore)+" "+this.ps.getMsg("(out of all project activities)"))),n.append(e.doubleCell(this.ps.getMsg("Total time in activities:"),r.getHMStime(this.info.tTime)),e.doubleCell(this.ps.getMsg("Actions done:"),this.info.nActions))),i.push(n);for(var s=0;s<this.sessions.length;s++){var o=this.sessions[s];o.getInfo().numSequences>0&&(i=i.concat(o.$print(this.ps,!1,this.info.numSessions>1)))}}else i.push(t("<p/>").html(this.ps.getMsg("No activities done!")));return i},init:function(t){return t||(t=this.ps.options),this.userId=r.getVal(t.user),this.sessionKey=r.getVal(t.key),this.sessionContext=r.getVal(t.context),this.groupCodeFilter=r.getVal(t.groupCodeFilter),this.userCodeFilter=r.getVal(t.userCodeFilter),!1!==t.SCORM&&(this.SCORM=n.getSCORM(this),null!==this.SCORM&&this.descriptionKey===s.prototype.descriptionKey&&(this.descriptionKey=this.SCORM.getScormType())),this.initiated=!0,r.log("debug","Basic Reporter initialized"),r.Promise.resolve(!0)},end:function(){return r.log("debug","Basic Reporter ending"),this.endSession(),r.Promise.resolve(!0)},endSequence:function(){this.currentSession&&(this.currentSession.endSequence(),this.info.valid=!1)},endSession:function(){this.endSequence(),this.currentSession=null},newGroup:function(t){throw"No database!"},newUser:function(t){throw"No database!"},newSession:function(t){this.endSession(),this.currentSession=new e(t),this.sessions.push(this.currentSession),this.info.valid=!1},newSequence:function(t){this.currentSession&&(this.currentSession.newSequence(t),this.info.valid=!1,this.SCORM&&this.SCORM.commitInfo())},newActivity:function(t){this.currentSession&&(this.currentSession.newActivity(t),this.info.valid=!1)},endActivity:function(t,e,i){this.currentSession&&(this.currentSession.endActivity(t,e,i),this.info.valid=!1)},newAction:function(t,e,i,n){this.currentSession&&(this.currentSession.newAction(t,e,i,n),this.info.valid=!1)},getCurrentSequenceInfo:function(){return null===this.currentSession?null:this.currentSession.getCurrentSequenceInfo()},getCurrentSequenceTag:function(){return null===this.currentSession?null:this.currentSession.getCurrentSequenceTag()}},s.Info=function(t){this.rep=t},s.Info.prototype={constructor:s.Info,rep:null,valid:!1,numSessions:0,numSequences:0,nActivities:0,reportableActs:0,nActSolved:0,nActPlayed:0,nActScore:0,nActions:0,ratioSolved:0,ratioPlayed:0,tScore:0,partialScore:0,tTime:0,globalScore:0,clear:function(){this.numSessions=this.numSequences=this.nActivities=this.reportableActs=this.nActSolved=this.nActPlayed=this.nActScore=this.nActions=this.ratioSolved=this.ratioPlayed=this.tScore=this.tTime=this.partialScore=this.globalScore=0,this.valid=!1},recalc:function(){if(!this.valid){this.clear();for(var t=0;t<this.rep.sessions.length;t++){var e=this.rep.sessions[t].getInfo();this.reportableActs+=e.sReg.reportableActs,e.numSequences>0&&(this.numSessions++,this.numSequences+=e.numSequences,e.nActivities>0&&(this.nActivities+=e.nActivities,this.nActPlayed+=e.sReg.actNames.length,this.nActSolved+=e.nActSolved,this.nActions+=e.nActions,e.nActScore>0&&(this.tScore+=e.tScore*e.nActScore,this.nActScore+=e.nActScore),this.tTime+=e.tTime))}this.nActivities>0&&(this.ratioSolved=this.nActSolved/this.nActivities,this.reportableActs>0&&(this.ratioPlayed=this.nActPlayed/this.reportableActs),this.partialScore=this.tScore/(100*this.nActScore),this.globalScore=this.partialScore*this.ratioPlayed),this.valid=!0}return this}},s.CLASSES={Reporter:s},s.getReporter=function(t,e){var i=null;return null===t&&(t="Reporter",e.options.hasOwnProperty("reporter")&&(t=e.options.reporter)),s.CLASSES.hasOwnProperty(t)?i=new s.CLASSES[t](e):r.log("error","Unknown reporter class: %s",t),i},s}(t("jquery"),t("./SessionReg"),t("./EncryptMin"),t("./SCORM"),t("../Utils"))},{"../Utils":134,"./EncryptMin":185,"./SCORM":187,"./SessionReg":189,jquery:51}],187:[function(t,e,i){e.exports=function(t,e){var i=function(t,e){this.API=t,"function"==typeof t.Initialize?this.is2004=!0:(this.prefix="LMS",this.core="cmi.core."),this.reporter=e};return i.prototype={constructor:i,is2004:!1,reporter:null,prefix:"",core:"cmi.",API:null,studentId:"",studentName:"",initialize:function(){var i=!1;try{if(i=this.API[this.prefix+"Initialize"]("")){this.studentId=this.getValue(this.core+(this.is2004?"learner_id":"student_id")),this.studentName=this.getValue(this.core+(this.is2004?"learner_name":"student_name")),this.setValue(this.core+"score.min",0),this.setValue(this.core+"score.max",100);var n=this;t(window).on("unload",function(){n.commitInfo(),n.terminate(),n.API=null})}e.log("debug","SCORM initialized")}catch(t){e.log("error","Error initializing SCORM API: %s",t.message)}return i},terminate:function(){var t=!1;try{t=this.API[this.is2004?"Terminate":"LMSFinish"]("")}catch(t){e.log("error","Error terminating SCORM API: %s",t.message)}return t},commitInfo:function(){var t=this.reporter.getInfo(),i=Math.round(100*t.globalScore),n=this.getTimeExpression(t.tTime);this.setValue(this.core+"score.raw",i),this.setValue(this.core+"session_time",n),this.commit(),e.log("debug","SCORM results reported: %d (%s)",i,n)},commit:function(){var t=!1;try{t=this.API[this.prefix+"Commit"]("")}catch(t){e.log("error","Error commiting data to the SCORM API: %s",t.message)}return t},setValue:function(t,i){var n=!1;try{n=this.API[this.prefix+"SetValue"](t,i)}catch(n){e.log("error",'Error setting value "%s" to "%s" in SCORM API: %s',i,t,n.message)}return n},getValue:function(t){var i=!1;try{i=this.API[this.prefix+"GetValue"](t)}catch(i){e.log("error",'Error retrieving "%s" from SCORM API: %s',t,i.message)}return i},getTimeExpression:function(t){var e=new Date(t),i=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds();return this.is2004?"PT"+i+"H"+n+"M"+r+"S":("0000"+i).slice(-4)+":"+("00"+n).slice(-2)+":"+("00"+r).slice(-2)},getScormType:function(){return"SCORM "+(this.is2004?"2004":"1.2")}},i.DISCOVER_MAX_TRIES=50,i.scanForAPI=function(t,e){return t.API_1484_11&&t.API_1184_11.Initialize&&t.API_1184_11.SetValue&&t.API_1184_11.Commit?t.API_1184_11:t.API&&t.API.LMSInitialize&&t.API.LMSSetValue&&t.API.LMSCommit?t.API:t.parent&&t.parent!==t&&e++<i.DISCOVER_MAX_TRIES?i.scanForAPI(t.parent,e):null},i.getSCORM=function(t){var n=null;try{var r=i.scanForAPI(window,0);null===r&&window.opener&&(r=i.scanForAPI(window.opener,0)),r&&((n=new i(r,t)).initialize()||(n=null))}catch(t){n=null,e.log("warn","Unable to use SCORM: %s",t.toString())}return n},i}(t("jquery"),t("../Utils"))},{"../Utils":134,jquery:51}],188:[function(t,e,i){e.exports=function(t,e){var i=function(t){this.name=t.tag,this.description=t.description,this.activities=[],this.currentActivity=null,this.totalTime=0,this.closed=!1,this.info=new i.Info(this)};return i.prototype={constructor:i,name:"",description:"",activities:[],currentActivity:null,totalTime:0,closed:!1,info:null,$print:function(e){for(var i=[],n=t("<tr/>").append(t("<td/>",{rowspan:this.activities.length}).html(this.name)),r=0;r<this.activities.length;r++)n.append(this.activities[r].$print(e)),i.push(n),n=t("<tr/>");return i},getInfo:function(){return this.info.recalc()},endSequence:function(){if(this.currentActivity&&this.activities.length>0){this.currentActivity.closed||this.currentActivity.closeActivity();var t=this.activities[0];this.totalTime=this.currentActivity.startTime+this.currentActivity.totalTime-t.startTime,this.info.valid=!1}},newActivity:function(t){this.closed||(this.currentActivity=new e(t),this.activities.push(this.currentActivity),this.info.valid=!1)},endActivity:function(t,e,i){this.currentActivity&&(this.currentActivity.endActivity(t,e,i),this.info.valid=!1)},newAction:function(t,e,i,n){this.currentActivity&&(this.currentActivity.newAction(t,e,i,n),this.info.valid=!1)}},i.Info=function(t){this.sqReg=t},i.Info.prototype={constructor:i.Info,sqReg:null,valid:!1,nActivities:0,nActClosed:0,nActSolved:0,nActScore:0,ratioSolved:0,nActions:0,tScore:0,tTime:0,clear:function(){this.nActivities=this.nActClosed=this.nActSolved=this.nActScore=0,this.ratioSolved=this.nActions=this.tScore=this.tTime=0,this.valid=!1},recalc:function(){if(!this.valid){if(this.clear(),this.nActivities=this.sqReg.activities.length,this.nActivities>0){for(var t=0;t<this.nActivities;t++){var e=this.sqReg.activities[t];if(e.closed){this.nActClosed++,this.tTime+=e.totalTime,this.nActions+=e.numActions,e.solved&&this.nActSolved++;var i=e.getPrecision();i>=0&&(this.tScore+=i,this.nActScore++)}}this.nActClosed>0&&(this.ratioSolved=this.nActSolved/this.nActClosed),this.nActScore>0&&(this.tScore=Math.round(this.tScore/this.nActScore))}this.valid=!0}return this}},i}(t("jquery"),t("./ActivityReg"))},{"./ActivityReg":184,jquery:51}],189:[function(t,e,i){e.exports=function(t,e,i,n){var r=function(t,e){this.projectName=t.name,this.code=e||t.code,this.sequences=[],this.actNames=[],this.started=new Date,this.info=new r.Info(this),this.reportableActs=t.reportableActs};return r.prototype={constructor:r,reportableActs:0,actNames:null,sequences:null,currentSequence:null,started:null,projectName:"",info:null,code:null,$print:function(i,n,r){n&&this.info.recalc();var s=e.$HTML,o=[],a=t("<table/>",{class:"JCDetailed"});if(this.info.numSequences>0){o.push(t("<p/>").html(r?i.getMsg("Project")+" "+this.projectName:"")),a.append(t("<thead/>").append(t("<tr/>").append(s.th(i.getMsg("sequence")),s.th(i.getMsg("activity")),s.th(i.getMsg("OK")),s.th(i.getMsg("actions")),s.th(i.getMsg("score")),s.th(i.getMsg("time")))));for(var c=0;c<this.sequences.length;c++)a.append(this.sequences[c].$print(i));a.append(t("<tr/>").append(s.td(i.getMsg("Total:")),s.td(this.info.nActivities+" ("+e.getPercent(this.info.ratioPlayed)+")"),s.td(this.info.nActSolved+" ("+e.getPercent(this.info.ratioSolved)+")"),s.td(this.info.nActions),s.td(e.getPercent(this.info.tScore/100)),s.td(e.getHMStime(this.info.tTime))))}return o.push(a),o},getInfo:function(){return this.info.recalc()},end:function(){this.endSequence()},endSequence:function(){this.currentSequence&&0===this.currentSequence.totalTime&&this.currentSequence.endSequence(),this.currentSequence=null,this.info.valid=!1},newSequence:function(t){this.endSequence(),this.currentSequence=new n(t),this.sequences.push(this.currentSequence),this.info.valid=!1},newActivity:function(t){this.currentSequence&&(-1===this.actNames.indexOf(t.name)&&this.actNames.push(t.name),this.currentSequence.newActivity(t),this.info.valid=!1)},endActivity:function(t,e,i){this.currentSequence&&(this.currentSequence.endActivity(t,e,i),this.info.valid=!1)},newAction:function(t,e,i,n){this.currentSequence&&(this.currentSequence.newAction(t,e,i,n),this.info.valid=!1)},getCurrentSequenceTag:function(){return this.currentSequence?this.currentSequence.name:null},getCurrentSequenceInfo:function(){return this.currentSequence?this.currentSequence.getInfo():null}},r.Info=function(t){this.sReg=t},r.Info.prototype={constructor:r.Info,sReg:null,valid:!1,numSequences:0,nActivities:0,nActSolved:0,nActScore:0,ratioSolved:0,ratioPlayed:0,nActions:0,tScore:0,tTime:0,clear:function(){this.numSequences=this.nActivities=this.nActSolved=this.nActScore=0,this.ratioSolved=this.ratioPlayed=this.nActions=this.tScore=this.tTime=0,this.valid=!1},recalc:function(){if(!this.valid){this.clear();for(var t=0;t<this.sReg.sequences.length;t++){var e=this.sReg.sequences[t].getInfo();e.nActivities>0&&(this.numSequences++,e.nActClosed>0&&(this.nActivities+=e.nActClosed,this.nActions+=e.nActions,e.nActScore>0&&(this.nActScore+=e.nActScore,this.tScore+=e.tScore*e.nActScore),this.tTime+=e.tTime,this.nActSolved+=e.nActSolved))}this.nActScore>0&&(this.tScore=Math.round(this.tScore/this.nActScore)),this.nActivities>0&&(this.ratioSolved=this.nActSolved/this.nActivities,this.sReg.reportableActs>0&&(this.ratioPlayed=this.sReg.actNames.length/this.sReg.reportableActs)),this.valid=!0}return this}},r}(t("jquery"),t("../Utils"),t("../project/JClicProject"),t("./SequenceReg"))},{"../Utils":134,"../project/JClicProject":181,"./SequenceReg":188,jquery:51}],190:[function(t,e,i){e.exports=function(t,e,i){var n=function(t){e.call(this,t),this.tasks=[]};return n.prototype={constructor:n,descriptionKey:"Reporting to remote server",descriptionDetail:"(not connected)",serverPath:"",beforeUnloadFunction:null,currentSessionId:"",lastActivity:null,actCount:0,serviceUrl:null,dbProperties:null,tasks:null,waitingTasks:null,processingTasks:!1,forceFlush:!1,timer:-1,timerLap:5,failCount:0,maxFails:5,DEFAULT_SERVER_PATH:"localhost:9000",DEFAULT_SERVER_SERVICE:"/JClicReportService",DEFAULT_SERVER_PROTOCOL:document&&document.location&&"http:"===document.location.protocol?"http":"https",DEFAULT_TIMER_LAP:20,getProperty:function(t,e){return null!==this.dbProperties&&this.dbProperties.hasOwnProperty(t)?this.dbProperties[t]:e},addTask:function(t){this.processingTasks?null===this.waitingTasks?this.waitingTasks=[t]:this.waitingTasks.push(t):this.tasks.push(t)},flushTasksPromise:function(){if(this.processingTasks||null===this.currentSessionId||0===this.tasks.length||null===this.serviceUrl)return this.processingTasks&&(this.forceFlush=!0),i.Promise.resolve(!0);this.processingTasks=!0;for(var t=this,e=new n.ReportBean("multiple"),r=0;r<this.tasks.length;r++)e.appendData(this.tasks[r].$bean);return i.log("debug","Reporting:",e.$bean[0]),new i.Promise(function(i,n){t.transaction(e.$bean).done(function(e,n,r){t.failCount=0,t.waitingTasks?(t.tasks=t.waitingTasks,t.waitingTasks=null):(t.forceFlush=!1,t.tasks=[]),t.forceFlush&&t.tasks.length>0?(t.forceFlush=!1,t.processingTasks=!1,t.flushTasksPromise().then(function(){i(!0)})):(t.forceFlush=!1,i(!0),t.processingTasks=!1)}).fail(function(e,i,r){++t.failCount>t.maxFails&&t.stopReporting().then(),n("Error reporting results to "+t.serviceUrl+" ["+i+" "+r+"]"),t.processingTasks=!1})})},init:function(r){void 0!==r&&null!==r||(r=this.ps.options),e.prototype.init.call(this,r),this.initiated=!1,this.stopReporting(),this.serverPath=r.path||this.DEFAULT_SERVER_PATH,this.descriptionDetail=this.serverPath;var s=r.service||this.DEFAULT_SERVER_SERVICE;i.startsWith(s,"/")||(s="/"+s);var o=r.protocol||this.DEFAULT_SERVER_PROTOCOL;this.serviceUrl=o+"://"+this.serverPath+s;var a=this,c=new n.ReportBean("get_properties");return new i.Promise(function(e,i){a.transaction(c.$bean).done(function(n,s,o){a.dbProperties={},t(n).find("param").each(function(){var e=t(this);a.dbProperties[e.attr("name")]=e.attr("value")}),a.promptUserId(!1).then(function(t){a.userId=t;var i=r.lap||a.getProperty("TIME_LAP",this.DEFAULT_TIMER_LAP);a.timerLap=Math.min(30,Math.max(1,parseInt(i))),a.timer=window.setInterval(function(){a.flushTasksPromise().then()},1e3*a.timerLap),a.beforeUnloadFunction=function(t){if(null!==a.serviceUrl&&(a.tasks.length>0||a.processingTasks)){a.flushTasksPromise().then();var e=a.ps.getMsg("Please wait until the results of your activities are sent to the reports system");return t&&(t.returnValue=e),e}},window.addEventListener("beforeunload",a.beforeUnloadFunction),a.initiated=!0,e(!0)}).catch(function(t){a.stopReporting(),i("Error getting the user ID: "+t)})}).fail(function(t,e,n){a.stopReporting(),i("Error initializing reports service "+a.serviceUrl+" ["+e+" "+n+"]")})})},newSession:function(t){e.prototype.newSession.call(this,t),this.serviceUrl&&null!==this.userId&&(this.currentSessionId=null)},createDBSession:function(e){var r=this;return null===this.currentSessionId||e?new i.Promise(function(e,i){r.initiated&&null!==r.userId&&null!==r.currentSession?r.flushTasksPromise().then(function(){r.currentSessionId=null;var s=new n.ReportBean("add session");s.setParam("project",r.currentSession.projectName),s.setParam("activities",Number(r.currentSession.reportableActs)),s.setParam("time",Number(r.currentSession.started)),s.setParam("code",r.currentSession.code),s.setParam("user",r.userId),s.setParam("key",r.sessionKey),s.setParam("context",r.sessionContext),r.transaction(s.$bean).done(function(i,n,s){r.currentSessionId=t(i).find('param[name="session"]').attr("value"),e(r.currentSessionId)}).fail(function(t,e,n){r.stopReporting(),i("Error creating new reports session in "+r.serviceUrl+" ["+e+" "+n+"]")})}):i("Unable to start session in remote server!")}):i.Promise.resolve(this.currentSessionId)},end:function(){var t=this;return t.reportActivity(!0),t.stopReporting().then(e.prototype.end.bind(t))},transaction:function(e){return null===this.serviceUrl?null:t.ajax({method:"POST",url:this.serviceUrl,data:'<?xml version="1.0" encoding="UTF-8"?>'+(new XMLSerializer).serializeToString(e.get(0)).replace("minactions","minActions").replace("reportactions","reportActions"),contentType:"text/xml",dataType:"xml"})},getGroups:function(){var e=this;return new i.Promise(function(i,r){if(e.userBased()){var s=new n.ReportBean("get groups");e.transaction(s.$bean).done(function(e,n,r){var s=[];t(e).find("group").each(function(){var e=t(this);s.push({id:e.attr("id"),name:e.attr("name")})}),i(s)}).fail(function(t,i,n){r("Error retrieving groups list from "+e.serviceUrl+" ["+i+" "+n+"]")})}else r("This system does not manage users!")})},getUsers:function(e){var r=this;return new i.Promise(function(i,s){if(r.userBased()){var o=new n.ReportBean("get users");void 0!==e&&null!==e&&o.setParam("group",e),r.transaction(o.$bean).done(function(e,n,r){var s=[];t(e).find("user").each(function(){var e=t(this),i={id:e.attr("id"),name:e.attr("name")};e.attr("pwd")&&(i.pwd=e.attr("pwd")),s.push(i)}),i(s)}).fail(function(t,e,i){s("Error retrieving users list from "+r.serviceUrl+" ["+e+" "+i+"]")})}else s("This system does not manage users!")})},getUserData:function(e){var r=this;return new i.Promise(function(i,s){if(r.userBased()){var o=new n.ReportBean("get user data");void 0!==e&&null!==e?o.setParam("user",e):s("Invalid user ID"),r.transaction(o.$bean).done(function(e,n,s){var o=t(e).find("user");if(1!==o.length)alert(r.ps.getMsg("Invalid user")),i("Invalid user ID");else{var a={id:o.attr("id"),name:o.attr("name")};o.attr("pwd")&&(a.pwd=o.attr("pwd")),i(a)}}).fail(function(t,e,i){s("Error retrieving user data from "+r.serviceUrl+" ["+e+" "+i+"]")})}else s("This system does not manage users!")})},stopReporting:function(){var t=null;if(this.timer>=0&&(window.clearInterval(this.timer),this.timer=-1),this.beforeUnloadFunction&&(window.removeEventListener("beforeunload",this.beforeUnloadFunction),this.beforeUnloadFunction=null),this.initiated){var e=this;t=this.flushTasksPromise().then(function(){e.serviceUrl=null,e.descriptionDetail=e.serverPath+" ("+e.ps.getMsg("not connected")+")",e.initiated=!1})}return t||i.Promise.resolve(!0)},reportActivity:function(t){if(this.lastActivity){this.lastActivity.closed||this.lastActivity.closeActivity();var e=this.actCount++,i=this.lastActivity,r=this;this.createDBSession(!1).then(function(){var s=new n.ReportBean("add activity");s.setParam("session",r.currentSessionId),s.setParam("num",e),s.appendData(i.$getXML()),r.addTask(s),t&&r.flushTasksPromise().then()})}null!==this.currentSession&&null!==this.currentSession.currentSequence&&this.currentSession.currentSequence.currentActivity!==this.lastActivity?this.lastActivity=this.currentSession.currentSequence.currentActivity:this.lastActivity=null},newActivity:function(t){e.prototype.newActivity.call(this,t),this.reportActivity(!1)},endActivity:function(t,i,n){e.prototype.endActivity.call(this,t,i,n),this.reportActivity(!0)}},n.ReportBean=function(e,i){this.$bean=t("<bean/>").attr({id:e}),i&&this.appendData(i)},n.ReportBean.prototype={constructor:n.ReportBean,$bean:null,appendData:function(t){t&&this.$bean.append(t)},setParam:function(e,i){void 0!==i&&null!==i&&this.appendData(t("<param/>").attr({name:e,value:i}))}},n.prototype=t.extend(Object.create(e.prototype),n.prototype),e.CLASSES.TCPReporter=n,n}(t("jquery"),t("./Reporter"),t("../Utils"))},{"../Utils":134,"./Reporter":186,jquery:51}],191:[function(t,e,i){e.exports=function(t,e,i,n){var r=function(t,e){i.call(this,t,e)};return r.prototype={constructor:r,baseWidthFactor:.75,toothHeightFactor:.6,hLine:function(t,e,i,r,s,o,a){var c=a?-1:1,l=1===e?1:-1;if(0===e)t.addStroke(new n.PathStroke("L",[i+s*c,r]));else{var u=i+(s-s*this.baseWidthFactor)/2*c,h=s*(this.baseWidthFactor/12)*c;t.addStroke(new n.PathStroke("L",[u,r]));var d=o*this.toothHeightFactor*l/8;t.addStroke(new n.PathStroke("B",[u+4*h,r,u+6*h,r-d,u+4*h,r-3*d])),t.addStroke(new n.PathStroke("B",[u+2*h,r-5*d,u+10*h,r-5*d,u+8*h,r-3*d])),t.addStroke(new n.PathStroke("B",[u+6*h,r-1*d,u+8*h,r,u+12*h,r])),t.addStroke(new n.PathStroke("L",[i+s*c,r]))}},vLine:function(t,e,i,r,s,o,a){var c=a?-1:1,l=1===e?1:-1;if(0===e)t.addStroke(new n.PathStroke("L",[i,r+o*c]));else{var u=r+(o-o*this.baseWidthFactor)/2*c,h=o*this.baseWidthFactor/12*c;t.addStroke(new n.PathStroke("L",[i,u]));var d=s*this.toothHeightFactor*l/8;t.addStroke(new n.PathStroke("B",[i,u+4*h,i-d,u+6*h,i-3*d,u+4*h])),t.addStroke(new n.PathStroke("B",[i-5*d,u+2*h,i-5*d,u+10*h,i-3*d,u+8*h])),t.addStroke(new n.PathStroke("B",[i-1*d,u+6*h,i,u+8*h,i,u+12*h])),t.addStroke(new n.PathStroke("L",[i,r+o*c]))}}},r.prototype=t.extend(Object.create(i.prototype),r.prototype),e.CLASSES["@ClassicJigSaw"]=r,r}(t("jquery"),t("./Shaper"),t("./JigSaw"),t("../AWT"))},{"../AWT":127,"./JigSaw":193,"./Shaper":195,jquery:51}],192:[function(t,e,i){e.exports=function(t,e){var i=function(t,i){e.call(this,1,1),this.nCols=t,this.nRows=i,this.showEnclosure=!0};return i.prototype={constructor:i,buildShapes:function(){this.nCells>0&&(this.initiated=!0)},getEnclosingShapeData:function(){return this.showEnclosure?this.enclosing||e.prototype.getEnclosingShapeData.call(this):null}},i.prototype=t.extend(Object.create(e.prototype),i.prototype),e.CLASSES["@Holes"]=i,i}(t("jquery"),t("./Shaper"))},{"./Shaper":195,jquery:51}],193:[function(t,e,i){e.exports=function(t,e,i){var n=function(t,i){e.call(this,t,i)};return n.prototype={constructor:n,buildShapes:function(){for(var t=[],e=[],n=0;n<=this.nRows;n++)t[n]=[],e[n]=[];for(var r=0;r<this.nRows;r++)for(var s=0;s<this.nCols;s++)t[r][s]=0===r?0:1+(this.randomLines?Math.round(9*Math.random()):r+s)%2,e[r][s]=0===s?0:1+(this.randomLines?Math.round(9*Math.random()):s+r+1)%2,s===this.nCols-1&&(e[r][s+1]=0),r===this.nRows-1&&(t[r+1][s]=0);for(var o=1/this.nCols,a=1/this.nRows,c=0;c<this.nRows;c++)for(var l=0;l<this.nCols;l++){var u=o*l,h=a*c,d=new i.Path([new i.PathStroke("M",[u,h])]);this.hLine(d,t[c][l],u+0,h+0,o,a,!1),this.vLine(d,e[c][l+1],u+o,h+0,o,a,!1),this.hLine(d,t[c+1][l],u+o,h+a,o,a,!0),this.vLine(d,e[c][l],u+0,h+a,o,a,!0),d.addStroke(new i.PathStroke("X")),d.calcEnclosingRect(),this.shapeData[c*this.nCols+l]=d}this.initiated=!0},hLine:function(t,e,n,r,s,o,a){var c=a?-1:1,l=1===e?1:-1;if(0===e)t.addStroke(new i.PathStroke("L",[n+s*c,r]));else{var u=n+(s-s*this.baseWidthFactor)/2*c,h=s*this.baseWidthFactor*c;t.addStroke(new i.PathStroke("L",[u,r]));var d=o*this.toothHeightFactor*l;t.addStroke(new i.PathStroke("L",[u,r+d])),t.addStroke(new i.PathStroke("L",[u+h,r+d])),t.addStroke(new i.PathStroke("L",[u+h,r])),t.addStroke(new i.PathStroke("L",[n+s*c,r]))}},vLine:function(t,e,n,r,s,o,a){var c=a?-1:1,l=1===e?1:-1;if(0===e)t.addStroke(new i.PathStroke("L",[n,r+o*c]));else{var u=r+(o-o*this.baseWidthFactor)/2*c,h=o*this.baseWidthFactor*c;t.addStroke(new i.PathStroke("L",[n,u]));var d=s*this.toothHeightFactor*l;t.addStroke(new i.PathStroke("L",[n+d,u])),t.addStroke(new i.PathStroke("L",[n+d,u+h])),t.addStroke(new i.PathStroke("L",[n,u+h])),t.addStroke(new i.PathStroke("L",[n,r+o*c]))}}},n.prototype=t.extend(Object.create(e.prototype),n.prototype),e.CLASSES["@JigSaw"]=n,n}(t("jquery"),t("./Shaper"),t("../AWT"))},{"../AWT":127,"./Shaper":195,jquery:51}],194:[function(t,e,i){e.exports=function(t,e,i){var n=function(t,i){e.call(this,t,i)};return n.prototype={constructor:n,rectangularShapes:!0,buildShapes:function(){for(var t=1/this.nCols,e=1/this.nRows,n=0;n<this.nRows;n++)for(var r=0;r<this.nCols;r++)this.shapeData[n*this.nCols+r]=new i.Rectangle(new i.Point(r*t,n*e),new i.Dimension(t,e));this.initiated=!0}},n.prototype=t.extend(Object.create(e.prototype),n.prototype),e.CLASSES["@Rectangular"]=n,n}(t("jquery"),t("./Shaper"),t("../AWT"))},{"../AWT":127,"./Shaper":195,jquery:51}],195:[function(t,e,i){e.exports=function(t,e,i){var n=function(t,e){this.reset(t,e)};return n.CLASSES={},n.getShaper=function(t,i,r){var s=null,o=n.CLASSES[(t||"").replace(/^edu\.xtec\.jclic\.shapers\./,"@")];return o?s=new o(i,r):e.log("error","Unknown shaper: %s",t),s},n.prototype={constructor:n,className:"Shaper",nCols:0,nRows:0,nCells:0,shapeData:null,initiated:!1,baseWidthFactor:1/3,toothHeightFactor:1/6,randomLines:!1,scaleX:1,scaleY:1,enclosing:null,showEnclosure:!1,rectangularShapes:!1,reset:function(t,e){this.nCols=t,this.nRows=e,this.nCells=e*t,this.initiated=!1,this.shapeData=[];for(var n=0;n<this.nCells;n++)this.shapeData[n]=new i.Shape},setProperties:function(i){var n=this;return t.each(i.get(0).attributes,function(){switch(this.name){case"class":n.className=this.value;break;case"cols":n.nCols=Number(this.value);break;case"rows":n.nRows=Number(this.value);break;case"baseWidthFactor":case"toothHeightFactor":case"scaleX":case"scaleY":n[this.name]=Number(this.value);break;case"randomLines":case"showEnclosure":n[this.name]=e.getBoolean(this.value,!0)}}),i.children("enclosing:first").each(function(){t(this).children("shape:first").each(function(t){n.enclosing=n.readShapeData(this,n.scaleX,n.scaleY),n.showEnclosure=!0,n.hasRemainder=!0})}),i.children("shape").each(function(t,e){n.shapeData[t]=n.readShapeData(e,n.scaleX,n.scaleY)}),n.shapeData.length>0&&(n.nCells=n.shapeData.length),this},readShapeData:function(e,n,r){var s=[],o=null;return t.each(e.textContent.split("|"),function(){var t=this.split(":"),e=t.length>1?t[1].split(","):null;if(e)for(var a=0;a<e.length;a++)e[a]/=a%2?r:n;switch(t[0]){case"rectangle":o=new i.Rectangle(e[0],e[1],e[2],e[3]);break;case"ellipse":o=new i.Ellipse(e[0],e[1],e[2],e[3]);break;default:s.push(new i.PathStroke(t[0],e))}}),!o&&s.length>0&&(o=new i.Path(s)),o},buildShapes:function(){},getShape:function(t,e){return this.initiated||this.buildShapes(),t>=this.nCells||null===this.shapeData[t]?null:this.shapeData[t].getShape(e)},getShapeData:function(t){return t>=0&&t<this.shapeData.length?this.shapeData[t]:null},getEnclosingShapeData:function(){return new i.Rectangle(0,0,1,1)},hasRemainder:!1,getRemainderShape:function(t){var e=null;if(!this.hasRemainder)return null;this.initiated||this.buildShapes();var n=this.getEnclosingShapeData();e=n?n.getShape(t):new i.Rectangle;for(var r=0;r<this.nCells;r++)this.shapeData[r]&&e.add(this.shapeData[r].getShape(t),!1);return e}},n}(t("jquery"),t("../Utils"),t("../AWT"))},{"../AWT":127,"../Utils":134,jquery:51}],196:[function(t,e,i){e.exports=function(t,e,i,n){var r=function(t,e){i.call(this,t,e)};return r.prototype={constructor:r,hLine:function(t,e,i,r,s,o,a){var c=a?-1:1,l=1===e?1:-1;if(0===e)t.addStroke(new n.PathStroke("L",[i+s*c,r]));else{var u=i+(s-s*this.baseWidthFactor)/2*c,h=s*this.baseWidthFactor*c;t.addStroke(new n.PathStroke("L",[u,r]));var d=o*this.toothHeightFactor*l;t.addStroke(new n.PathStroke("L",[u+h/2,r+d])),t.addStroke(new n.PathStroke("L",[u+h,r])),t.addStroke(new n.PathStroke("L",[i+s*c,r]))}},vLine:function(t,e,i,r,s,o,a){var c=a?-1:1,l=1===e?1:-1;if(0===e)t.addStroke(new n.PathStroke("L",[i,r+o*c]));else{var u=r+(o-o*this.baseWidthFactor)/2*c,h=o*this.baseWidthFactor*c;t.addStroke(new n.PathStroke("L",[i,u]));var d=s*this.toothHeightFactor*l;t.addStroke(new n.PathStroke("L",[i+d,u+h/2])),t.addStroke(new n.PathStroke("L",[i,u+h])),t.addStroke(new n.PathStroke("L",[i,r+o*c]))}}},r.prototype=t.extend(Object.create(i.prototype),r.prototype),e.CLASSES["@TriangularJigSaw"]=r,r}(t("jquery"),t("./Shaper"),t("./JigSaw"),t("../AWT"))},{"../AWT":127,"./JigSaw":193,"./Shaper":195,jquery:51}],197:[function(t,e,i){e.exports=function(t,e,i){var n=function(t,e){i.call(this,t,e)};return n.prototype={constructor:n,skinId:"JClicBlueSkin",_getStyleSheets:function(){return i.prototype._getStyleSheets()+this.skinCSS},skinCSS:".SKINID {background-color:#1990FF;}"},n.prototype=t.extend(Object.create(i.prototype),n.prototype),e.CLASSES.blue=n,n}(t("jquery"),t("./Skin"),t("./DefaultSkin"))},{"./DefaultSkin":199,"./Skin":205,jquery:51}],198:[function(t,e,i){e.exports=function(){var t=function(t,e){t&&(this.id=t),e&&(this.$div=e)};return t.prototype={constructor:t,id:"",$div:null,value:0,countDown:0,enabled:!0,MAX_DISPLAY_VALUE:999,displayDiffFrom:null,getDisplayValue:function(){var t=this.countDown>0?this.countDown-this.value:this.value;return this.displayDiffFrom&&(t-=this.displayDiffFrom.value),Math.max(0,Math.min(this.MAX_DISPLAY_VALUE,t))},refreshDisplay:function(){this.$div&&(this.$div.html(this.enabled?(this.getDisplayValue()+1e3).toString().substr(1):"000"),this.$div.css("opacity",this.enabled?1:.3))},setEnabled:function(t){this.enabled!==(this.enabled=t)&&this.refreshDisplay()},setCountDown:function(t){this.countDown!==(this.countDown=t)&&this.refreshDisplay()},incValue:function(){this.value++,this.enabled&&this.refreshDisplay()},setValue:function(t){this.enabled&&this.value!==(this.value=t)&&this.refreshDisplay()}},t}()},{}],199:[function(t,e,i){e.exports=function(t,e,i,n,r,s,o){e||(e=window.screenfull);var a=function(a,c,l){l=l||{},n.call(this,a,c);var u=this,h="";i.Font.loadGoogleFonts(this.cssFonts),this.$ctrlCnt=t("<div/>",{class:"JClicCtrlCnt unselectableText",role:"navigation"}),this.$div.append(this.$ctrlCnt),h=a.getMsg("Previous activity"),this.buttons.prev=t("<button/>",{class:"JClicBtn",title:h,"aria-label":h}).append(t(o.getSvg(this.prevIcon,this.iconWidth,this.iconHeight,this.iconFill))).on("click",function(t){u.ps&&u.ps.actions.prev.processEvent(t)}),this.$ctrlCnt.append(this.buttons.prev),this.msgBox=new r,this.msgBox.role="message";var d=this.msgBox;if(this.$msgBoxDiv=t("<div/>",{class:"JClicMsgBox"}).click(function(){return d.playMedia(a),!1}),this.$ctrlCnt.append(this.$msgBoxDiv),h=a.getMsg("Next activity"),this.buttons.next=t("<button/>",{class:"JClicBtn",title:h,"aria-label":h}).append(t(o.getSvg(this.nextIcon,this.iconWidth,this.iconHeight,this.iconFill))).on("click",function(t){u.ps&&u.ps.actions.next.processEvent(t)}),this.$ctrlCnt.append(this.buttons.next),!1!==this.ps.options.counters&&!1!==l.counters){h=a.getMsg("Reports");var f=t("<button/>",{class:"JClicCountCnt","aria-label":h}).on("click",function(t){u.ps&&u.ps.actions.reports.processEvent(t)});t.each(n.prototype.counters,function(e){h=a.getMsg(e),u.counters[e]=new s(e,t("<div/>",{class:"JClicCounter",title:h,"aria-label":h}).css({"background-image":"url("+o.svgToURI(u[e+"Icon"],u.counterIconWidth,u.counterIconHeight,u.counterIconFill)+")",color:u.counterIconFill}).html("000").appendTo(f))}),this.$ctrlCnt.append(f)}if(!0!==this.ps.options.info&&!0!==l.info||(h=a.getMsg("Information"),this.buttons.info=t("<button/>",{class:"JClicBtn",title:h,"aria-label":h}).append(t(o.getSvg(this.infoIcon,this.iconWidth,this.iconHeight,this.iconFill))).on("click",function(t){u.ps&&u.ps.actions.info.processEvent(t)}),this.$ctrlCnt.append(this.buttons.info)),!0!==this.ps.options.reportsBtn&&!0!==l.reportsBtn||(h=a.getMsg("Reports"),this.buttons.about=t("<button/>",{class:"JClicBtn",title:h,"aria-label":h}).append(t(o.getSvg(this.reportsIcon,this.iconWidth,this.iconHeight,this.iconFill))).on("click",function(t){u.ps&&u.ps.actions.reports.processEvent(t)}),this.$ctrlCnt.append(this.buttons.about)),e&&e.enabled&&(h=a.getMsg("Toggle full screen"),this.buttons.fullscreen=t("<button/>",{class:"JClicBtn",title:h,"aria-label":h}).append(t("<img/>",{src:o.svgToURI(this.fullScreenIcon,this.iconWidth,this.iconHeight,this.iconFill)})).on("click",function(){u.setScreenFull(null)}),this.$ctrlCnt.append(this.buttons.fullscreen)),"function"==typeof this.ps.options.closeFn){h=a.getMsg("Close");var p=this.ps.options.closeFn;this.buttons.close=t("<button/>",{class:"JClicBtn",title:h,"aria-label":h}).append(t(o.getSvg(this.closeIcon,this.iconWidth,this.iconHeight,this.iconFill))).on("click",function(){o.log("info","Closing the player"),p()}),this.$ctrlCnt.append(this.buttons.close)}var g=null;t.each(this.buttons,function(t,e){!e||"function"==typeof e[0].focus&&"function"==typeof e[0].blur||(null===g&&(g=function(){o.log("error",'"blur" and "focus" not defined for SVG objects in Explorer/Edge')}),e[0].focus=e[0].blur=g)})};return a.prototype={constructor:a,skinId:"JClicDefaultSkin",$ctrlCnt:null,msgBox:null,$msgBoxDiv:null,$msgBoxDivCanvas:null,margin:18,msgBoxHeight:60,countersWidth:60,countersHeight:20,_getStyleSheets:function(){return n.prototype._getStyleSheets()+this.mainCSS},updateContent:function(t){if(this.$msgBoxDivCanvas){var e=this.$msgBoxDivCanvas.get(-1).getContext("2d");e.clearRect(0,0,e.canvas.clientWidth,e.canvas.clientHeight),this.msgBox.update(e,t)}return n.prototype.updateContent.call(this)},doLayout:function(){n.prototype.doLayout.call(this);var r=this;this.buttons.fullscreen&&(this.buttons.fullscreen.find("img").get(-1).src=o.svgToURI(this[e.isFullscreen?"fullScreenExitIcon":"fullScreenIcon"],this.iconWidth,this.iconHeight,this.iconFill)),window.setTimeout(function(){r.$msgBoxDivCanvas&&r.$msgBoxDivCanvas.remove();var e=r.$msgBoxDiv.outerWidth(),n=r.$msgBoxDiv.outerHeight();null!==r.$msgBoxDivCanvas&&r.msgBox.dim.widht===e&&r.msgBox.dim.height===n||(r.$msgBoxDivCanvas=t('<canvas width="'+e+'" height="'+n+'"/>'),r.msgBox.setBounds(new i.Rectangle(0,0,e+1,n)),r.msgBox.buildAccessibleElement(r.$msgBoxDivCanvas,r.$msgBoxDiv)),r.$msgBoxDiv.append(r.$msgBoxDivCanvas),r.updateContent()},0)},getMsgBox:function(){return this.msgBox},actionStatusChanged:function(t){switch(t.name){case"next":this.setEnabled(this.buttons.next,t.enabled);break;case"prev":this.setEnabled(this.buttons.prev,t.enabled)}},enableMainButtons:function(t){this.$ctrlCnt.find(".JClicBtn,.JClicCountCnt").attr("tabindex",t?"0":"-1")},setEnabled:function(t,e){t.css("opacity",e?1:.3).prop("disabled",!e)},mainCSS:".SKINID .JClicCtrlCnt {margin:0 9px 18px 9px; display:-webkit-flex; display:flex; -webkit-flex-direction:row; flex-direction:row; -webkit-align-items:center; align-items:center;}.SKINID .JClicCountCnt {display:-webkit-flex; display:flex; -webkit-flex-direction:column; flex-direction:column;}.SKINID .JClicMsgBox {height:60px; -webkit-flex-grow:1; flex-grow:1; background-color:lightblue;}.SKINID .JClicBtn {cursor:pointer; line-height:0;}.SKINID .JClicCounter {width:40px; height:20px; padding-left:20px; color:white; cursor:pointer; font-family:Roboto,Sans-serif; font-size:18px; text-align:center; background-repeat:no-repeat; background-position:left}",cssFonts:["Roboto"],iconWidth:36,iconHeight:36,iconFill:"#FFFFFF",prevIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>',nextIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>',fullScreenIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>',fullScreenExitIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></svg>',closeIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',infoIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/></svg>',reportsIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>',counterIconWidth:18,counterIconHeight:18,counterIconFill:"#FFFFFF",timeIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>',scoreIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>',actionsIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"/></svg>'},a.prototype=t.extend(Object.create(n.prototype),a.prototype),n.CLASSES.default=a,a}(t("jquery"),t("screenfull"),t("../AWT"),t("./Skin"),t("../boxes/ActiveBox"),t("./Counter"),t("../Utils"))},{"../AWT":127,"../Utils":134,"../boxes/ActiveBox":165,"./Counter":198,"./Skin":205,jquery:51,screenfull:118}],200:[function(t,e,i){e.exports=function(t,e){var i=function(t,i){e.call(this,t,i)};return i.prototype={constructor:i,skinId:"JClicEmptySkin",_getStyleSheets:function(){return e.prototype._getStyleSheets()+this.mainCSS},mainCSS:".SKINID .JClicPlayerCnt {margin:0;}"},i.prototype=t.extend(Object.create(e.prototype),i.prototype),e.CLASSES.empty=i,i}(t("jquery"),t("./Skin"))},{"./Skin":205,jquery:51}],201:[function(t,e,i){e.exports=function(t,e,i){var n=function(t,e){i.call(this,t,e)};return n.prototype={constructor:n,skinId:"JClicGreenSkin",_getStyleSheets:function(){return i.prototype._getStyleSheets()+this.skinCSS},iconFill:"#20640E",counterIconFill:"#20640E",skinCSS:".SKINID {background-color:#4AFF19;}"},n.prototype=t.extend(Object.create(i.prototype),n.prototype),e.CLASSES.green=n,n}(t("jquery"),t("./Skin"),t("./DefaultSkin"))},{"./DefaultSkin":199,"./Skin":205,jquery:51}],202:[function(t,e,i){e.exports=function(t,e,i){var n=function(t,e){i.call(this,t,e,{counters:!1,reportsBtn:!0})};return n.prototype={constructor:n,skinId:"JClicMiniSkin",_getStyleSheets:function(){return i.prototype._getStyleSheets()+this.skinCSS},iconWidth:18,iconHeight:18,iconFill:"#080808",counterIconFill:"#080808",margin:8,skinCSS:".SKINID {background-color:#F4F4F4;}.SKINID .JClicPlayerCnt {margin:4px;}.SKINID .JClicCtrlCnt {margin:0 2px 4px 2px;}.SKINID .JClicMsgBox {height:25px;}"},n.prototype=t.extend(Object.create(i.prototype),n.prototype),e.CLASSES.mini=n,n}(t("jquery"),t("./Skin"),t("./DefaultSkin"))},{"./DefaultSkin":199,"./Skin":205,jquery:51}],203:[function(t,e,i){e.exports=function(t,e,i){var n=function(t,e){i.call(this,t,e)};return n.prototype={constructor:n,skinId:"JClicOrangeSkin",_getStyleSheets:function(){return i.prototype._getStyleSheets()+this.skinCSS},skinCSS:".SKINID {background-color:#FF8B19;}"},n.prototype=t.extend(Object.create(i.prototype),n.prototype),e.CLASSES.orange=n,n}(t("jquery"),t("./Skin"),t("./DefaultSkin"))},{"./DefaultSkin":199,"./Skin":205,jquery:51}],204:[function(t,e,i){e.exports=function(t,e,i){var n=function(e,n){i.call(this,e,n,{counters:!1,reportsBtn:!0}),this.$ctrlCnt.detach().prependTo(this.$div),this.$msgBoxDiv.detach().appendTo(this.$div),t("<div/>").css({"flex-grow":1}).insertAfter(this.$ctrlCnt.children(":nth-child(2)"))};return n.prototype={constructor:n,skinId:"JClicSimpleSkin",_getStyleSheets:function(){return i.prototype._getStyleSheets()+this.skinCSS},skinCSS:".SKINID {background-color:#888888;}.SKINID .JClicCtrlCnt {margin:9px;}.SKINID .JClicPlayerCnt {margin:0px 18px 18px;}.SKINID .JClicMsgBox {flex-grow:0; margin:0 18px 18px 18px;}"},n.prototype=t.extend(Object.create(i.prototype),n.prototype),e.CLASSES.simple=n,n}(t("jquery"),t("./Skin"),t("./DefaultSkin"))},{"./DefaultSkin":199,"./Skin":205,jquery:51}],205:[function(t,e,i){e.exports=function(t,e,i,n,r){e||(e=window.screenfull);var s=function(e,o){r.Container.call(this),s.registerStyleSheet(this.skinId,e)||n.appendStyleAtHead(this._getStyleSheets().replace(/SKINID/g,this.skinId),e);var a=this,c="";this.$div=t("<div/>",{class:this.skinId}),this.$playerCnt=t("<div/>",{class:"JClicPlayerCnt"}),this.$progress=t("<progress/>",{class:"progressBar"}).css({display:"none"}),this.$waitPanel=t("<div/>").css({display:"none","background-color":"rgba(255, 255, 255, .60)","z-index":99}).append(t("<div/>",{class:"waitPanel"}).css({display:"flex","flex-direction":"column"}).append(t("<div/>",{class:"animImgBox"}).append(t(this.waitImgBig),t(this.waitImgSmall))).append(this.$progress)),this.$playerCnt.append(this.$waitPanel),this.buttons=n.cloneObject(s.prototype.buttons),this.counters=n.cloneObject(s.prototype.counters),this.msgArea=n.cloneObject(s.prototype.msgArea),e&&(this.ps=e),o&&(this.name=o),this.$dlgOverlay=t("<div/>",{class:"dlgOverlay"}).css({"z-index":98,position:"fixed",left:0,top:0,width:"100%",height:"100%",display:"none","background-color":"rgba(30,30,30,0.7)"}).on("click",function(){return a._isModalDlg||a._closeDlg(!0),!1});var l=t("<div/>",{class:"dlgDiv",role:"dialog","aria-labelledby":e.getUniqueId("ReportsLb"),"aria-describedby":e.getUniqueId("ReportsCnt")}).css({display:"inline-block",position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}).on("click",function(){return!1});this.$dlgMainPanel=t("<div/>",{class:"dlgMainPanel",id:e.getUniqueId("ReportsCnt")}),this.$dlgBottomPanel=t("<div/>",{class:"dlgBottomPanel",role:"navigation"}),this.$div.append(this.$playerCnt,this.$dlgOverlay.append(l.append(this.$dlgMainPanel,this.$dlgBottomPanel))),c=e.getMsg("JClic logo"),this.$infoHead=t("<div/>",{class:"infoHead"}).append(t("<div/>",{class:"headTitle unselectableText"}).append(t(this.appLogo,{"aria-label":c}).css({width:"1.5em",height:"1.5em","vertical-align":"bottom"}).dblclick(function(){n.setLogLevel("all"),n.log("trace",'Log level set to "trace"'),t(this).off("dblclick")})).append(t("<span/>").html("JClic.js"))).append(t("<p/>").css({"margin-top":0,"margin-left":"3.5em"}).append(t("<a/>",{href:"http://clic.xtec.cat/repo/index.html?page=info"}).html("http://clic.xtec.cat")).append(t("<br>")).append(t("<span/>").html(e.getMsg("Version")+" "+this.ps.JClicVersion))),this.$reportsPanel=t("<div/>",{class:"reportsPanel",role:"document"}),c=e.getMsg("Copy data to clipboard"),this.$copyBtn=t("<button/>",{title:c,"aria-label":c}).append(t(this.copyIcon).css({width:"26px",height:"26px"})).on("click",function(){i.copy({"text/plain":"===> "+e.getMsg("The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor")+" <===","text/html":a.$reportsPanel.html()}),t(this).parent().append(t("<div/>",{class:"smallPopup"}).html(e.getMsg("The data has been copied to clipboard")).fadeIn().delay(3e3).fadeOut(function(){t(this).remove()}))}),c=e.getMsg("Close"),this.$closeDlgBtn=t("<button/>",{title:c,"aria-label":c}).append(t(this.closeDialogIcon).css({width:"26px",height:"26px"})).on("click",function(){a._closeDlg(!0)}),c=e.getMsg("OK"),this.$okDlgBtn=t("<button/>",{title:c,"aria-label":c}).append(t(this.okDialogIcon).css({width:"26px",height:"26px"})).on("click",function(){a._closeDlg(!0)}),c=e.getMsg("Cancel"),this.$cancelDlgBtn=t("<button/>",{title:c,"aria-label":c}).append(t(this.closeDialogIcon).css({width:"26px",height:"26px"})).on("click",function(){a._closeDlg(!1)}),s.skinStack.push(this)};return s.skinStack=[],s.rootStyles={},s.lastId=1,s.registerStyleSheet=function(t,e){var i=!1,r=n.getRootHead(e);r.__JClicID||(r.__JClicID="SK"+s.lastId++);var o=s.rootStyles[r.__JClicID];return o||(o=[],s.rootStyles[r.__JClicID]=o),o.indexOf(t)<0?(n.log("trace",'Stylesheet "%s" has been registered for root node labeled as "%s"',t,r.__JClicID),o.push(t)):i=!0,i},s.CLASSES={},s.prototype={constructor:s,skinId:"JClicBasicSkin",$div:null,$playerCnt:null,name:"default",fileName:"",$waitPanel:null,$progress:null,currentProgress:-1,maxProgress:0,$dlgOverlay:null,$dlgMainPanel:null,$dlgBottomPanel:null,$infoHead:null,$copyBtn:null,$closeDlgBtn:null,$okDlgBtn:null,$cancelDlgBtn:null,_dlgOkValue:null,_dlgCancelValue:null,_isModalDlg:!1,$reportsPanel:null,buttons:{prev:null,next:null,return:null,reset:null,info:null,help:null,audio:null,about:null,fullscreen:null,close:null},counters:{actions:null,score:null,time:null},msgArea:{main:null,aux:null,mem:null},player:null,ps:null,waitCursorCount:0,_getStyleSheets:function(){return this.basicCSS+this.waitAnimCSS+this.reportsCSS},attach:function(t){this.detach(),null!==t&&null!==t.skin&&t.skin.detach(),this.player=t,this.$playerCnt.prepend(t.$div),this.setSkinSizes(),t.$mainContainer.append(this.$div)},setSkinSizes:function(t){var i={},r=this.player.$topDiv.height(),s=this.player.fullScreenChecked?"inherit":null;void 0===t&&(t=e&&e.enabled&&e.isFullscreen),n.toCssSize(t?"100vw":this.ps.options.minWidth,i,"min-width",s),n.toCssSize(t?"100vh":this.ps.options.minHeight,i,"min-height",s),n.toCssSize(t?"100vw":this.ps.options.maxWidth,i,"max-width",s),n.toCssSize(t?"100vh":this.ps.options.maxHeight,i,"max-height",s),n.toCssSize(t?"100vw":this.ps.options.width,i,"width","100%"),n.toCssSize(t?"100vh":this.ps.options.height,i,"height",r>0?"100%":"100vh"),this.$div.css(i)},detach:function(){null!==this.player&&(this.player.$div.remove(),this.$div.detach(),this.player=null)},setProperties:function(t){},updateContent:function(t){return r.Container.prototype.updateContent.call(this,t)},resetAllCounters:function(e){t.each(this.counters,function(t,i){null!==i&&(i.value=0,i.countDown=0,i.enabled=e,i.refreshDisplay())})},setWaitCursor:function(t){if(void 0===t)this.$waitPanel&&this.$waitPanel.css({display:this.waitCursorCount>0?"initial":"none"});else{switch(t){case!0:this.waitCursorCount++;break;case!1:--this.waitCursorCount<0&&(this.waitCursorCount=0);break;case"reset":this.waitCursorCount=0}this.setWaitCursor()}},setProgress:function(t,e){this.$progress&&(this.currentProgress=t,t<0?this.$progress.css({display:"none"}):(e&&(this.maxProgress=e,this.$progress.attr("max",e).css({display:"initial"})),this.$progress.attr("value",t)),n.log("trace","Progress: %d/%d",this.currentProgress,this.maxProgress))},incProgress:function(t){this.currentProgress>=0&&this.setProgress(this.currentProgress+(t||1))},showHelp:function(t){},showDlg:function(t,e){var i=this;return new n.Promise(function(n,r){i._dlgOkValue="ok",i._dlgCancelValue="cancelled",i._isModalDlg=t,i.$dlgMainPanel.children().detach(),i.$dlgBottomPanel.children().detach(),e.main&&i.$dlgMainPanel.append(e.main),e.bottom&&i.$dlgBottomPanel.append(e.bottom),i._closeDlg=function(t){t&&n?n(i._dlgOkValue):!t&&r&&r(i._dlgCancelValue),i.$dlgOverlay.css({display:"none"}),i.enableMainButtons(!0),i._closeDlg=s.prototype._closeDlg},i.enableMainButtons(!1),i.$dlgOverlay.css({display:"initial"})})},enableMainButtons:function(t){this.$playerCnt.find("button").attr("tabindex",t?"0":"-1")},_closeDlg:function(){},showReports:function(t){return this.$reportsPanel.html(t?t.$print(this.ps):""),this.showDlg(!1,{main:[this.$infoHead,this.$reportsPanel],bottom:[this.$copyBtn,this.$closeDlgBtn]})},enableCounter:function(t,e){this.counters[t]&&this.counters[t].setEnabled(e)},doLayout:function(){this.player.doLayout()},fit:function(){return this.doLayout(),new r.Dimension(this.$div.width(),this.$div.height())},setScreenFull:function(t){if(e&&e.enabled&&(!0===t&&!e.isFullscreen||!1===t&&!e.isFullScreen||!0!==t&&!1!==t)){var i=e.isFullscreen;e.toggle(this.player.$mainContainer.get(-1)),this.player.fullScreenChecked=!0,this.setSkinSizes(!i)}},equals:function(t){return t&&this.name===t.name&&this.ps===t.ps},getMsgBox:function(){return null},actionStatusChanged:function(t){},basicCSS:".SKINID {width:100%; background-color:#3F51B5; display:-webkit-flex; display:flex; -webkit-flex-direction:column; flex-direction:column;}.SKINID .JClicPlayerCnt {background-color:lightblue; margin:18px; -webkit-flex-grow:1; flex-grow:1; position:relative;}.SKINID .JClicPlayerCnt > div {position:absolute; width:100%; height:100%;}.SKINID button:not(.StockBtn) {background:transparent; padding:0; border:none;}.SKINID .unselectableText {-webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select: none;}.SKINID .progressBar {width: 250px}",waitAnimCSS:".SKINID .waitPanel {display:-webkit-flex; display:flex; width:100%; height:100%; -webkit-justify-content:center; justify-content:center; -webkit-align-items:center; align-items:center;}.SKINID .animImgBox {position:relative; width:300px; height:300px; max-width:80%; max-height:80%;}.SKINID .animImgBox svg {position:absolute; width:100%; height:100%; animation-iteration-count:infinite; animation-timing-function:linear;}.SKINID #waitImgBig {animation-duration:0.8s; animation-name:rotate-right;}@keyframes rotate-right {from {transform:rotate(0);} to {transform:rotate(1turn);}}.SKINID #waitImgSmall {animation-duration:0.6s; animation-name:rotate-left;}@keyframes rotate-left {from {transform:rotate(0);} to {transform:rotate(-1turn);}}",waitImgBig:'<svg id="waitImgBig" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg"><path fill="#3F51B5" d="m 65.99,40.19 c -0.42,5.33 7.80,4.94 8.11,0.20 C 74.50,34.37 66.35,8.59 42.92,7.98 15.90,7.29 9.96,29.50 9.94,39.41 15.33,-1.66 68.61,7.048 65.99,40.19 Z" /></svg>',waitImgSmall:'<svg id="waitImgSmall" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg"><path fill="#3F51B5"d="m 57.00,39.43 c -0.28,-3.53 5.16,-3.27 5.37,-0.13 0.26,3.99 -5.13,21.04 -20.63,21.44 C 23.85,61.19 19.93,46.50 19.92,39.94 23.48,67.11 58.73,61.35 57.00,39.43 Z"/></svg>',reportsCSS:".SKINID .dlgDiv {background-color:#efefef; color:#757575; font-family:Roboto,sans-serif; font-size:10pt; line-height:normal;}.SKINID .dlgDiv a,a:visited,a:active,a:hover {text-decoration:none; color:inherit;}.SKINID .dlgMainPanel {padding:1em 2em; max-height:calc(100vh - 8em); max-width:calc(100vw - 2em); min-width:20em; overflow:auto;}.SKINID .dlgMainPanel .headTitle {font-size:2.5em; font-weight:bold; margin:auto;}.SKINID .dlgMainPanel .subTitle {font-size:1.4em; font-weight:bold; margin-bottom:0.5em;}.SKINID .dlgMainPanel p {font-size:1.1em; margin-bottom:0.5em;}.SKINID .dlgMainPanel table {table-layout:fixed; width:40em; margin:0.5em 0 1.7em 0; border-collapse:collapse;}.SKINID .dlgMainPanel select {min-width:20em; font-size:1.2em; font-family:Roboto,sans-serif; color:#757575;}.SKINID .dlgMainPanel input {margin-left:1em; font-size:1.2em; font-family:Roboto,sans-serif; border-color:lightgray;}.SKINID .infoHead {padding:1em 0em 0.5em;}.SKINID .JCGlobalResults td {padding:0.4em; border-bottom:1px solid #b6b6b6;}.SKINID .JCGlobalResults td:first-child {font-weight:600; width:14em;}.SKINID .JCDetailed td,th {border-bottom:1px solid #b6b6b6; padding:0.3em 0.4em; vertical-align:top; text-align:center; overflow:hidden; text-overflow:ellipsis;}.SKINID .JCDetailed thead {font-weight:600;}.SKINID .JCDetailed th:first-child {width:7em;}.SKINID .JCDetailed th:nth-last-child(4) {width:4em;}.SKINID .JCDetailed th:nth-last-child(-n+3) {width:4.1em; text-align:right;}.SKINID .JCDetailed td:nth-last-child(-n+3) {text-align:right;}.SKINID .JCDetailed .ok {color:#4bae4f; font-weight:600;}.SKINID .JCDetailed .no {color:#f34235; font-weight:600;}.SKINID .JCDetailed tr:last-child {font-weight:bold;}.SKINID .JCDetailed .incomplete {font-style:italic;}.SKINID .dlgBottomPanel {height:3.5em; background-color:white; padding:0.5em; font-weight:bold; text-align:right; border-top:1px solid #eee; position:relative;}.SKINID .dlgBottomPanel .smallPopup {background-color:#222; color:#ddd; padding:0.5em; font-size:0.9em; position:absolute; right:6em; top:1em;}.SKINID .dlgBottomPanel button {display:inline-block; padding:10px; cursor:pointer; line-height:0;}.SKINID .dlgBottomPanel button:hover {background-color:#eee; border-radius:80px;}.SKINID .dlgBottomPanel button:active {background-color:#b3e5fc;}",closeDialogIcon:'<svg fill="#757575" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',okDialogIcon:'<svg fill="#757575" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>',copyIcon:'<svg fill="#757575" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>',appLogo:'<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(.02081 0 0-.02081 5 62.33)"><path d="m1263 1297l270 1003 996-267-267-990c-427-1583-2420-1046-1999 519 3 11 999-266 999-266z" fill="none" stroke="#9d6329" stroke-linejoin="round" stroke-linecap="round" stroke-width="180" stroke-miterlimit="3.864"/><path d="m1263 1297l270 1003 996-267-267-990c-427-1583-2420-1046-1998 519 3 11 999-266 999-266" fill="#f89c0e"/><path d="m357 2850l1000-268-267-992-1000 266 267 994z" fill="none" stroke="#86882b" stroke-linejoin="round" stroke-linecap="round" stroke-width="180" stroke-miterlimit="3.864"/>\n<path d="m357 2850l1000-268-267-992-1000 266 267 994" fill="#d9e70c"/>\n</g></svg>'},s.prototype=t.extend(Object.create(r.Container.prototype),s.prototype),s.getSkin=function(t,e,i){var r=null;if("@"===(t=t||"default").charAt(0,1)&&".xml"===t.substr(-4)&&(t=t.substr(1,t.length-5)),t&&e)for(var o=0;o<s.skinStack;o++)if((r=s.skinStack[o]).name===t&&r.ps===e)return r;var a=s.CLASSES[t];return a||(n.log("warn","Unknown skin class: %s",t),a=s.CLASSES.default),r=new a(e,t),i&&r.setProperties(i),r},s}(t("jquery"),t("screenfull"),t("clipboard-js"),t("../Utils"),t("../AWT"))},{"../AWT":127,"../Utils":134,"clipboard-js":4,jquery:51,screenfull:118}]},{},[131]);