<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Source: boxes/TextGrid.js</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body class="dark" data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="qHlACl8CFdcBMSnoHvrhv"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-AWT.html">AWT</a></div><div class="sidebar-section-children"><a href="module-Activity.html">Activity</a></div><div class="sidebar-section-children"><a href="module-JClic.html">JClic</a></div><div class="sidebar-section-children"><a href="module-JClicPlayer.html">JClicPlayer</a></div><div class="sidebar-section-children"><a href="module-PlayerHistory.html">PlayerHistory</a></div><div class="sidebar-section-children"><a href="module-Utils.html">Utils</a></div><div class="sidebar-section-children"><a href="module-activities_associations_ComplexAssociation.html">activities/associations/ComplexAssociation</a></div><div class="sidebar-section-children"><a href="module-activities_associations_SimpleAssociation.html">activities/associations/SimpleAssociation</a></div><div class="sidebar-section-children"><a href="module-activities_memory_MemoryGame.html">activities/memory/MemoryGame</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Explore.html">activities/panels/Explore</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Identify.html">activities/panels/Identify</a></div><div class="sidebar-section-children"><a href="module-activities_panels_InformationScreen.html">activities/panels/InformationScreen</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Menu.html">activities/panels/Menu</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_DoublePuzzle.html">activities/puzzles/DoublePuzzle</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_ExchangePuzzle.html">activities/puzzles/ExchangePuzzle</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_HolePuzzle.html">activities/puzzles/HolePuzzle</a></div><div class="sidebar-section-children"><a href="module-activities_text_Complete.html">activities/text/Complete</a></div><div class="sidebar-section-children"><a href="module-activities_text_Evaluator.html">activities/text/Evaluator</a></div><div class="sidebar-section-children"><a href="module-activities_text_FillInBlanks.html">activities/text/FillInBlanks</a></div><div class="sidebar-section-children"><a href="module-activities_text_IdentifyText.html">activities/text/IdentifyText</a></div><div class="sidebar-section-children"><a href="module-activities_text_OrderText.html">activities/text/OrderText</a></div><div class="sidebar-section-children"><a href="module-activities_text_TextActivityBase.html">activities/text/TextActivityBase</a></div><div class="sidebar-section-children"><a href="module-activities_text_TextActivityDocument.html">activities/text/TextActivityDocument</a></div><div class="sidebar-section-children"><a href="module-activities_text_WrittenAnswer.html">activities/text/WrittenAnswer</a></div><div class="sidebar-section-children"><a href="module-activities_textGrid_CrossWord.html">activities/textGrid/CrossWord</a></div><div class="sidebar-section-children"><a href="module-activities_textGrid_WordSearch.html">activities/textGrid/WordSearch</a></div><div class="sidebar-section-children"><a href="module-automation_AutoContentProvider.html">automation/AutoContentProvider</a></div><div class="sidebar-section-children"><a href="module-automation_arith_Arith.html">automation/arith/Arith</a></div><div class="sidebar-section-children"><a href="module-bags_ActivitySequence.html">bags/ActivitySequence</a></div><div class="sidebar-section-children"><a href="module-bags_ActivitySequenceElement.html">bags/ActivitySequenceElement</a></div><div class="sidebar-section-children"><a href="module-bags_ActivitySequenceJump.html">bags/ActivitySequenceJump</a></div><div class="sidebar-section-children"><a href="module-bags_ConditionalJumpInfo.html">bags/ConditionalJumpInfo</a></div><div class="sidebar-section-children"><a href="module-bags_JumpInfo.html">bags/JumpInfo</a></div><div class="sidebar-section-children"><a href="module-bags_MediaBag.html">bags/MediaBag</a></div><div class="sidebar-section-children"><a href="module-bags_MediaBagElement.html">bags/MediaBagElement</a></div><div class="sidebar-section-children"><a href="module-boxes_AbstractBox.html">boxes/AbstractBox</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBagContent.html">boxes/ActiveBagContent</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBox.html">boxes/ActiveBox</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxBag.html">boxes/ActiveBoxBag</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxContent.html">boxes/ActiveBoxContent</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxGrid.html">boxes/ActiveBoxGrid</a></div><div class="sidebar-section-children"><a href="module-boxes_BoxBag.html">boxes/BoxBag</a></div><div class="sidebar-section-children"><a href="module-boxes_BoxBase.html">boxes/BoxBase</a></div><div class="sidebar-section-children"><a href="module-boxes_BoxConnector.html">boxes/BoxConnector</a></div><div class="sidebar-section-children"><a href="module-boxes_TextGrid.html">boxes/TextGrid</a></div><div class="sidebar-section-children"><a href="module-boxes_TextGridContent.html">boxes/TextGridContent</a></div><div class="sidebar-section-children"><a href="module-media_ActiveMediaBag.html">media/ActiveMediaBag</a></div><div class="sidebar-section-children"><a href="module-media_ActiveMediaPlayer.html">media/ActiveMediaPlayer</a></div><div class="sidebar-section-children"><a href="module-media_AudioBuffer.html">media/AudioBuffer</a></div><div class="sidebar-section-children"><a href="module-media_EventSounds.html">media/EventSounds</a></div><div class="sidebar-section-children"><a href="module-media_EventSoundsElement.html">media/EventSoundsElement</a></div><div class="sidebar-section-children"><a href="module-media_MediaContent.html">media/MediaContent</a></div><div class="sidebar-section-children"><a href="module-media_MidiAudioPlayer.html">media/MidiAudioPlayer</a></div><div class="sidebar-section-children"><a href="module-project_JClicProject.html">project/JClicProject</a></div><div class="sidebar-section-children"><a href="module-project_ProjectSettings.html">project/ProjectSettings</a></div><div class="sidebar-section-children"><a href="module-report_ActionReg.html">report/ActionReg</a></div><div class="sidebar-section-children"><a href="module-report_ActivityReg.html">report/ActivityReg</a></div><div class="sidebar-section-children"><a href="module-report_EncryptMin.html">report/EncryptMin</a></div><div class="sidebar-section-children"><a href="module-report_Reporter.html">report/Reporter</a></div><div class="sidebar-section-children"><a href="module-report_SCORM.html">report/SCORM</a></div><div class="sidebar-section-children"><a href="module-report_SequenceReg.html">report/SequenceReg</a></div><div class="sidebar-section-children"><a href="module-report_SessionReg.html">report/SessionReg</a></div><div class="sidebar-section-children"><a href="module-report_SessionStorageReporter.html">report/SessionStorageReporter</a></div><div class="sidebar-section-children"><a href="module-report_TCPReporter.html">report/TCPReporter</a></div><div class="sidebar-section-children"><a href="module-shapers_ClassicJigSaw.html">shapers/ClassicJigSaw</a></div><div class="sidebar-section-children"><a href="module-shapers_Holes.html">shapers/Holes</a></div><div class="sidebar-section-children"><a href="module-shapers_JigSaw.html">shapers/JigSaw</a></div><div class="sidebar-section-children"><a href="module-shapers_Rectangular.html">shapers/Rectangular</a></div><div class="sidebar-section-children"><a href="module-shapers_Shaper.html">shapers/Shaper</a></div><div class="sidebar-section-children"><a href="module-shapers_TriangularJigSaw.html">shapers/TriangularJigSaw</a></div><div class="sidebar-section-children"><a href="module-skins_BlueSkin.html">skins/BlueSkin</a></div><div class="sidebar-section-children"><a href="module-skins_Counter.html">skins/Counter</a></div><div class="sidebar-section-children"><a href="module-skins_CustomSkin.html">skins/CustomSkin</a></div><div class="sidebar-section-children"><a href="module-skins_DefaultSkin.html">skins/DefaultSkin</a></div><div class="sidebar-section-children"><a href="module-skins_EmptySkin.html">skins/EmptySkin</a></div><div class="sidebar-section-children"><a href="module-skins_GreenSkin.html">skins/GreenSkin</a></div><div class="sidebar-section-children"><a href="module-skins_MiniSkin.html">skins/MiniSkin</a></div><div class="sidebar-section-children"><a href="module-skins_OrangeSkin.html">skins/OrangeSkin</a></div><div class="sidebar-section-children"><a href="module-skins_SimpleSkin.html">skins/SimpleSkin</a></div><div class="sidebar-section-children"><a href="module-skins_Skin.html">skins/Skin</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="xnPDc3I_kKVhPtm1lO4E8"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-AWT.Action.html">Action</a></div><div class="sidebar-section-children"><a href="module-AWT.Container.html">Container</a></div><div class="sidebar-section-children"><a href="module-AWT.Dimension.html">Dimension</a></div><div class="sidebar-section-children"><a href="module-AWT.Ellipse.html">Ellipse</a></div><div class="sidebar-section-children"><a href="module-AWT.Font.html">Font</a></div><div class="sidebar-section-children"><a href="module-AWT.Gradient.html">Gradient</a></div><div class="sidebar-section-children"><a href="module-AWT.Path.html">Path</a></div><div class="sidebar-section-children"><a href="module-AWT.PathStroke.html">PathStroke</a></div><div class="sidebar-section-children"><a href="module-AWT.Point.html">Point</a></div><div class="sidebar-section-children"><a href="module-AWT.Rectangle.html">Rectangle</a></div><div class="sidebar-section-children"><a href="module-AWT.Shape.html">Shape</a></div><div class="sidebar-section-children"><a href="module-AWT.Stroke.html">Stroke</a></div><div class="sidebar-section-children"><a href="module-AWT.Timer.html">Timer</a></div><div class="sidebar-section-children"><a href="module-Activity.Activity.html">Activity</a></div><div class="sidebar-section-children"><a href="module-Activity.ActivityPanel.html">ActivityPanel</a></div><div class="sidebar-section-children"><a href="module-JClicPlayer.JClicPlayer.html">JClicPlayer</a></div><div class="sidebar-section-children"><a href="module-PlayerHistory.PlayerHistory.html">PlayerHistory</a></div><div class="sidebar-section-children"><a href="module-activities_associations_ComplexAssociation.ComplexAssociation.html">ComplexAssociation</a></div><div class="sidebar-section-children"><a href="module-activities_associations_ComplexAssociation.ComplexAssociationPanel.html">ComplexAssociationPanel</a></div><div class="sidebar-section-children"><a href="module-activities_associations_SimpleAssociation.SimpleAssociation.html">SimpleAssociation</a></div><div class="sidebar-section-children"><a href="module-activities_associations_SimpleAssociation.SimpleAssociationPanel.html">SimpleAssociationPanel</a></div><div class="sidebar-section-children"><a href="module-activities_memory_MemoryGame.MemoryGame.html">MemoryGame</a></div><div class="sidebar-section-children"><a href="module-activities_memory_MemoryGame.MemoryGamePanel.html">MemoryGamePanel</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Explore.Explore.html">Explore</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Explore.ExplorePanel.html">ExplorePanel</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Identify.Identify.html">Identify</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Identify.IdentifyPanel.html">IdentifyPanel</a></div><div class="sidebar-section-children"><a href="module-activities_panels_InformationScreen.InformationScreen.html">InformationScreen</a></div><div class="sidebar-section-children"><a href="module-activities_panels_InformationScreen.InformationScreenPanel.html">InformationScreenPanel</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Menu.Menu.html">Menu</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Menu.MenuPanel.html">MenuPanel</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_DoublePuzzle.DoublePuzzle.html">DoublePuzzle</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_DoublePuzzle.DoublePuzzlePanel.html">DoublePuzzlePanel</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_ExchangePuzzle.ExchangePuzzle.html">ExchangePuzzle</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_ExchangePuzzle-ExchangePuzzlePanel.html">ExchangePuzzlePanel</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_HolePuzzle.HolePuzzle.html">HolePuzzle</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_HolePuzzle.HolePuzzlePanel.html">HolePuzzlePanel</a></div><div class="sidebar-section-children"><a href="module-activities_text_Complete.Complete.html">Complete</a></div><div class="sidebar-section-children"><a href="module-activities_text_Complete.CompletePanel.html">CompletePanel</a></div><div class="sidebar-section-children"><a href="module-activities_text_Evaluator.BasicEvaluator.html">BasicEvaluator</a></div><div class="sidebar-section-children"><a href="module-activities_text_Evaluator.ComplexEvaluator.html">ComplexEvaluator</a></div><div class="sidebar-section-children"><a href="module-activities_text_Evaluator.Evaluator.html">Evaluator</a></div><div class="sidebar-section-children"><a href="module-activities_text_FillInBlanks.FillInBlanks.html">FillInBlanks</a></div><div class="sidebar-section-children"><a href="module-activities_text_FillInBlanks.FillInBlanksPanel.html">FillInBlanksPanel</a></div><div class="sidebar-section-children"><a href="module-activities_text_IdentifyText.IdentifyText.html">IdentifyText</a></div><div class="sidebar-section-children"><a href="module-activities_text_IdentifyText-IdentifyTextPanel.html">IdentifyTextPanel</a></div><div class="sidebar-section-children"><a href="module-activities_text_OrderText.OrderText.html">OrderText</a></div><div class="sidebar-section-children"><a href="module-activities_text_OrderText.OrderTextPanel.html">OrderTextPanel</a></div><div class="sidebar-section-children"><a href="module-activities_text_TextActivityBase.TextActivityBase.html">TextActivityBase</a></div><div class="sidebar-section-children"><a href="module-activities_text_TextActivityBase.TextActivityBasePanel.html">TextActivityBasePanel</a></div><div class="sidebar-section-children"><a href="module-activities_text_TextActivityDocument.TextActivityDocument.html">TextActivityDocument</a></div><div class="sidebar-section-children"><a href="module-activities_text_TextActivityDocument.TextTarget.html">TextTarget</a></div><div class="sidebar-section-children"><a href="module-activities_text_WrittenAnswer.WrittenAnswer.html">WrittenAnswer</a></div><div class="sidebar-section-children"><a href="module-activities_text_WrittenAnswer.WrittenAnswerPanel.html">WrittenAnswerPanel</a></div><div class="sidebar-section-children"><a href="module-activities_textGrid_CrossWord.CrossWord.html">CrossWord</a></div><div class="sidebar-section-children"><a href="module-activities_textGrid_CrossWord.CrossWordPanel.html">CrossWordPanel</a></div><div class="sidebar-section-children"><a href="module-activities_textGrid_WordSearch.WordSearch.html">WordSearch</a></div><div class="sidebar-section-children"><a href="module-activities_textGrid_WordSearch.WordSearchPanel.html">WordSearchPanel</a></div><div class="sidebar-section-children"><a href="module-automation_AutoContentProvider.AutoContentProvider.html">AutoContentProvider</a></div><div class="sidebar-section-children"><a href="module-automation_AutoContentProvider.AutoContentProvider.ActiveBagContentKit.html">ActiveBagContentKit</a></div><div class="sidebar-section-children"><a href="module-automation_arith_Arith.Arith.html">Arith</a></div><div class="sidebar-section-children"><a href="module-automation_arith_Arith.Arith.Operator.html">Operator</a></div><div class="sidebar-section-children"><a href="module-bags_ActivitySequence.ActivitySequence.html">ActivitySequence</a></div><div class="sidebar-section-children"><a href="module-bags_ActivitySequenceElement.ActivitySequenceElement.html">ActivitySequenceElement</a></div><div class="sidebar-section-children"><a href="module-bags_ActivitySequenceJump.ActivitySequenceJump.html">ActivitySequenceJump</a></div><div class="sidebar-section-children"><a href="module-bags_ConditionalJumpInfo.ConditionalJumpInfo.html">ConditionalJumpInfo</a></div><div class="sidebar-section-children"><a href="module-bags_JumpInfo.JumpInfo.html">JumpInfo</a></div><div class="sidebar-section-children"><a href="module-bags_MediaBag.MediaBag.html">MediaBag</a></div><div class="sidebar-section-children"><a href="module-bags_MediaBagElement.MediaBagElement.html">MediaBagElement</a></div><div class="sidebar-section-children"><a href="module-boxes_AbstractBox.AbstractBox.html">AbstractBox</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBagContent.ActiveBagContent.html">ActiveBagContent</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBox.ActiveBox.html">ActiveBox</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxBag.ActiveBoxBag.html">ActiveBoxBag</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxContent.ActiveBoxContent.html">ActiveBoxContent</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxContent.AlignType.html">AlignType</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxGrid.ActiveBoxGrid.html">ActiveBoxGrid</a></div><div class="sidebar-section-children"><a href="module-boxes_BoxBag.BoxBag.html">BoxBag</a></div><div class="sidebar-section-children"><a href="module-boxes_BoxBase.BoxBase.html">BoxBase</a></div><div class="sidebar-section-children"><a href="module-boxes_BoxConnector.BoxConnector.html">BoxConnector</a></div><div class="sidebar-section-children"><a href="module-boxes_TextGrid.TextGrid.html">TextGrid</a></div><div class="sidebar-section-children"><a href="module-boxes_TextGridContent.TextGridContent.html">TextGridContent</a></div><div class="sidebar-section-children"><a href="module-media_ActiveMediaBag.ActiveMediaBag.html">ActiveMediaBag</a></div><div class="sidebar-section-children"><a href="module-media_ActiveMediaPlayer.ActiveMediaPlayer.html">ActiveMediaPlayer</a></div><div class="sidebar-section-children"><a href="module-media_AudioBuffer.AudioBuffer.html">AudioBuffer</a></div><div class="sidebar-section-children"><a href="module-media_EventSounds.EventSounds.html">EventSounds</a></div><div class="sidebar-section-children"><a href="module-media_EventSoundsElement.EventSoundsElement.html">EventSoundsElement</a></div><div class="sidebar-section-children"><a href="module-media_MediaContent.MediaContent.html">MediaContent</a></div><div class="sidebar-section-children"><a href="module-media_MidiAudioPlayer.MidiAudioPlayer.html">MidiAudioPlayer</a></div><div class="sidebar-section-children"><a href="module-project_JClicProject.JClicProject.html">JClicProject</a></div><div class="sidebar-section-children"><a href="module-project_ProjectSettings.ProjectSettings.html">ProjectSettings</a></div><div class="sidebar-section-children"><a href="module-report_ActionReg.ActionReg.html">ActionReg</a></div><div class="sidebar-section-children"><a href="module-report_ActivityReg.ActivityReg.html">ActivityReg</a></div><div class="sidebar-section-children"><a href="module-report_EncryptMin.Encryption.html">Encryption</a></div><div class="sidebar-section-children"><a href="module-report_Reporter.Reporter.html">Reporter</a></div><div class="sidebar-section-children"><a href="module-report_Reporter.ReporterInfo.html">ReporterInfo</a></div><div class="sidebar-section-children"><a href="module-report_SCORM.SCORM.html">SCORM</a></div><div class="sidebar-section-children"><a href="module-report_SequenceReg.SequenceReg.html">SequenceReg</a></div><div class="sidebar-section-children"><a href="module-report_SequenceReg.SequenceRegInfo.html">SequenceRegInfo</a></div><div class="sidebar-section-children"><a href="module-report_SessionReg.SessionReg.html">SessionReg</a></div><div class="sidebar-section-children"><a href="module-report_SessionReg.SessionRegInfo.html">SessionRegInfo</a></div><div class="sidebar-section-children"><a href="module-report_SessionStorageReporter.SessionStorageReporter.html">SessionStorageReporter</a></div><div class="sidebar-section-children"><a href="module-report_TCPReporter.ReportBean.html">ReportBean</a></div><div class="sidebar-section-children"><a href="module-report_TCPReporter.TCPReporter.html">TCPReporter</a></div><div class="sidebar-section-children"><a href="module-shapers_ClassicJigSaw.ClassicJigSaw.html">ClassicJigSaw</a></div><div class="sidebar-section-children"><a href="module-shapers_Holes.Holes.html">Holes</a></div><div class="sidebar-section-children"><a href="module-shapers_JigSaw.JigSaw.html">JigSaw</a></div><div class="sidebar-section-children"><a href="module-shapers_Rectangular.Rectangular.html">Rectangular</a></div><div class="sidebar-section-children"><a href="module-shapers_Shaper.Shaper.html">Shaper</a></div><div class="sidebar-section-children"><a href="module-shapers_TriangularJigSaw.TriangularJigSaw.html">TriangularJigSaw</a></div><div class="sidebar-section-children"><a href="module-skins_BlueSkin.BlueSkin.html">BlueSkin</a></div><div class="sidebar-section-children"><a href="module-skins_Counter.Counter.html">Counter</a></div><div class="sidebar-section-children"><a href="module-skins_CustomSkin.CustomSkin.html">CustomSkin</a></div><div class="sidebar-section-children"><a href="module-skins_DefaultSkin.DefaultSkin.html">DefaultSkin</a></div><div class="sidebar-section-children"><a href="module-skins_EmptySkin.EmptySkin.html">EmptySkin</a></div><div class="sidebar-section-children"><a href="module-skins_GreenSkin.GreenSkin.html">GreenSkin</a></div><div class="sidebar-section-children"><a href="module-skins_MiniSkin.MiniSkin.html">MiniSkin</a></div><div class="sidebar-section-children"><a href="module-skins_OrangeSkin.OrangeSkin.html">OrangeSkin</a></div><div class="sidebar-section-children"><a href="module-skins_SimpleSkin.SimpleSkin.html">SimpleSkin</a></div><div class="sidebar-section-children"><a href="module-skins_Skin.Skin.html">Skin</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="xJuSofp4IKU_YxKjABy4G"><div>Externals</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="external-AudioContext.html">AudioContext</a></div><div class="sidebar-section-children"><a href="external-CanvasRenderingContext2D.html">CanvasRenderingContext2D</a></div><div class="sidebar-section-children"><a href="external-Collator.html">Collator</a></div><div class="sidebar-section-children"><a href="external-Date.html">Date</a></div><div class="sidebar-section-children"><a href="external-Event.html">Event</a></div><div class="sidebar-section-children"><a href="external-HTMLAudioElement.html">HTMLAudioElement</a></div><div class="sidebar-section-children"><a href="external-HTMLElement.html">HTMLElement</a></div><div class="sidebar-section-children"><a href="external-HTMLImageElement.html">HTMLImageElement</a></div><div class="sidebar-section-children"><a href="external-HTMLStyleElement.html">HTMLStyleElement</a></div><div class="sidebar-section-children"><a href="external-Instrument.html">Instrument</a></div><div class="sidebar-section-children"><a href="external-JSZip.html">JSZip</a></div><div class="sidebar-section-children"><a href="external-MediaRecorder.html">MediaRecorder</a></div><div class="sidebar-section-children"><a href="external-MidiPlayerJS.html">MidiPlayerJS</a></div><div class="sidebar-section-children"><a href="external-NamedNodeMap.html">NamedNodeMap</a></div><div class="sidebar-section-children"><a href="external-Promise.html">Promise</a></div><div class="sidebar-section-children"><a href="external-Storage.html">Storage</a></div><div class="sidebar-section-children"><a href="external-jQuery.html">jQuery</a></div><div class="sidebar-section-children"><a href="external-jqXHR.html">jqXHR</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section id="source-page" class="source-page"><header><h1 id="title" class="has-anchor">boxes_TextGrid.js</h1></header><article><pre class="prettyprint source lang-js"><code>/**
 *  File    : boxes/TextGrid.js
 *  Created : 12/06/2015
 *  By      : Francesc Busquets &lt;francesc@gmail.com>
 *
 *  JClic.js
 *  An HTML5 player of JClic activities
 *  https://projectestac.github.io/jclic.js
 *
 *  @source https://github.com/projectestac/jclic.js
 *
 *  @license EUPL-1.2
 *  @licstart
 *  (c) 2000-2020 Educational Telematic Network of Catalonia (XTEC)
 *
 *  Licensed under the EUPL, Version 1.1 or -as soon they will be approved by
 *  the European Commission- subsequent versions of the EUPL (the "Licence");
 *  You may not use this work except in compliance with the Licence.
 *
 *  You may obtain a copy of the Licence at:
 *  https://joinup.ec.europa.eu/software/page/eupl
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the Licence is distributed on an "AS IS" basis, WITHOUT
 *  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 *  Licence for the specific language governing permissions and limitations
 *  under the Licence.
 *  @licend
 *  @module
 */

import { Rectangle, Timer, Point, Dimension, Stroke } from '../AWT';
import { roundTo } from '../Utils';
import AbstractBox from './AbstractBox';
import TextGridContent from './TextGridContent';

/**
 * Default values
 * @type {object}
 */
export const defaults = {
  MIN_CELL_SIZE: 12,
  DEFAULT_CELL_SIZE: 20,
  MIN_INTERNAL_MARGIN: 2
};

/**
 * Binary flags used to mark status
 * @type {object}
 */
export const flags = {
  NORMAL: 0,
  INVERTED: 1,
  HIDDEN: 2,
  LOCKED: 4,
  MARKED: 8,
  TRANSPARENT: 16
};

/**
 * This class is a special type of {@link module:boxes/AbstractBox.AbstractBox AbstractBox} that displays a grid of single
 * characters.
 *
 * It's used {@link module:activities/textGrid/CrossWord.CrossWord CrossWord} and {@link module:activities/textGrid/WordSearch.WordSearch WordSearch} activities.
 * @extends module:boxes/AbstractBox.AbstractBox
 */
export class TextGrid extends AbstractBox {
  /**
   * TextGrid constructor
   * @param {module:boxes/AbstractBox.AbstractBox} parent - The AbstractBox to which this text grid belongs
   * @param {module:AWT.Container} container - The container where this text grid is placed.
   * @param {module:boxes/BoxBase.BoxBase} boxBase - The object where colors, fonts, border and other graphic properties
   * @param {number} x - `X` coordinate of the upper left corner of this grid
   * @param {number} y - `Y` coordinate of the upper left corner of this grid
   * @param {number} ncw - Number of columns of the grid
   * @param {number} nch - Nomber of rows of the grid
   * @param {number} cellW - Width of the cells
   * @param {number} cellH - Height of the cells
   * @param {boolean} border - When `true`, a border must be drawn between the cells
   */
  constructor(parent, container, boxBase, x, y, ncw, nch, cellW, cellH, border) {
    // *TextGrid* extends [AbstractBox](AbstractBox.html)
    super(parent, container, boxBase);
    this.pos.x = x;
    this.pos.y = y;
    this.nCols = Math.max(1, ncw);
    this.nRows = Math.max(1, nch);
    this.cellWidth = Math.max(cellW, defaults.MIN_CELL_SIZE);
    this.cellHeight = Math.max(cellH, defaults.MIN_CELL_SIZE);
    this.dim.width = cellW * this.nCols;
    this.dim.height = cellH * this.nRows;
    this.setChars(' ');
    this.preferredBounds = new Rectangle(this.pos, this.dim);
    this.setBorder(border);
    this.cursorTimer = new Timer(() => this.blink(0), 500, false);
    this.cursorEnabled = false;
    this.useCursor = false;
    this.wildTransparent = false;
    this.cursor = new Point();
  }

  /**
   * Factory constructor that creates an empty grid based on a {@link module:boxes/TextGridContent.TextGridContent TextGridContent}
   * @param {module:boxes/AbstractBox.AbstractBox} parent - The AbstractBox to which the text grid belongs
   * @param {module:AWT.Container} container - The container where the text grid will be placed.
   * @param {number} x - `X` coordinate of the upper left corner of the grid
   * @param {number} y - `Y` coordinate of the upper left corner of the grid
   * @param {module:boxes/TextGridContent.TextGridContent} tgc - Object with the content and other settings of the grid
   * @param {boolean} wildTransparent - When `true`, the wildcard character will be transparent
   * @returns {module:boxes/TextGrid.TextGrid}
   */
  static createEmptyGrid(parent, container, x, y, tgc, wildTransparent) {
    const result = new TextGrid(parent, container, tgc.style,
      x, y, tgc.ncw, tgc.nch, tgc.w, tgc.h, tgc.border);
    result.wild = tgc.wild;
    result.randomChars = tgc.randomChars;
    result.wildTransparent = wildTransparent;
    return result;
  }

  /**
   * Sets the characters to be placed in the cells of this TextGrid
   * @param {string} text
   */
  setChars(text) {
    this.chars = [];
    this.answers = [];
    this.attributes = [];
    for (let py = 0; py &lt; this.nRows; py++) {
      const line = py &lt; text.length ? text[py] : '';
      this.chars[py] = line.split('');
      this.answers[py] = [];
      this.attributes[py] = [];
      for (let px = 0; px &lt; this.nCols; px++) {
        if (px >= line.length)
          this.chars[py][px] = ' ';
        this.answers[py][px] = this.chars[py][px];
        this.attributes[py][px] = flags.NORMAL;
      }
    }
  }

  /**
   * Substitutes the current content of all cells with wildcards with a randomly generated char.
   * @see TextGridContent#randomChars
   */
  randomize() {
    for (let py = 0; py &lt; this.nRows; py++)
      for (let px = 0; px &lt; this.nCols; px++)
        if (this.chars[py][px] === this.wild)
          this.chars[py][px] = this.randomChars.charAt(
            Math.floor(Math.random() * this.randomChars.length));
  }

  /**
   * Clears or sets global attributes to all cells
   * @param {boolean} lockWild - When `true`, the wildcard cells will be marked with special
   * attributes (used in CrossWords to mark black cells)
   * @param {boolean} clearChars - When `true`, the current content of cells will be erased.
   */
  setCellAttributes(lockWild, clearChars) {
    let atr = flags.LOCKED;
    if (this.wildTransparent)
      atr |= flags.TRANSPARENT;
    else
      atr |= flags.INVERTED | flags.HIDDEN;
    for (let py = 0; py &lt; this.nRows; py++) {
      for (let px = 0; px &lt; this.nCols; px++) {
        if (lockWild &amp;&amp; this.chars[py][px] === this.wild)
          this.attributes[py][px] = atr;
        else {
          this.attributes[py][px] = flags.NORMAL;
          if (clearChars)
            this.chars[py][px] = ' ';
        }
      }
    }
  }

  /**
   * Sets or unsets the `locked` properties (black cell) to a specific cell.
   * @param {number} px - The logical 'X' coordinate of the cell
   * @param {number} py - The logical 'Y' coordinate of the cell
   * @param {boolean} locked - When true, the `locked` attribute will be on.
   */
  setCellLocked(px, py, locked) {
    if (px >= 0 &amp;&amp; px &lt; this.nCols &amp;&amp; py >= 0 &amp;&amp; py &lt; this.nRows) {
      this.attributes[py][px] = locked ?
        flags.LOCKED |
        (this.wildTransparent ?
          flags.TRANSPARENT :
          flags.INVERTED |
          flags.HIDDEN) :
        flags.NORMAL;
    }
  }

  /**
   * For a specific cell located at column `rx` and row `ry`, finds the number of words delimited
   * by wildchars located behind its current position and in the same row and column. Used in
   * {@link module:activities/textGrid/CrossWord.CrossWord CrossWord} activities to find the definition for a specific cell.
   *
   * The result is returned as 'x' and 'y' properties of a logical point.
   * @param {number} rx - The 'X' position of the cell
   * @param {number} ry - The 'Y' position of the cell
   * @returns {module:AWT.Point} - The logical positions of the definition for this cell inside the list
   * of current definitions of its row and column. '0' means first definition of its row/column,
   * '1' the second one, etc.
   */
  getItemFor(rx, ry) {
    if (!this.isValidCell(rx, ry))
      return null;

    const point = new Point();
    let
      inBlack = false,
      startCount = false;

    for (let px = 0; px &lt; rx; px++) {
      if ((this.attributes[ry][px] &amp; flags.LOCKED) !== 0) {
        if (!inBlack) {
          if (startCount)
            point.x++;
          inBlack = true;
        }
      } else {
        startCount = true;
        inBlack = false;
      }
    }
    inBlack = false;
    startCount = false;
    for (let py = 0; py &lt; ry; py++) {
      if ((this.attributes[py][rx] &amp; flags.LOCKED) !== 0) {
        if (!inBlack) {
          if (startCount)
            point.y++;
          inBlack = true;
        }
      } else {
        startCount = true;
        inBlack = false;
      }
    }
    return point;
  }

  /**
   * Whether the blinking cursor must be enabled or disabled.
   * @param {boolean} status
   */
  setCursorEnabled(status) {
    this.cursorEnabled = status;
    if (status === true)
      this.startCursorBlink();
    else
      this.stopCursorBlink();
  }

  /**
   * Starts the {@link module:AWT.Timer} that makes the cursor blink.
   */
  startCursorBlink() {
    if (this.useCursor &amp;&amp; this.cursorEnabled &amp;&amp; this.cursorTimer &amp;&amp; !this.cursorTimer.isRunning()) {
      this.blink(1);
      this.cursorTimer.start();
    }
  }

  /**
   * Stops the {@link module:AWT.Timer} that makes the cursor blink.
   */
  stopCursorBlink() {
    if (this.cursorTimer &amp;&amp; this.cursorTimer.isRunning()) {
      this.cursorTimer.stop();
      this.blink(-1);
    }
  }

  /**
   * Moves the cursor in the specified x and y directions.
   * @param {number} dx - Amount to move in the 'X' axis
   * @param {number} dy - Amount to move in the 'Y' axis
   * @param {boolean} skipLocked - Skip locked cells (wildcards in {@link module:activities/textGrid/CrossWord.CrossWord CrossWord})
   */
  moveCursor(dx, dy, skipLocked) {
    if (this.useCursor) {
      const point = this.findNextCellWithAttr(this.cursor.x, this.cursor.y,
        skipLocked ? flags.LOCKED : flags.NORMAL,
        dx, dy, false);

      if (!this.cursor.equals(point))
        this.setCursorAt(point.x, point.y, skipLocked);
    }
  }

  /**
   * Finds the coordinates of the nearest non-locked cell (non-wildcard) moving on the indicated
   * 'X' and 'Y' directions.
   * @param {module:AWT.Point} - Logical coordinates of the starting point
   * @param {number} dx - 0 means no movement, 1 go right, -1 go left.
   * @param {number} dy - 0 means no movement, 1 go down, -1 go up.
   * @returns {module:AWT.Point}
   */
  findFreeCell(from, dx, dy) {
    let result = null;
    if (from &amp;&amp; (dx !== 0 || dy !== 0)) {
      const scan = new Point(from);
      while (result === null) {
        scan.x += dx;
        scan.y += dy;
        if (scan.x &lt; 0 || scan.x >= this.nCols || scan.y &lt; 0 || scan.y >= this.nRows)
          break;
        if (!this.getCellAttribute(scan.x, scan.y, flags.LOCKED))
          result = scan;
      }
    }
    return result;
  }

  /**
   * Finds the first cell with the specified attributes at the specified state, starting
   * at specified point.
   * @param {number} startX - Starting X coordinate
   * @param {number} startY - Starting Y coordinate
   * @param {number} attr - Attribute to check. See {@link module:boxes/TextGrid.TextGrid.flags}.
   * @param {number} dx - 0 means no movement, 1 go right, -1 go left.
   * @param {number} dy - 0 means no movement, 1 go down, -1 go up.
   * @param {boolean} attrState - Desired state (enabled or disabled) of `attr`
   * @returns {module:AWT.Point}
   */
  findNextCellWithAttr(startX, startY, attr, dx, dy, attrState) {
    const point = new Point(startX + dx, startY + dy);
    while (true) {
      if (point.x &lt; 0) {
        point.x = this.nCols - 1;
        if (point.y > 0)
          point.y--;
        else
          point.y = this.nRows - 1;
      } else if (point.x >= this.nCols) {
        point.x = 0;
        if (point.y &lt; this.nRows - 1)
          point.y++;
        else
          point.y = 0;
      }
      if (point.y &lt; 0) {
        point.y = this.nRows - 1;
        if (point.x > 0)
          point.x--;
        else
          point.x = this.nCols - 1;
      } else if (point.y >= this.nRows) {
        point.y = 0;
        if (point.x &lt; this.nCols - 1)
          point.x++;
        else
          point.x = 0;
      }
      if (point.x === startX &amp;&amp; point.y === startY ||
        this.getCellAttribute(point.x, point.y, attr) === attrState)
        break;
      point.x += dx;
      point.y += dy;
    }
    return point;
  }

  /**
   * Sets the blinking cursor at a specific point
   * @param {number} px - X coordinate
   * @param {number} py - Y coordinate
   * @param {boolean} skipLocked - Skip locked (wildcard) cells
   */
  setCursorAt(px, py, skipLocked) {
    this.stopCursorBlink();
    if (this.isValidCell(px, py)) {
      this.cursor.x = px;
      this.cursor.y = py;
      this.useCursor = true;
      if (skipLocked &amp;&amp; this.getCellAttribute(px, py, flags.LOCKED)) {
        this.moveCursor(1, 0, skipLocked);
      } else {
        if (this.cursorEnabled)
          this.startCursorBlink();
      }
    }
  }

  /**
   * Sets the `useCursor` property of this text grid
   * @param {boolean} value
   */
  setUseCursor(value) {
    this.useCursor = value;
  }

  /**
   * Gets the current position of the blinking cursor
   * @returns {module:AWT.Point}
   */
  getCursor() {
    return this.cursor;
  }

  /**
   * Counts the number of cells of this grid with the specified character
   * @param {string} ch
   * @returns {number}
   */
  countCharsLike(ch) {
    let result = 0;
    for (let py = 0; py &lt; this.nRows; py++)
      for (let px = 0; px &lt; this.nCols; px++)
        if (this.chars[py][px] === ch)
          result++;
    return result;
  }

  /**
   * Gets the number of cells of this grid
   * @returns {number}
   */
  getNumCells() {
    return this.nRows * this.nCols;
  }

  /**
   * Counts the number of coincidences between the `answers` array and the current content of this grid
   * @param {boolean} checkCase - Make comparisions case-sensitive
   * @returns {number}
   */
  countCoincidences(checkCase) {
    let result = 0;
    if (this.answers)
      for (let py = 0; py &lt; this.nRows; py++)
        for (let px = 0; px &lt; this.nCols; px++)
          if (this.isCellOk(px, py, checkCase))
            result++;
    return result;
  }

  /**
   * Checks if a specific cell is equivalent to the content of `answers` at its position
   * @param {number} px - X coordinate
   * @param {number} py - Y coordinate
   * @param {boolean} checkCase - Make comparisions case-sensitive
   * @returns {boolean}
   */
  isCellOk(px, py, checkCase) {
    let result = false;
    if (this.isValidCell(px, py)) {
      const ch = this.chars[py][px];
      if (ch !== this.wild) {
        const ch2 = this.answers[py][px];
        if (ch === ch2 ||
          !checkCase &amp;&amp; ch.toUpperCase() === ch2.toUpperCase())
          result = true;
      }
    }
    return result;
  }

  /**
   * Gets the logical coordinates (in 'cell' units) of a device point into the grid
   * @param {module:AWT.Point} devicePoint
   * @returns {module:AWT.Point}
   */
  getLogicalCoords(devicePoint) {
    if (!this.contains(devicePoint))
      return null;
    const
      px = Math.floor((devicePoint.x - this.pos.x) / this.cellWidth),
      py = Math.floor((devicePoint.y - this.pos.y) / this.cellHeight);

    return this.isValidCell(px, py) ? new Point(px, py) : null;
  }

  /**
   * Checks if the specified logical coordinates are inside the valid bounds of the grid.
   * @param {number} px - 'X' coordinate
   * @param {number} py - 'Y' coordinate
   * @returns {boolean}
   */
  isValidCell(px, py) {
    return px &lt; this.nCols &amp;&amp; py &lt; this.nRows &amp;&amp; px >= 0 &amp;&amp; py >= 0;
  }

  /**
   * Sets the specified character as a content of the cell at specified coordinates
   * @param {number} px - 'X' coordinate
   * @param {number} py - 'Y' coordinate
   * @param {string} ch - The character to set.
   */
  setCharAt(px, py, ch) {
    if (this.isValidCell(px, py)) {
      this.chars[py][px] = ch;
      this.repaintCell(px, py);
    }
  }

  /**
   * Gets the character of the cell at the specified coordinates
   * @param {number} px - 'X' coordinate
   * @param {number} py - 'Y' coordinate
   * @returns {string}
   */
  getCharAt(px, py) {
    return this.isValidCell(px, py) ? this.chars[py][px] : ' ';
  }

  /**
   * Gets the text formed by the letters between two cells that share a straight line on the grid.
   * The text can be formed horizontally, vertically and diagonal, both in left-to-right or
   * right-to-left direction.
   * @param {number} x0 - 'X' coordinate of the first cell
   * @param {number} y0 - 'Y' coordinate of the first cell
   * @param {number} x1 - 'X' coordinate of the second cell
   * @param {number} y1 - 'Y' coordinate of the second cell
   * @returns {string}
   */
  getStringBetween(x0, y0, x1, y1) {
    let sb = '';
    if (this.isValidCell(x0, y0) &amp;&amp; this.isValidCell(x1, y1)) {
      let
        dx = x1 - x0,
        dy = y1 - y0;
      if (dx === 0 || dy === 0 || Math.abs(dx) === Math.abs(dy)) {
        const steps = Math.max(Math.abs(dx), Math.abs(dy));
        if (steps > 0) {
          dx /= steps;
          dy /= steps;
        }
        for (let i = 0; i &lt;= steps; i++)
          sb += this.getCharAt(x0 + dx * i, y0 + dy * i);
      }
    }
    return sb;
  }

  /**
   * Sets a specific attribute to all cells forming a straight line between two cells on the grid.
   * @param {number} x0 - 'X' coordinate of the first cell
   * @param {number} y0 - 'Y' coordinate of the first cell
   * @param {number} x1 - 'X' coordinate of the second cell
   * @param {number} y1 - 'Y' coordinate of the second cell
   * @param {number} attribute - The binary flag representing this attribute. See {@link module:boxes/TextGrid.TextGrid.flags}.
   * @param {boolean} value - Whether to set or unset the attribute.
   */
  setAttributeBetween(x0, y0, x1, y1, attribute, value) {
    if (this.isValidCell(x0, y0) &amp;&amp; this.isValidCell(x1, y1)) {
      let
        dx = x1 - x0,
        dy = y1 - y0;

      if (dx === 0 || dy === 0 || Math.abs(dx) === Math.abs(dy)) {
        const steps = Math.max(Math.abs(dx), Math.abs(dy));
        if (steps > 0) {
          dx /= steps;
          dy /= steps;
        }
        for (let i = 0; i &lt;= steps; i++)
          this.setAttribute(x0 + dx * i, y0 + dy * i, attribute, value);
      }
    }
  }

  /**
   * Sets or unsets a specifi attrobut to a cell.
   * @param {number} px - The 'X' coordinate of the cell
   * @param {number} py - The 'Y' coordinate of the cell
   * @param {number} attribute - The binary flag representing this attribute. See {@link module:boxes/TextGrid.TextGrid.flags}.
   * @param {boolean} state - Whether to set or unset the attribute.
   */
  setAttribute(px, py, attribute, state) {
    if (this.isValidCell(px, py)) {
      if (this.attribute === flags.MARKED &amp;&amp; !state)
        this.repaintCell(px, py);
      this.attributes[py][px] &amp;= ~attribute;
      this.attributes[py][px] |= state ? attribute : 0;
      if (attribute !== flags.MARKED || state)
        this.repaintCell(px, py);
    }
  }

  /**
   * Sets the specified attribute to all cells.
   * @param {number} attribute - The binary flag representing this attribute. See {@link module:boxes/TextGrid.TextGrid.flags}.
   * @param {boolean} state - Whether to set or unset the attribute.
   */
  setAllCellsAttribute(attribute, state) {
    for (let py = 0; py &lt; this.nRows; py++)
      for (let px = 0; px &lt; this.nCols; px++)
        this.setAttribute(px, py, attribute, state);
  }

  /**
   * Gets the specified attribute of a cell
   * @param {number} px - The 'X' coordinate of the cell
   * @param {number} py - The 'Y' coordinate of the cell
   * @param {number} attribute - The binary flag representing this attribute. See {@link module:boxes/TextGrid.TextGrid.flags}.
   * @returns {boolean} - `true` if the cell has this attribute, `false` otherwise.
   */
  getCellAttribute(px, py, attribute) {
    return this.isValidCell(px, py) ? (this.attributes[py][px] &amp; attribute) !== 0 : false;
  }

  /**
   * Gets the rectangle enclosing a specific cell
   * @param {number} px - The 'X' coordinate of the cell
   * @param {number} py - The 'Y' coordinate of the cell
   * @returns {module:AWT.Rectangle}
   */
  getCellRect(px, py) {
    return new Rectangle(this.pos.x + px * this.cellWidth, this.pos.y + py * this.cellHeight, this.cellWidth, this.cellHeight);
  }

  /**
   * Gets the rectangle enclosing a specific cell, including the border thick.
   * @param {number} px - The 'X' coordinate of the cell
   * @param {number} py - The 'Y' coordinate of the cell
   * @returns {module:AWT.Rectangle}
   */
  getCellBorderBounds(px, py) {
    const isMarked = this.getCellAttribute(px, py, flags.MARKED);
    if (!this.border &amp;&amp; !isMarked)
      return this.getCellRect(px, py);

    const
      style = this.getBoxBaseResolve(),
      strk = isMarked ? style.markerStroke : style.borderStroke;

    return this.getCellRect(px, py).grow(strk.lineWidth, strk.lineWidth);
  }

  /**
   * Repaints a cell
   * @param {number} px - The 'X' coordinate of the cell
   * @param {number} py - The 'Y' coordinate of the cell
   */
  repaintCell(px, py) {
    if (this.container)
      this.container.invalidate(this.getCellBorderBounds(px, py)).update();
  }

  /**
   * Gets the preferred size of this grid
   * @returns {module:AWT.Dimension}
   */
  getPreferredSize() {
    return this.preferredBounds.dim;
  }

  /**
   * Gets the minimum size of this grid
   * @returns {module:AWT.Dimension}
   */
  getMinimumSize() {
    return new Dimension(defaults.MIN_CELL_SIZE * this.nCols, defaults.MIN_CELL_SIZE * this.nRows);
  }

  /**
   * Scales the grid to a new size
   * @param {number} scale - The factor used to multiply all coordinates and sizes
   * @returns {module:AWT.Dimension}
   */
  getScaledSize(scale) {
    return new Dimension(
      roundTo(scale * this.preferredBounds.dim.width, this.nCols),
      roundTo(scale * this.preferredBounds.dim.height, this.nRows));
  }

  /**
   * Overrides {@link module:boxes/AbstractBox.AbstractBox#setBounds}
   * @override
   * @param {AWT.Rectangle|number} rect - An AWT.Rectangle object, or the `x` coordinate of the
   * upper-left corner of a new rectangle.
   * @param {number} [y] - `y` coordinate of the upper-left corner of the new rectangle.
   * @param {number} [w] - Width of the new rectangle.
   * @param {number} [h] - Height of the new rectangle.
   */
  setBounds(rect, y, w, h) {
    super.setBounds(rect, y, w, h);
    this.cellWidth = this.dim.width / this.nCols;
    this.cellHeight = this.dim.height / this.nRows;
  }

  /**
   * Overrides {@link module:boxes/AbstractBox.AbstractBox#updateContent}
   * @override
   * @param {external:CanvasRenderingContext2D} ctx - The canvas rendering context used to draw the
   * grid.
   * @param {module:AWT.Rectangle} [dirtyRegion] - The area that must be repainted. `null` refers to the whole box.
   */
  updateContent(ctx, dirtyRegion) {
    const style = this.getBoxBaseResolve();

    // test font size
    ctx.font = style.font.cssFont();
    ctx.textBaseline = 'alphabetic';
    style.prepareText(ctx, 'W',
      this.cellWidth - 2 * defaults.MIN_INTERNAL_MARGIN,
      this.cellHeight - 2 * defaults.MIN_INTERNAL_MARGIN);

    const ch = [];
    const ry = (this.cellHeight - style.font.getHeight()) / 2 + style.font.getMetrics().ascent;

    for (let py = 0; py &lt; this.nRows; py++) {
      for (let px = 0; px &lt; this.nCols; px++) {
        const bxr = this.getCellBorderBounds(px, py);
        if (bxr.intersects(dirtyRegion)) {
          const attr = this.attributes[py][px];
          if ((attr &amp; flags.TRANSPARENT) === 0) {
            const isInverted = (attr &amp; flags.INVERTED) !== 0;
            const isMarked = (attr &amp; flags.MARKED) !== 0;
            const isCursor = this.useCursor &amp;&amp; this.cursor.x === px &amp;&amp; this.cursor.y === py;
            const boxBounds = this.getCellRect(px, py);
            ctx.fillStyle = isCursor &amp;&amp; this.cursorBlink ?
              style.inactiveColor :
              isInverted ? style.textColor : style.backColor;
            boxBounds.fill(ctx);
            ctx.strokeStyle = 'black';
            if ((attr &amp; flags.HIDDEN) === 0) {
              ch[0] = this.chars[py][px];
              if (ch[0]) {
                const dx = boxBounds.pos.x + (this.cellWidth - ctx.measureText(ch[0]).width) / 2;
                const dy = boxBounds.pos.y + ry;

                if (style.shadow) {
                  // Render text shadow
                  const d = Math.max(1, style.font.size / 10);
                  ctx.fillStyle = style.shadowColor;
                  ctx.fillText(ch[0], dx + d, dy + d);
                }
                // Render text
                ctx.fillStyle = isInverted ? style.backColor
                  : this.isAlternative() ? style.alternativeColor : style.textColor;
                ctx.fillText(ch[0], dx, dy);
              }
            }
            if (this.border || isMarked) {
              ctx.strokeStyle = style.borderColor;
              style[isMarked ? 'markerStroke' : 'borderStroke'].setStroke(ctx);
              if (isMarked)
                ctx.globalCompositeOperation = 'xor';

              // Draw border
              boxBounds.stroke(ctx);

              // Reset ctx default values
              if (isMarked)
                ctx.globalCompositeOperation = 'source-over';
            }
            ctx.strokeStyle = 'black';
            Stroke.prototype.setStroke(ctx);
          }
        }
      }
    }
    return true;
  }

  /**
   * Makes the cursor blink, alternating between two states. This method should be called only by
   * {@link module:boxes/TextGrid.TextGrid#cursorTimer}
   * @param {boolean} status
   */
  blink(status) {
    // TODO: Move blink and timer to ActivityPanel
    if (this.useCursor) {
      this.cursorBlink = status === 1 ? true : status === -1 ? false : !this.cursorBlink;
      this.repaintCell(this.cursor.x, this.cursor.y);
    }
  }

  /**
   * Stops the cursor timer if not `null` and active
   */
  end() {
    if (this.cursorTimer) {
      this.cursorTimer.stop();
      this.cursorTimer = null;
    }
  }
}

Object.assign(TextGrid.prototype, {
  /**
   * Number of rows
   * @name module:boxes/TextGrid.TextGrid#nRows
   * @type {number} */
  nRows: 1,
  /**
   * Number of columns
   * @name module:boxes/TextGrid.TextGrid#nCols
   * @type {number} */
  nCols: 1,
  /**
   * Two-dimension array of characters
   * @name module:boxes/TextGrid.TextGrid#chars
   * @type {string[][]} */
  chars: null,
  /**
   * Two-dimension array with the expected characters, used to check user's answers.
   * @name module:boxes/TextGrid.TextGrid#answers
   * @type {string[][]} */
  answers: null,
  /**
   * Two-dimension array of bytes used as containers of boolean attributes
   * @name module:boxes/TextGrid.TextGrid#attributes
   * @see TextGrid.flags
   * @type {number[][]} */
  attributes: null,
  /**
   * The cell width, in pixels
   * @name module:boxes/TextGrid.TextGrid#cellWidth
   * @type {number} */
  cellWidth: 20,
  /**
   * The cell height, in pixels
   * @name module:boxes/TextGrid.TextGrid#cellHeight
   * @type {number} */
  cellHeight: 20,
  /**
   * The preferred bounds of this grid
   * @name module:boxes/TextGrid.TextGrid#preferredBounds
   * @type {module:AWT.Rectangle} */
  preferredBounds: null,
  /**
   * The character to be used as wildcard
   * @name module:boxes/TextGrid.TextGrid#wild
   * @type {string} */
  wild: TextGridContent.prototype.wild,
  /**
   * Characters that can be used when randomizing the content of this grid
   * @name module:boxes/TextGrid.TextGrid#randomChars
   * @see TextGridContent#randomChars
   * @type {string} */
  randomChars: TextGridContent.prototype.randomChars,
  /**
   * Whether the blinking cursor is enabled or disabled
   * @name module:boxes/TextGrid.TextGrid#cursorEnabled
   * @type {boolean} */
  cursorEnabled: false,
  /**
   * Whether this grid uses a blinking cursor or not
   * @name module:boxes/TextGrid.TextGrid#useCursor
   * @type {boolean} */
  useCursor: false,
  /**
   * The current position of the cursor
   * @name module:boxes/TextGrid.TextGrid#cursor
   * @type {module:AWT.Point} */
  cursor: null,
  /**
   * `true` when the cursor is "blinking" (cell drawn with {@link module:boxes/BoxBase.BoxBase BoxBase} `inverse` attributes)
   * @name module:boxes/TextGrid.TextGrid#cursorBlink
   * @type {boolean} */
  cursorBlink: false,
  /**
   * Controls the blinking of the cursor
   * @name module:boxes/TextGrid.TextGrid#cursorTimer
   * @type {module:AWT.Timer} */
  cursorTimer: null,
  /**
   * Whether the wildcard character is transparent or opaque
   * @name module:boxes/TextGrid.TextGrid#wildTransparent
   * @type {boolean} */
  wildTransparent: false,
});

/**
 * TextGrid default values
 * @name module:boxes/TextGrid.TextGrid.defaults
 * @constant
 * @type {object} */
TextGrid.defaults = defaults;

/**
 * Binary flags used to mark status
 * @name module:boxes/TextGrid.TextGrid.flags
 * @constant
 * @type {object} */
TextGrid.flags = flags;

export default TextGrid;
</code></pre></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="qHlACl8CFdcBMSnoHvrhv"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-AWT.html">AWT</a></div><div class="sidebar-section-children"><a href="module-Activity.html">Activity</a></div><div class="sidebar-section-children"><a href="module-JClic.html">JClic</a></div><div class="sidebar-section-children"><a href="module-JClicPlayer.html">JClicPlayer</a></div><div class="sidebar-section-children"><a href="module-PlayerHistory.html">PlayerHistory</a></div><div class="sidebar-section-children"><a href="module-Utils.html">Utils</a></div><div class="sidebar-section-children"><a href="module-activities_associations_ComplexAssociation.html">activities/associations/ComplexAssociation</a></div><div class="sidebar-section-children"><a href="module-activities_associations_SimpleAssociation.html">activities/associations/SimpleAssociation</a></div><div class="sidebar-section-children"><a href="module-activities_memory_MemoryGame.html">activities/memory/MemoryGame</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Explore.html">activities/panels/Explore</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Identify.html">activities/panels/Identify</a></div><div class="sidebar-section-children"><a href="module-activities_panels_InformationScreen.html">activities/panels/InformationScreen</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Menu.html">activities/panels/Menu</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_DoublePuzzle.html">activities/puzzles/DoublePuzzle</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_ExchangePuzzle.html">activities/puzzles/ExchangePuzzle</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_HolePuzzle.html">activities/puzzles/HolePuzzle</a></div><div class="sidebar-section-children"><a href="module-activities_text_Complete.html">activities/text/Complete</a></div><div class="sidebar-section-children"><a href="module-activities_text_Evaluator.html">activities/text/Evaluator</a></div><div class="sidebar-section-children"><a href="module-activities_text_FillInBlanks.html">activities/text/FillInBlanks</a></div><div class="sidebar-section-children"><a href="module-activities_text_IdentifyText.html">activities/text/IdentifyText</a></div><div class="sidebar-section-children"><a href="module-activities_text_OrderText.html">activities/text/OrderText</a></div><div class="sidebar-section-children"><a href="module-activities_text_TextActivityBase.html">activities/text/TextActivityBase</a></div><div class="sidebar-section-children"><a href="module-activities_text_TextActivityDocument.html">activities/text/TextActivityDocument</a></div><div class="sidebar-section-children"><a href="module-activities_text_WrittenAnswer.html">activities/text/WrittenAnswer</a></div><div class="sidebar-section-children"><a href="module-activities_textGrid_CrossWord.html">activities/textGrid/CrossWord</a></div><div class="sidebar-section-children"><a href="module-activities_textGrid_WordSearch.html">activities/textGrid/WordSearch</a></div><div class="sidebar-section-children"><a href="module-automation_AutoContentProvider.html">automation/AutoContentProvider</a></div><div class="sidebar-section-children"><a href="module-automation_arith_Arith.html">automation/arith/Arith</a></div><div class="sidebar-section-children"><a href="module-bags_ActivitySequence.html">bags/ActivitySequence</a></div><div class="sidebar-section-children"><a href="module-bags_ActivitySequenceElement.html">bags/ActivitySequenceElement</a></div><div class="sidebar-section-children"><a href="module-bags_ActivitySequenceJump.html">bags/ActivitySequenceJump</a></div><div class="sidebar-section-children"><a href="module-bags_ConditionalJumpInfo.html">bags/ConditionalJumpInfo</a></div><div class="sidebar-section-children"><a href="module-bags_JumpInfo.html">bags/JumpInfo</a></div><div class="sidebar-section-children"><a href="module-bags_MediaBag.html">bags/MediaBag</a></div><div class="sidebar-section-children"><a href="module-bags_MediaBagElement.html">bags/MediaBagElement</a></div><div class="sidebar-section-children"><a href="module-boxes_AbstractBox.html">boxes/AbstractBox</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBagContent.html">boxes/ActiveBagContent</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBox.html">boxes/ActiveBox</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxBag.html">boxes/ActiveBoxBag</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxContent.html">boxes/ActiveBoxContent</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxGrid.html">boxes/ActiveBoxGrid</a></div><div class="sidebar-section-children"><a href="module-boxes_BoxBag.html">boxes/BoxBag</a></div><div class="sidebar-section-children"><a href="module-boxes_BoxBase.html">boxes/BoxBase</a></div><div class="sidebar-section-children"><a href="module-boxes_BoxConnector.html">boxes/BoxConnector</a></div><div class="sidebar-section-children"><a href="module-boxes_TextGrid.html">boxes/TextGrid</a></div><div class="sidebar-section-children"><a href="module-boxes_TextGridContent.html">boxes/TextGridContent</a></div><div class="sidebar-section-children"><a href="module-media_ActiveMediaBag.html">media/ActiveMediaBag</a></div><div class="sidebar-section-children"><a href="module-media_ActiveMediaPlayer.html">media/ActiveMediaPlayer</a></div><div class="sidebar-section-children"><a href="module-media_AudioBuffer.html">media/AudioBuffer</a></div><div class="sidebar-section-children"><a href="module-media_EventSounds.html">media/EventSounds</a></div><div class="sidebar-section-children"><a href="module-media_EventSoundsElement.html">media/EventSoundsElement</a></div><div class="sidebar-section-children"><a href="module-media_MediaContent.html">media/MediaContent</a></div><div class="sidebar-section-children"><a href="module-media_MidiAudioPlayer.html">media/MidiAudioPlayer</a></div><div class="sidebar-section-children"><a href="module-project_JClicProject.html">project/JClicProject</a></div><div class="sidebar-section-children"><a href="module-project_ProjectSettings.html">project/ProjectSettings</a></div><div class="sidebar-section-children"><a href="module-report_ActionReg.html">report/ActionReg</a></div><div class="sidebar-section-children"><a href="module-report_ActivityReg.html">report/ActivityReg</a></div><div class="sidebar-section-children"><a href="module-report_EncryptMin.html">report/EncryptMin</a></div><div class="sidebar-section-children"><a href="module-report_Reporter.html">report/Reporter</a></div><div class="sidebar-section-children"><a href="module-report_SCORM.html">report/SCORM</a></div><div class="sidebar-section-children"><a href="module-report_SequenceReg.html">report/SequenceReg</a></div><div class="sidebar-section-children"><a href="module-report_SessionReg.html">report/SessionReg</a></div><div class="sidebar-section-children"><a href="module-report_SessionStorageReporter.html">report/SessionStorageReporter</a></div><div class="sidebar-section-children"><a href="module-report_TCPReporter.html">report/TCPReporter</a></div><div class="sidebar-section-children"><a href="module-shapers_ClassicJigSaw.html">shapers/ClassicJigSaw</a></div><div class="sidebar-section-children"><a href="module-shapers_Holes.html">shapers/Holes</a></div><div class="sidebar-section-children"><a href="module-shapers_JigSaw.html">shapers/JigSaw</a></div><div class="sidebar-section-children"><a href="module-shapers_Rectangular.html">shapers/Rectangular</a></div><div class="sidebar-section-children"><a href="module-shapers_Shaper.html">shapers/Shaper</a></div><div class="sidebar-section-children"><a href="module-shapers_TriangularJigSaw.html">shapers/TriangularJigSaw</a></div><div class="sidebar-section-children"><a href="module-skins_BlueSkin.html">skins/BlueSkin</a></div><div class="sidebar-section-children"><a href="module-skins_Counter.html">skins/Counter</a></div><div class="sidebar-section-children"><a href="module-skins_CustomSkin.html">skins/CustomSkin</a></div><div class="sidebar-section-children"><a href="module-skins_DefaultSkin.html">skins/DefaultSkin</a></div><div class="sidebar-section-children"><a href="module-skins_EmptySkin.html">skins/EmptySkin</a></div><div class="sidebar-section-children"><a href="module-skins_GreenSkin.html">skins/GreenSkin</a></div><div class="sidebar-section-children"><a href="module-skins_MiniSkin.html">skins/MiniSkin</a></div><div class="sidebar-section-children"><a href="module-skins_OrangeSkin.html">skins/OrangeSkin</a></div><div class="sidebar-section-children"><a href="module-skins_SimpleSkin.html">skins/SimpleSkin</a></div><div class="sidebar-section-children"><a href="module-skins_Skin.html">skins/Skin</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="xnPDc3I_kKVhPtm1lO4E8"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-AWT.Action.html">Action</a></div><div class="sidebar-section-children"><a href="module-AWT.Container.html">Container</a></div><div class="sidebar-section-children"><a href="module-AWT.Dimension.html">Dimension</a></div><div class="sidebar-section-children"><a href="module-AWT.Ellipse.html">Ellipse</a></div><div class="sidebar-section-children"><a href="module-AWT.Font.html">Font</a></div><div class="sidebar-section-children"><a href="module-AWT.Gradient.html">Gradient</a></div><div class="sidebar-section-children"><a href="module-AWT.Path.html">Path</a></div><div class="sidebar-section-children"><a href="module-AWT.PathStroke.html">PathStroke</a></div><div class="sidebar-section-children"><a href="module-AWT.Point.html">Point</a></div><div class="sidebar-section-children"><a href="module-AWT.Rectangle.html">Rectangle</a></div><div class="sidebar-section-children"><a href="module-AWT.Shape.html">Shape</a></div><div class="sidebar-section-children"><a href="module-AWT.Stroke.html">Stroke</a></div><div class="sidebar-section-children"><a href="module-AWT.Timer.html">Timer</a></div><div class="sidebar-section-children"><a href="module-Activity.Activity.html">Activity</a></div><div class="sidebar-section-children"><a href="module-Activity.ActivityPanel.html">ActivityPanel</a></div><div class="sidebar-section-children"><a href="module-JClicPlayer.JClicPlayer.html">JClicPlayer</a></div><div class="sidebar-section-children"><a href="module-PlayerHistory.PlayerHistory.html">PlayerHistory</a></div><div class="sidebar-section-children"><a href="module-activities_associations_ComplexAssociation.ComplexAssociation.html">ComplexAssociation</a></div><div class="sidebar-section-children"><a href="module-activities_associations_ComplexAssociation.ComplexAssociationPanel.html">ComplexAssociationPanel</a></div><div class="sidebar-section-children"><a href="module-activities_associations_SimpleAssociation.SimpleAssociation.html">SimpleAssociation</a></div><div class="sidebar-section-children"><a href="module-activities_associations_SimpleAssociation.SimpleAssociationPanel.html">SimpleAssociationPanel</a></div><div class="sidebar-section-children"><a href="module-activities_memory_MemoryGame.MemoryGame.html">MemoryGame</a></div><div class="sidebar-section-children"><a href="module-activities_memory_MemoryGame.MemoryGamePanel.html">MemoryGamePanel</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Explore.Explore.html">Explore</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Explore.ExplorePanel.html">ExplorePanel</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Identify.Identify.html">Identify</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Identify.IdentifyPanel.html">IdentifyPanel</a></div><div class="sidebar-section-children"><a href="module-activities_panels_InformationScreen.InformationScreen.html">InformationScreen</a></div><div class="sidebar-section-children"><a href="module-activities_panels_InformationScreen.InformationScreenPanel.html">InformationScreenPanel</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Menu.Menu.html">Menu</a></div><div class="sidebar-section-children"><a href="module-activities_panels_Menu.MenuPanel.html">MenuPanel</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_DoublePuzzle.DoublePuzzle.html">DoublePuzzle</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_DoublePuzzle.DoublePuzzlePanel.html">DoublePuzzlePanel</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_ExchangePuzzle.ExchangePuzzle.html">ExchangePuzzle</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_ExchangePuzzle-ExchangePuzzlePanel.html">ExchangePuzzlePanel</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_HolePuzzle.HolePuzzle.html">HolePuzzle</a></div><div class="sidebar-section-children"><a href="module-activities_puzzles_HolePuzzle.HolePuzzlePanel.html">HolePuzzlePanel</a></div><div class="sidebar-section-children"><a href="module-activities_text_Complete.Complete.html">Complete</a></div><div class="sidebar-section-children"><a href="module-activities_text_Complete.CompletePanel.html">CompletePanel</a></div><div class="sidebar-section-children"><a href="module-activities_text_Evaluator.BasicEvaluator.html">BasicEvaluator</a></div><div class="sidebar-section-children"><a href="module-activities_text_Evaluator.ComplexEvaluator.html">ComplexEvaluator</a></div><div class="sidebar-section-children"><a href="module-activities_text_Evaluator.Evaluator.html">Evaluator</a></div><div class="sidebar-section-children"><a href="module-activities_text_FillInBlanks.FillInBlanks.html">FillInBlanks</a></div><div class="sidebar-section-children"><a href="module-activities_text_FillInBlanks.FillInBlanksPanel.html">FillInBlanksPanel</a></div><div class="sidebar-section-children"><a href="module-activities_text_IdentifyText.IdentifyText.html">IdentifyText</a></div><div class="sidebar-section-children"><a href="module-activities_text_IdentifyText-IdentifyTextPanel.html">IdentifyTextPanel</a></div><div class="sidebar-section-children"><a href="module-activities_text_OrderText.OrderText.html">OrderText</a></div><div class="sidebar-section-children"><a href="module-activities_text_OrderText.OrderTextPanel.html">OrderTextPanel</a></div><div class="sidebar-section-children"><a href="module-activities_text_TextActivityBase.TextActivityBase.html">TextActivityBase</a></div><div class="sidebar-section-children"><a href="module-activities_text_TextActivityBase.TextActivityBasePanel.html">TextActivityBasePanel</a></div><div class="sidebar-section-children"><a href="module-activities_text_TextActivityDocument.TextActivityDocument.html">TextActivityDocument</a></div><div class="sidebar-section-children"><a href="module-activities_text_TextActivityDocument.TextTarget.html">TextTarget</a></div><div class="sidebar-section-children"><a href="module-activities_text_WrittenAnswer.WrittenAnswer.html">WrittenAnswer</a></div><div class="sidebar-section-children"><a href="module-activities_text_WrittenAnswer.WrittenAnswerPanel.html">WrittenAnswerPanel</a></div><div class="sidebar-section-children"><a href="module-activities_textGrid_CrossWord.CrossWord.html">CrossWord</a></div><div class="sidebar-section-children"><a href="module-activities_textGrid_CrossWord.CrossWordPanel.html">CrossWordPanel</a></div><div class="sidebar-section-children"><a href="module-activities_textGrid_WordSearch.WordSearch.html">WordSearch</a></div><div class="sidebar-section-children"><a href="module-activities_textGrid_WordSearch.WordSearchPanel.html">WordSearchPanel</a></div><div class="sidebar-section-children"><a href="module-automation_AutoContentProvider.AutoContentProvider.html">AutoContentProvider</a></div><div class="sidebar-section-children"><a href="module-automation_AutoContentProvider.AutoContentProvider.ActiveBagContentKit.html">ActiveBagContentKit</a></div><div class="sidebar-section-children"><a href="module-automation_arith_Arith.Arith.html">Arith</a></div><div class="sidebar-section-children"><a href="module-automation_arith_Arith.Arith.Operator.html">Operator</a></div><div class="sidebar-section-children"><a href="module-bags_ActivitySequence.ActivitySequence.html">ActivitySequence</a></div><div class="sidebar-section-children"><a href="module-bags_ActivitySequenceElement.ActivitySequenceElement.html">ActivitySequenceElement</a></div><div class="sidebar-section-children"><a href="module-bags_ActivitySequenceJump.ActivitySequenceJump.html">ActivitySequenceJump</a></div><div class="sidebar-section-children"><a href="module-bags_ConditionalJumpInfo.ConditionalJumpInfo.html">ConditionalJumpInfo</a></div><div class="sidebar-section-children"><a href="module-bags_JumpInfo.JumpInfo.html">JumpInfo</a></div><div class="sidebar-section-children"><a href="module-bags_MediaBag.MediaBag.html">MediaBag</a></div><div class="sidebar-section-children"><a href="module-bags_MediaBagElement.MediaBagElement.html">MediaBagElement</a></div><div class="sidebar-section-children"><a href="module-boxes_AbstractBox.AbstractBox.html">AbstractBox</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBagContent.ActiveBagContent.html">ActiveBagContent</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBox.ActiveBox.html">ActiveBox</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxBag.ActiveBoxBag.html">ActiveBoxBag</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxContent.ActiveBoxContent.html">ActiveBoxContent</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxContent.AlignType.html">AlignType</a></div><div class="sidebar-section-children"><a href="module-boxes_ActiveBoxGrid.ActiveBoxGrid.html">ActiveBoxGrid</a></div><div class="sidebar-section-children"><a href="module-boxes_BoxBag.BoxBag.html">BoxBag</a></div><div class="sidebar-section-children"><a href="module-boxes_BoxBase.BoxBase.html">BoxBase</a></div><div class="sidebar-section-children"><a href="module-boxes_BoxConnector.BoxConnector.html">BoxConnector</a></div><div class="sidebar-section-children"><a href="module-boxes_TextGrid.TextGrid.html">TextGrid</a></div><div class="sidebar-section-children"><a href="module-boxes_TextGridContent.TextGridContent.html">TextGridContent</a></div><div class="sidebar-section-children"><a href="module-media_ActiveMediaBag.ActiveMediaBag.html">ActiveMediaBag</a></div><div class="sidebar-section-children"><a href="module-media_ActiveMediaPlayer.ActiveMediaPlayer.html">ActiveMediaPlayer</a></div><div class="sidebar-section-children"><a href="module-media_AudioBuffer.AudioBuffer.html">AudioBuffer</a></div><div class="sidebar-section-children"><a href="module-media_EventSounds.EventSounds.html">EventSounds</a></div><div class="sidebar-section-children"><a href="module-media_EventSoundsElement.EventSoundsElement.html">EventSoundsElement</a></div><div class="sidebar-section-children"><a href="module-media_MediaContent.MediaContent.html">MediaContent</a></div><div class="sidebar-section-children"><a href="module-media_MidiAudioPlayer.MidiAudioPlayer.html">MidiAudioPlayer</a></div><div class="sidebar-section-children"><a href="module-project_JClicProject.JClicProject.html">JClicProject</a></div><div class="sidebar-section-children"><a href="module-project_ProjectSettings.ProjectSettings.html">ProjectSettings</a></div><div class="sidebar-section-children"><a href="module-report_ActionReg.ActionReg.html">ActionReg</a></div><div class="sidebar-section-children"><a href="module-report_ActivityReg.ActivityReg.html">ActivityReg</a></div><div class="sidebar-section-children"><a href="module-report_EncryptMin.Encryption.html">Encryption</a></div><div class="sidebar-section-children"><a href="module-report_Reporter.Reporter.html">Reporter</a></div><div class="sidebar-section-children"><a href="module-report_Reporter.ReporterInfo.html">ReporterInfo</a></div><div class="sidebar-section-children"><a href="module-report_SCORM.SCORM.html">SCORM</a></div><div class="sidebar-section-children"><a href="module-report_SequenceReg.SequenceReg.html">SequenceReg</a></div><div class="sidebar-section-children"><a href="module-report_SequenceReg.SequenceRegInfo.html">SequenceRegInfo</a></div><div class="sidebar-section-children"><a href="module-report_SessionReg.SessionReg.html">SessionReg</a></div><div class="sidebar-section-children"><a href="module-report_SessionReg.SessionRegInfo.html">SessionRegInfo</a></div><div class="sidebar-section-children"><a href="module-report_SessionStorageReporter.SessionStorageReporter.html">SessionStorageReporter</a></div><div class="sidebar-section-children"><a href="module-report_TCPReporter.ReportBean.html">ReportBean</a></div><div class="sidebar-section-children"><a href="module-report_TCPReporter.TCPReporter.html">TCPReporter</a></div><div class="sidebar-section-children"><a href="module-shapers_ClassicJigSaw.ClassicJigSaw.html">ClassicJigSaw</a></div><div class="sidebar-section-children"><a href="module-shapers_Holes.Holes.html">Holes</a></div><div class="sidebar-section-children"><a href="module-shapers_JigSaw.JigSaw.html">JigSaw</a></div><div class="sidebar-section-children"><a href="module-shapers_Rectangular.Rectangular.html">Rectangular</a></div><div class="sidebar-section-children"><a href="module-shapers_Shaper.Shaper.html">Shaper</a></div><div class="sidebar-section-children"><a href="module-shapers_TriangularJigSaw.TriangularJigSaw.html">TriangularJigSaw</a></div><div class="sidebar-section-children"><a href="module-skins_BlueSkin.BlueSkin.html">BlueSkin</a></div><div class="sidebar-section-children"><a href="module-skins_Counter.Counter.html">Counter</a></div><div class="sidebar-section-children"><a href="module-skins_CustomSkin.CustomSkin.html">CustomSkin</a></div><div class="sidebar-section-children"><a href="module-skins_DefaultSkin.DefaultSkin.html">DefaultSkin</a></div><div class="sidebar-section-children"><a href="module-skins_EmptySkin.EmptySkin.html">EmptySkin</a></div><div class="sidebar-section-children"><a href="module-skins_GreenSkin.GreenSkin.html">GreenSkin</a></div><div class="sidebar-section-children"><a href="module-skins_MiniSkin.MiniSkin.html">MiniSkin</a></div><div class="sidebar-section-children"><a href="module-skins_OrangeSkin.OrangeSkin.html">OrangeSkin</a></div><div class="sidebar-section-children"><a href="module-skins_SimpleSkin.SimpleSkin.html">SimpleSkin</a></div><div class="sidebar-section-children"><a href="module-skins_Skin.Skin.html">Skin</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="xJuSofp4IKU_YxKjABy4G"><div>Externals</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="external-AudioContext.html">AudioContext</a></div><div class="sidebar-section-children"><a href="external-CanvasRenderingContext2D.html">CanvasRenderingContext2D</a></div><div class="sidebar-section-children"><a href="external-Collator.html">Collator</a></div><div class="sidebar-section-children"><a href="external-Date.html">Date</a></div><div class="sidebar-section-children"><a href="external-Event.html">Event</a></div><div class="sidebar-section-children"><a href="external-HTMLAudioElement.html">HTMLAudioElement</a></div><div class="sidebar-section-children"><a href="external-HTMLElement.html">HTMLElement</a></div><div class="sidebar-section-children"><a href="external-HTMLImageElement.html">HTMLImageElement</a></div><div class="sidebar-section-children"><a href="external-HTMLStyleElement.html">HTMLStyleElement</a></div><div class="sidebar-section-children"><a href="external-Instrument.html">Instrument</a></div><div class="sidebar-section-children"><a href="external-JSZip.html">JSZip</a></div><div class="sidebar-section-children"><a href="external-MediaRecorder.html">MediaRecorder</a></div><div class="sidebar-section-children"><a href="external-MidiPlayerJS.html">MidiPlayerJS</a></div><div class="sidebar-section-children"><a href="external-NamedNodeMap.html">NamedNodeMap</a></div><div class="sidebar-section-children"><a href="external-Promise.html">Promise</a></div><div class="sidebar-section-children"><a href="external-Storage.html">Storage</a></div><div class="sidebar-section-children"><a href="external-jQuery.html">jQuery</a></div><div class="sidebar-section-children"><a href="external-jqXHR.html">jqXHR</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>